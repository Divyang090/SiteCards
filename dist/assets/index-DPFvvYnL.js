(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(c){if(c.ep)return;c.ep=!0;const f=i(c);fetch(c.href,f)}})();function Sx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uu={exports:{}},ti={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function a1(){if(x0)return ti;x0=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(l,c,f){var d=null;if(f!==void 0&&(d=""+f),c.key!==void 0&&(d=""+c.key),"key"in c){f={};for(var h in c)h!=="key"&&(f[h]=c[h])}else f=c;return c=f.ref,{$$typeof:t,type:l,key:d,ref:c!==void 0?c:null,props:f}}return ti.Fragment=s,ti.jsx=i,ti.jsxs=i,ti}var y0;function r1(){return y0||(y0=1,Uu.exports=a1()),Uu.exports}var a=r1(),Bu={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function i1(){if(b0)return ke;b0=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(S){return S===null||typeof S!="object"?null:(S=y&&S[y]||S["@@iterator"],typeof S=="function"?S:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,E={};function C(S,M,O){this.props=S,this.context=M,this.refs=E,this.updater=O||N}C.prototype.isReactComponent={},C.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},C.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function k(){}k.prototype=C.prototype;function A(S,M,O){this.props=S,this.context=M,this.refs=E,this.updater=O||N}var D=A.prototype=new k;D.constructor=A,w(D,C.prototype),D.isPureReactComponent=!0;var V=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},U=Object.prototype.hasOwnProperty;function z(S,M,O,se,J,ie){return O=ie.ref,{$$typeof:t,type:S,key:M,ref:O!==void 0?O:null,props:ie}}function q(S,M){return z(S.type,M,void 0,void 0,void 0,S.props)}function te(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function ce(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(O){return M[O]})}var $=/\/+/g;function G(S,M){return typeof S=="object"&&S!==null&&S.key!=null?ce(""+S.key):M.toString(36)}function ae(){}function ee(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ae,ae):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function de(S,M,O,se,J){var ie=typeof S;(ie==="undefined"||ie==="boolean")&&(S=null);var fe=!1;if(S===null)fe=!0;else switch(ie){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(S.$$typeof){case t:case s:fe=!0;break;case g:return fe=S._init,de(fe(S._payload),M,O,se,J)}}if(fe)return J=J(S),fe=se===""?"."+G(S,0):se,V(J)?(O="",fe!=null&&(O=fe.replace($,"$&/")+"/"),de(J,M,O,"",function(Re){return Re})):J!=null&&(te(J)&&(J=q(J,O+(J.key==null||S&&S.key===J.key?"":(""+J.key).replace($,"$&/")+"/")+fe)),M.push(J)),1;fe=0;var Le=se===""?".":se+":";if(V(S))for(var he=0;he<S.length;he++)se=S[he],ie=Le+G(se,he),fe+=de(se,M,O,ie,J);else if(he=v(S),typeof he=="function")for(S=he.call(S),he=0;!(se=S.next()).done;)se=se.value,ie=Le+G(se,he++),fe+=de(se,M,O,ie,J);else if(ie==="object"){if(typeof S.then=="function")return de(ee(S),M,O,se,J);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return fe}function R(S,M,O){if(S==null)return S;var se=[],J=0;return de(S,se,"","",function(ie){return M.call(O,ie,J++)}),se}function B(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(O){(S._status===0||S._status===-1)&&(S._status=1,S._result=O)},function(O){(S._status===0||S._status===-1)&&(S._status=2,S._result=O)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var F=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function Q(){}return ke.Children={map:R,forEach:function(S,M,O){R(S,function(){M.apply(this,arguments)},O)},count:function(S){var M=0;return R(S,function(){M++}),M},toArray:function(S){return R(S,function(M){return M})||[]},only:function(S){if(!te(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},ke.Component=C,ke.Fragment=i,ke.Profiler=c,ke.PureComponent=A,ke.StrictMode=l,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ke.__COMPILER_RUNTIME={__proto__:null,c:function(S){return L.H.useMemoCache(S)}},ke.cache=function(S){return function(){return S.apply(null,arguments)}},ke.cloneElement=function(S,M,O){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var se=w({},S.props),J=S.key,ie=void 0;if(M!=null)for(fe in M.ref!==void 0&&(ie=void 0),M.key!==void 0&&(J=""+M.key),M)!U.call(M,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&M.ref===void 0||(se[fe]=M[fe]);var fe=arguments.length-2;if(fe===1)se.children=O;else if(1<fe){for(var Le=Array(fe),he=0;he<fe;he++)Le[he]=arguments[he+2];se.children=Le}return z(S.type,J,void 0,void 0,ie,se)},ke.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ke.createElement=function(S,M,O){var se,J={},ie=null;if(M!=null)for(se in M.key!==void 0&&(ie=""+M.key),M)U.call(M,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(J[se]=M[se]);var fe=arguments.length-2;if(fe===1)J.children=O;else if(1<fe){for(var Le=Array(fe),he=0;he<fe;he++)Le[he]=arguments[he+2];J.children=Le}if(S&&S.defaultProps)for(se in fe=S.defaultProps,fe)J[se]===void 0&&(J[se]=fe[se]);return z(S,ie,void 0,void 0,null,J)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(S){return{$$typeof:h,render:S}},ke.isValidElement=te,ke.lazy=function(S){return{$$typeof:g,_payload:{_status:-1,_result:S},_init:B}},ke.memo=function(S,M){return{$$typeof:x,type:S,compare:M===void 0?null:M}},ke.startTransition=function(S){var M=L.T,O={};L.T=O;try{var se=S(),J=L.S;J!==null&&J(O,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Q,F)}catch(ie){F(ie)}finally{L.T=M}},ke.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ke.use=function(S){return L.H.use(S)},ke.useActionState=function(S,M,O){return L.H.useActionState(S,M,O)},ke.useCallback=function(S,M){return L.H.useCallback(S,M)},ke.useContext=function(S){return L.H.useContext(S)},ke.useDebugValue=function(){},ke.useDeferredValue=function(S,M){return L.H.useDeferredValue(S,M)},ke.useEffect=function(S,M,O){var se=L.H;if(typeof O=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(S,M)},ke.useId=function(){return L.H.useId()},ke.useImperativeHandle=function(S,M,O){return L.H.useImperativeHandle(S,M,O)},ke.useInsertionEffect=function(S,M){return L.H.useInsertionEffect(S,M)},ke.useLayoutEffect=function(S,M){return L.H.useLayoutEffect(S,M)},ke.useMemo=function(S,M){return L.H.useMemo(S,M)},ke.useOptimistic=function(S,M){return L.H.useOptimistic(S,M)},ke.useReducer=function(S,M,O){return L.H.useReducer(S,M,O)},ke.useRef=function(S){return L.H.useRef(S)},ke.useState=function(S){return L.H.useState(S)},ke.useSyncExternalStore=function(S,M,O){return L.H.useSyncExternalStore(S,M,O)},ke.useTransition=function(){return L.H.useTransition()},ke.version="19.1.1",ke}var v0;function Hd(){return v0||(v0=1,Bu.exports=i1()),Bu.exports}var b=Hd();const $d=Sx(b);var Pu={exports:{}},ni={},zu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function l1(){return j0||(j0=1,(function(t){function s(R,B){var F=R.length;R.push(B);e:for(;0<F;){var Q=F-1>>>1,S=R[Q];if(0<c(S,B))R[Q]=B,R[F]=S,F=Q;else break e}}function i(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var B=R[0],F=R.pop();if(F!==B){R[0]=F;e:for(var Q=0,S=R.length,M=S>>>1;Q<M;){var O=2*(Q+1)-1,se=R[O],J=O+1,ie=R[J];if(0>c(se,F))J<S&&0>c(ie,se)?(R[Q]=ie,R[J]=F,Q=J):(R[Q]=se,R[O]=F,Q=O);else if(J<S&&0>c(ie,F))R[Q]=ie,R[J]=F,Q=J;else break e}}return B}function c(R,B){var F=R.sortIndex-B.sortIndex;return F!==0?F:R.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;t.unstable_now=function(){return f.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var p=[],x=[],g=1,y=null,v=3,N=!1,w=!1,E=!1,C=!1,k=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function V(R){for(var B=i(x);B!==null;){if(B.callback===null)l(x);else if(B.startTime<=R)l(x),B.sortIndex=B.expirationTime,s(p,B);else break;B=i(x)}}function L(R){if(E=!1,V(R),!w)if(i(p)!==null)w=!0,U||(U=!0,G());else{var B=i(x);B!==null&&de(L,B.startTime-R)}}var U=!1,z=-1,q=5,te=-1;function ce(){return C?!0:!(t.unstable_now()-te<q)}function $(){if(C=!1,U){var R=t.unstable_now();te=R;var B=!0;try{e:{w=!1,E&&(E=!1,A(z),z=-1),N=!0;var F=v;try{t:{for(V(R),y=i(p);y!==null&&!(y.expirationTime>R&&ce());){var Q=y.callback;if(typeof Q=="function"){y.callback=null,v=y.priorityLevel;var S=Q(y.expirationTime<=R);if(R=t.unstable_now(),typeof S=="function"){y.callback=S,V(R),B=!0;break t}y===i(p)&&l(p),V(R)}else l(p);y=i(p)}if(y!==null)B=!0;else{var M=i(x);M!==null&&de(L,M.startTime-R),B=!1}}break e}finally{y=null,v=F,N=!1}B=void 0}}finally{B?G():U=!1}}}var G;if(typeof D=="function")G=function(){D($)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ee=ae.port2;ae.port1.onmessage=$,G=function(){ee.postMessage(null)}}else G=function(){k($,0)};function de(R,B){z=k(function(){R(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(R){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var F=v;v=B;try{return R()}finally{v=F}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(R,B){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var F=v;v=R;try{return B()}finally{v=F}},t.unstable_scheduleCallback=function(R,B,F){var Q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,R){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=F+S,R={id:g++,callback:B,priorityLevel:R,startTime:F,expirationTime:S,sortIndex:-1},F>Q?(R.sortIndex=F,s(x,R),i(p)===null&&R===i(x)&&(E?(A(z),z=-1):E=!0,de(L,F-Q))):(R.sortIndex=S,s(p,R),w||N||(w=!0,U||(U=!0,G()))),R},t.unstable_shouldYield=ce,t.unstable_wrapCallback=function(R){var B=v;return function(){var F=v;v=B;try{return R.apply(this,arguments)}finally{v=F}}}})(Vu)),Vu}var w0;function o1(){return w0||(w0=1,zu.exports=l1()),zu.exports}var Fu={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function c1(){if(N0)return At;N0=1;var t=Hd();function s(p){var x="https://react.dev/errors/"+p;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)x+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var l={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(p,x,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:y==null?null:""+y,children:p,containerInfo:x,implementation:g}}var d=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,x){if(p==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,At.createPortal=function(p,x){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(s(299));return f(p,x,null,g)},At.flushSync=function(p){var x=d.T,g=l.p;try{if(d.T=null,l.p=2,p)return p()}finally{d.T=x,l.p=g,l.d.f()}},At.preconnect=function(p,x){typeof p=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,l.d.C(p,x))},At.prefetchDNS=function(p){typeof p=="string"&&l.d.D(p)},At.preinit=function(p,x){if(typeof p=="string"&&x&&typeof x.as=="string"){var g=x.as,y=h(g,x.crossOrigin),v=typeof x.integrity=="string"?x.integrity:void 0,N=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;g==="style"?l.d.S(p,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:N}):g==="script"&&l.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:N,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},At.preinitModule=function(p,x){if(typeof p=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var g=h(x.as,x.crossOrigin);l.d.M(p,{crossOrigin:g,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&l.d.M(p)},At.preload=function(p,x){if(typeof p=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var g=x.as,y=h(g,x.crossOrigin);l.d.L(p,g,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},At.preloadModule=function(p,x){if(typeof p=="string")if(x){var g=h(x.as,x.crossOrigin);l.d.m(p,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:g,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else l.d.m(p)},At.requestFormReset=function(p){l.d.r(p)},At.unstable_batchedUpdates=function(p,x){return p(x)},At.useFormState=function(p,x,g){return d.H.useFormState(p,x,g)},At.useFormStatus=function(){return d.H.useHostTransitionStatus()},At.version="19.1.1",At}var S0;function Cx(){if(S0)return Fu.exports;S0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Fu.exports=c1(),Fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function u1(){if(C0)return ni;C0=1;var t=o1(),s=Hd(),i=Cx();function l(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(l(188))}function p(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(l(188));return n!==e?null:e}for(var r=e,o=n;;){var u=r.return;if(u===null)break;var m=u.alternate;if(m===null){if(o=u.return,o!==null){r=o;continue}break}if(u.child===m.child){for(m=u.child;m;){if(m===r)return h(u),e;if(m===o)return h(u),n;m=m.sibling}throw Error(l(188))}if(r.return!==o.return)r=u,o=m;else{for(var j=!1,T=u.child;T;){if(T===r){j=!0,r=u,o=m;break}if(T===o){j=!0,o=u,r=m;break}T=T.sibling}if(!j){for(T=m.child;T;){if(T===r){j=!0,r=m,o=u;break}if(T===o){j=!0,o=m,r=u;break}T=T.sibling}if(!j)throw Error(l(189))}}if(r.alternate!==o)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),D=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=$&&e[$]||e["@@iterator"],typeof e=="function"?e:null)}var ae=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ae?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case L:return"Suspense";case U:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case D:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case q:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var de=Array.isArray,R=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},Q=[],S=-1;function M(e){return{current:e}}function O(e){0>S||(e.current=Q[S],Q[S]=null,S--)}function se(e,n){S++,Q[S]=e.current,e.current=n}var J=M(null),ie=M(null),fe=M(null),Le=M(null);function he(e,n){switch(se(fe,n),se(ie,e),se(J,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Yp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Yp(n),e=Gp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(J),se(J,e)}function Re(){O(J),O(ie),O(fe)}function ut(e){e.memoizedState!==null&&se(Le,e);var n=J.current,r=Gp(n,e.type);n!==r&&(se(ie,e),se(J,r))}function xt(e){ie.current===e&&(O(J),O(ie)),Le.current===e&&(O(Le),Qr._currentValue=F)}var rt=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,en=t.unstable_cancelCallback,Ai=t.unstable_shouldYield,ir=t.unstable_requestPaint,Qe=t.unstable_now,Gt=t.unstable_getCurrentPriorityLevel,W=t.unstable_ImmediatePriority,be=t.unstable_UserBlockingPriority,Ce=t.unstable_NormalPriority,Be=t.unstable_LowPriority,Ie=t.unstable_IdlePriority,ze=t.log,pn=t.unstable_setDisableYieldValue,_t=null,Rt=null;function Nn(e){if(typeof ze=="function"&&pn(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(_t,e)}catch{}}var Lt=Math.clz32?Math.clz32:To,So=Math.log,Co=Math.LN2;function To(e){return e>>>=0,e===0?32:31-(So(e)/Co|0)|0}var na=256,sa=4194304;function it(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function aa(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var u=0,m=e.suspendedLanes,j=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?u=it(o):(j&=T,j!==0?u=it(j):r||(r=T&~e,r!==0&&(u=it(r))))):(T=o&~m,T!==0?u=it(T):j!==0?u=it(j):r||(r=o&~e,r!==0&&(u=it(r)))),u===0?0:n!==0&&n!==u&&(n&m)===0&&(m=u&-u,r=n&-n,m>=r||m===32&&(r&4194048)!==0)?n:u}function As(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ko(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Di(){var e=na;return na<<=1,(na&4194048)===0&&(na=256),e}function Mi(){var e=sa;return sa<<=1,(sa&62914560)===0&&(sa=4194304),e}function ne(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ue(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function me(e,n,r,o,u,m){var j=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,_=e.expirationTimes,X=e.hiddenUpdates;for(r=j&~r;0<r;){var re=31-Lt(r),oe=1<<re;T[re]=0,_[re]=-1;var K=X[re];if(K!==null)for(X[re]=null,re=0;re<K.length;re++){var Z=K[re];Z!==null&&(Z.lane&=-536870913)}r&=~oe}o!==0&&ge(e,o,0),m!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=m&~(j&~n))}function ge(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Lt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function Ae(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Lt(r),u=1<<o;u&n|e[o]&n&&(e[o]|=n),r&=~u}}function ve(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ot(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function tn(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:d0(e.type))}function Xb(e,n){var r=B.p;try{return B.p=e,n()}finally{B.p=r}}var es=Math.random().toString(36).slice(2),kt="__reactFiber$"+es,Pt="__reactProps$"+es,ra="__reactContainer$"+es,Eo="__reactEvents$"+es,Kb="__reactListeners$"+es,Zb="__reactHandles$"+es,Rf="__reactResources$"+es,lr="__reactMarker$"+es;function Ao(e){delete e[kt],delete e[Pt],delete e[Eo],delete e[Kb],delete e[Zb]}function ia(e){var n=e[kt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ra]||r[kt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Qp(e);e!==null;){if(r=e[kt])return r;e=Qp(e)}return n}e=r,r=e.parentNode}return null}function la(e){if(e=e[kt]||e[ra]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function or(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(l(33))}function oa(e){var n=e[Rf];return n||(n=e[Rf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(e){e[lr]=!0}var Lf=new Set,Of={};function Ds(e,n){ca(e,n),ca(e+"Capture",n)}function ca(e,n){for(Of[e]=n,e=0;e<n.length;e++)Lf.add(n[e])}var Qb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uf={},Bf={};function Ib(e){return rt.call(Bf,e)?!0:rt.call(Uf,e)?!1:Qb.test(e)?Bf[e]=!0:(Uf[e]=!0,!1)}function _i(e,n,r){if(Ib(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ri(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function On(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var Do,Pf;function ua(e){if(Do===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Do=n&&n[1]||"",Pf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Do+e+Pf}var Mo=!1;function _o(e,n){if(!e||Mo)return"";Mo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(Z){var K=Z}Reflect.construct(e,[],oe)}else{try{oe.call()}catch(Z){K=Z}e.call(oe.prototype)}}else{try{throw Error()}catch(Z){K=Z}(oe=e())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),j=m[0],T=m[1];if(j&&T){var _=j.split(`
`),X=T.split(`
`);for(u=o=0;o<_.length&&!_[o].includes("DetermineComponentFrameRoot");)o++;for(;u<X.length&&!X[u].includes("DetermineComponentFrameRoot");)u++;if(o===_.length||u===X.length)for(o=_.length-1,u=X.length-1;1<=o&&0<=u&&_[o]!==X[u];)u--;for(;1<=o&&0<=u;o--,u--)if(_[o]!==X[u]){if(o!==1||u!==1)do if(o--,u--,0>u||_[o]!==X[u]){var re=`
`+_[o].replace(" at new "," at ");return e.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",e.displayName)),re}while(1<=o&&0<=u);break}}}finally{Mo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ua(r):""}function Wb(e){switch(e.tag){case 26:case 27:case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return _o(e.type,!1);case 11:return _o(e.type.render,!1);case 1:return _o(e.type,!0);case 31:return ua("Activity");default:return""}}function zf(e){try{var n="";do n+=Wb(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jb(e){var n=Vf(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,m=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(j){o=""+j,m.call(this,j)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(j){o=""+j},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Li(e){e._valueTracker||(e._valueTracker=Jb(e))}function Ff(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Vf(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var e2=/[\n"\\]/g;function sn(e){return e.replace(e2,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ro(e,n,r,o,u,m,j,T){e.name="",j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?e.type=j:e.removeAttribute("type"),n!=null?j==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):j!=="submit"&&j!=="reset"||e.removeAttribute("value"),n!=null?Lo(e,j,nn(n)):r!=null?Lo(e,j,nn(r)):o!=null&&e.removeAttribute("value"),u==null&&m!=null&&(e.defaultChecked=!!m),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+nn(T):e.removeAttribute("name")}function Hf(e,n,r,o,u,m,j,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||n!=null))return;r=r!=null?""+nn(r):"",n=n!=null?""+nn(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(e.name=j)}function Lo(e,n,r){n==="number"&&Oi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function da(e,n,r,o){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&o&&(e[r].defaultSelected=!0)}else{for(r=""+nn(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function $f(e,n,r){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+nn(r):""}function qf(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(l(92));if(de(o)){if(1<o.length)throw Error(l(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=nn(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function fa(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var t2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yf(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||t2.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Gf(e,n,r){if(n!=null&&typeof n!="object")throw Error(l(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in n)o=n[u],n.hasOwnProperty(u)&&r[u]!==o&&Yf(e,u,o)}else for(var m in n)n.hasOwnProperty(m)&&Yf(e,m,n[m])}function Oo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),s2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ui(e){return s2.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Uo=null;function Bo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ma=null,ha=null;function Xf(e){var n=la(e);if(n&&(e=n.stateNode)){var r=e[Pt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Ro(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var u=o[Pt]||null;if(!u)throw Error(l(90));Ro(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ff(o)}break e;case"textarea":$f(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&da(e,!!r.multiple,n,!1)}}}var Po=!1;function Kf(e,n,r){if(Po)return e(n,r);Po=!0;try{var o=e(n);return o}finally{if(Po=!1,(ma!==null||ha!==null)&&(jl(),ma&&(n=ma,e=ha,ha=ma=null,Xf(n),e)))for(n=0;n<e.length;n++)Xf(e[n])}}function cr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Pt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(l(231,n,typeof r));return r}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=!1;if(Un)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){zo=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{zo=!1}var ts=null,Vo=null,Bi=null;function Zf(){if(Bi)return Bi;var e,n=Vo,r=n.length,o,u="value"in ts?ts.value:ts.textContent,m=u.length;for(e=0;e<r&&n[e]===u[e];e++);var j=r-e;for(o=1;o<=j&&n[r-o]===u[m-o];o++);return Bi=u.slice(e,1<o?1-o:void 0)}function Pi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Qf(){return!1}function zt(e){function n(r,o,u,m,j){this._reactName=r,this._targetInst=u,this.type=o,this.nativeEvent=m,this.target=j,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zi:Qf,this.isPropagationStopped=Qf,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var Ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vi=zt(Ms),dr=g({},Ms,{view:0,detail:0}),a2=zt(dr),Fo,Ho,fr,Fi=g({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fr&&(fr&&e.type==="mousemove"?(Fo=e.screenX-fr.screenX,Ho=e.screenY-fr.screenY):Ho=Fo=0,fr=e),Fo)},movementY:function(e){return"movementY"in e?e.movementY:Ho}}),If=zt(Fi),r2=g({},Fi,{dataTransfer:0}),i2=zt(r2),l2=g({},dr,{relatedTarget:0}),$o=zt(l2),o2=g({},Ms,{animationName:0,elapsedTime:0,pseudoElement:0}),c2=zt(o2),u2=g({},Ms,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d2=zt(u2),f2=g({},Ms,{data:0}),Wf=zt(f2),m2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g2(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=p2[e])?!!n[e]:!1}function qo(){return g2}var x2=g({},dr,{key:function(e){if(e.key){var n=m2[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Pi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qo,charCode:function(e){return e.type==="keypress"?Pi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y2=zt(x2),b2=g({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jf=zt(b2),v2=g({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qo}),j2=zt(v2),w2=g({},Ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),N2=zt(w2),S2=g({},Fi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C2=zt(S2),T2=g({},Ms,{newState:0,oldState:0}),k2=zt(T2),E2=[9,13,27,32],Yo=Un&&"CompositionEvent"in window,mr=null;Un&&"documentMode"in document&&(mr=document.documentMode);var A2=Un&&"TextEvent"in window&&!mr,em=Un&&(!Yo||mr&&8<mr&&11>=mr),tm=" ",nm=!1;function sm(e,n){switch(e){case"keyup":return E2.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function am(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pa=!1;function D2(e,n){switch(e){case"compositionend":return am(n);case"keypress":return n.which!==32?null:(nm=!0,tm);case"textInput":return e=n.data,e===tm&&nm?null:e;default:return null}}function M2(e,n){if(pa)return e==="compositionend"||!Yo&&sm(e,n)?(e=Zf(),Bi=Vo=ts=null,pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return em&&n.locale!=="ko"?null:n.data;default:return null}}var _2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_2[e.type]:n==="textarea"}function im(e,n,r,o){ma?ha?ha.push(o):ha=[o]:ma=o,n=kl(n,"onChange"),0<n.length&&(r=new Vi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var hr=null,pr=null;function R2(e){Vp(e,0)}function Hi(e){var n=or(e);if(Ff(n))return e}function lm(e,n){if(e==="change")return n}var om=!1;if(Un){var Go;if(Un){var Xo="oninput"in document;if(!Xo){var cm=document.createElement("div");cm.setAttribute("oninput","return;"),Xo=typeof cm.oninput=="function"}Go=Xo}else Go=!1;om=Go&&(!document.documentMode||9<document.documentMode)}function um(){hr&&(hr.detachEvent("onpropertychange",dm),pr=hr=null)}function dm(e){if(e.propertyName==="value"&&Hi(pr)){var n=[];im(n,pr,e,Bo(e)),Kf(R2,n)}}function L2(e,n,r){e==="focusin"?(um(),hr=n,pr=r,hr.attachEvent("onpropertychange",dm)):e==="focusout"&&um()}function O2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(pr)}function U2(e,n){if(e==="click")return Hi(n)}function B2(e,n){if(e==="input"||e==="change")return Hi(n)}function P2(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Xt=typeof Object.is=="function"?Object.is:P2;function gr(e,n){if(Xt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var u=r[o];if(!rt.call(n,u)||!Xt(e[u],n[u]))return!1}return!0}function fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mm(e,n){var r=fm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fm(r)}}function hm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?hm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Oi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Oi(e.document)}return n}function Ko(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var z2=Un&&"documentMode"in document&&11>=document.documentMode,ga=null,Zo=null,xr=null,Qo=!1;function gm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qo||ga==null||ga!==Oi(o)||(o=ga,"selectionStart"in o&&Ko(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xr&&gr(xr,o)||(xr=o,o=kl(Zo,"onSelect"),0<o.length&&(n=new Vi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ga)))}function _s(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var xa={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Io={},xm={};Un&&(xm=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Rs(e){if(Io[e])return Io[e];if(!xa[e])return e;var n=xa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in xm)return Io[e]=n[r];return e}var ym=Rs("animationend"),bm=Rs("animationiteration"),vm=Rs("animationstart"),V2=Rs("transitionrun"),F2=Rs("transitionstart"),H2=Rs("transitioncancel"),jm=Rs("transitionend"),wm=new Map,Wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wo.push("scrollEnd");function gn(e,n){wm.set(e,n),Ds(n,[e])}var Nm=new WeakMap;function an(e,n){if(typeof e=="object"&&e!==null){var r=Nm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:zf(n)},Nm.set(e,n),n)}return{value:e,source:n,stack:zf(n)}}var rn=[],ya=0,Jo=0;function $i(){for(var e=ya,n=Jo=ya=0;n<e;){var r=rn[n];rn[n++]=null;var o=rn[n];rn[n++]=null;var u=rn[n];rn[n++]=null;var m=rn[n];if(rn[n++]=null,o!==null&&u!==null){var j=o.pending;j===null?u.next=u:(u.next=j.next,j.next=u),o.pending=u}m!==0&&Sm(r,u,m)}}function qi(e,n,r,o){rn[ya++]=e,rn[ya++]=n,rn[ya++]=r,rn[ya++]=o,Jo|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ec(e,n,r,o){return qi(e,n,r,o),Yi(e)}function ba(e,n){return qi(e,null,null,n),Yi(e)}function Sm(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var u=!1,m=e.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(u=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,u&&n!==null&&(u=31-Lt(r),e=m.hiddenUpdates,o=e[u],o===null?e[u]=[n]:o.push(n),n.lane=r|536870912),m):null}function Yi(e){if(50<Hr)throw Hr=0,iu=null,Error(l(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var va={};function $2(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(e,n,r,o){return new $2(e,n,r,o)}function tc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,n){var r=e.alternate;return r===null?(r=Kt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cm(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Gi(e,n,r,o,u,m){var j=0;if(o=e,typeof e=="function")tc(e)&&(j=1);else if(typeof e=="string")j=Yv(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=Kt(31,r,n,u),e.elementType=te,e.lanes=m,e;case w:return Ls(r.children,u,m,n);case E:j=8,u|=24;break;case C:return e=Kt(12,r,n,u|2),e.elementType=C,e.lanes=m,e;case L:return e=Kt(13,r,n,u),e.elementType=L,e.lanes=m,e;case U:return e=Kt(19,r,n,u),e.elementType=U,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:case D:j=10;break e;case A:j=9;break e;case V:j=11;break e;case z:j=14;break e;case q:j=16,o=null;break e}j=29,r=Error(l(130,e===null?"null":typeof e,"")),o=null}return n=Kt(j,r,n,u),n.elementType=e,n.type=o,n.lanes=m,n}function Ls(e,n,r,o){return e=Kt(7,e,o,n),e.lanes=r,e}function nc(e,n,r){return e=Kt(6,e,null,n),e.lanes=r,e}function sc(e,n,r){return n=Kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ja=[],wa=0,Xi=null,Ki=0,ln=[],on=0,Os=null,Pn=1,zn="";function Us(e,n){ja[wa++]=Ki,ja[wa++]=Xi,Xi=e,Ki=n}function Tm(e,n,r){ln[on++]=Pn,ln[on++]=zn,ln[on++]=Os,Os=e;var o=Pn;e=zn;var u=32-Lt(o)-1;o&=~(1<<u),r+=1;var m=32-Lt(n)+u;if(30<m){var j=u-u%5;m=(o&(1<<j)-1).toString(32),o>>=j,u-=j,Pn=1<<32-Lt(n)+u|r<<u|o,zn=m+e}else Pn=1<<m|r<<u|o,zn=e}function ac(e){e.return!==null&&(Us(e,1),Tm(e,1,0))}function rc(e){for(;e===Xi;)Xi=ja[--wa],ja[wa]=null,Ki=ja[--wa],ja[wa]=null;for(;e===Os;)Os=ln[--on],ln[on]=null,zn=ln[--on],ln[on]=null,Pn=ln[--on],ln[on]=null}var Ut=null,tt=null,Pe=!1,Bs=null,Sn=!1,ic=Error(l(519));function Ps(e){var n=Error(l(418,""));throw vr(an(n,e)),ic}function km(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[kt]=e,n[Pt]=o,r){case"dialog":_e("cancel",n),_e("close",n);break;case"iframe":case"object":case"embed":_e("load",n);break;case"video":case"audio":for(r=0;r<qr.length;r++)_e(qr[r],n);break;case"source":_e("error",n);break;case"img":case"image":case"link":_e("error",n),_e("load",n);break;case"details":_e("toggle",n);break;case"input":_e("invalid",n),Hf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Li(n);break;case"select":_e("invalid",n);break;case"textarea":_e("invalid",n),qf(n,o.value,o.defaultValue,o.children),Li(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||qp(n.textContent,r)?(o.popover!=null&&(_e("beforetoggle",n),_e("toggle",n)),o.onScroll!=null&&_e("scroll",n),o.onScrollEnd!=null&&_e("scrollend",n),o.onClick!=null&&(n.onclick=El),n=!0):n=!1,n||Ps(e)}function Em(e){for(Ut=e.return;Ut;)switch(Ut.tag){case 5:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Ut=Ut.return}}function yr(e){if(e!==Ut)return!1;if(!Pe)return Em(e),Pe=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||wu(e.type,e.memoizedProps)),r=!r),r&&tt&&Ps(e),Em(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){tt=yn(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}tt=null}}else n===27?(n=tt,xs(e.type)?(e=Tu,Tu=null,tt=e):tt=n):tt=Ut?yn(e.stateNode.nextSibling):null;return!0}function br(){tt=Ut=null,Pe=!1}function Am(){var e=Bs;return e!==null&&(Ht===null?Ht=e:Ht.push.apply(Ht,e),Bs=null),e}function vr(e){Bs===null?Bs=[e]:Bs.push(e)}var lc=M(null),zs=null,Vn=null;function ns(e,n,r){se(lc,n._currentValue),n._currentValue=r}function Fn(e){e._currentValue=lc.current,O(lc)}function oc(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function cc(e,n,r,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var m=u.dependencies;if(m!==null){var j=u.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=u;for(var _=0;_<n.length;_++)if(T.context===n[_]){m.lanes|=r,T=m.alternate,T!==null&&(T.lanes|=r),oc(m.return,r,e),o||(j=null);break e}m=T.next}}else if(u.tag===18){if(j=u.return,j===null)throw Error(l(341));j.lanes|=r,m=j.alternate,m!==null&&(m.lanes|=r),oc(j,r,e),j=null}else j=u.child;if(j!==null)j.return=u;else for(j=u;j!==null;){if(j===e){j=null;break}if(u=j.sibling,u!==null){u.return=j.return,j=u;break}j=j.return}u=j}}function jr(e,n,r,o){e=null;for(var u=n,m=!1;u!==null;){if(!m){if((u.flags&524288)!==0)m=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var j=u.alternate;if(j===null)throw Error(l(387));if(j=j.memoizedProps,j!==null){var T=u.type;Xt(u.pendingProps.value,j.value)||(e!==null?e.push(T):e=[T])}}else if(u===Le.current){if(j=u.alternate,j===null)throw Error(l(387));j.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Qr):e=[Qr])}u=u.return}e!==null&&cc(n,e,r,o),n.flags|=262144}function Zi(e){for(e=e.firstContext;e!==null;){if(!Xt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vs(e){zs=e,Vn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return Dm(zs,e)}function Qi(e,n){return zs===null&&Vs(e),Dm(e,n)}function Dm(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Vn===null){if(e===null)throw Error(l(308));Vn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Vn=Vn.next=n;return r}var q2=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Y2=t.unstable_scheduleCallback,G2=t.unstable_NormalPriority,ht={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uc(){return{controller:new q2,data:new Map,refCount:0}}function wr(e){e.refCount--,e.refCount===0&&Y2(G2,function(){e.controller.abort()})}var Nr=null,dc=0,Na=0,Sa=null;function X2(e,n){if(Nr===null){var r=Nr=[];dc=0,Na=mu(),Sa={status:"pending",value:void 0,then:function(o){r.push(o)}}}return dc++,n.then(Mm,Mm),n}function Mm(){if(--dc===0&&Nr!==null){Sa!==null&&(Sa.status="fulfilled");var e=Nr;Nr=null,Na=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function K2(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(o.status="rejected",o.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),o}var _m=R.S;R.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&X2(e,n),_m!==null&&_m(e,n)};var Fs=M(null);function fc(){var e=Fs.current;return e!==null?e:Xe.pooledCache}function Ii(e,n){n===null?se(Fs,Fs.current):se(Fs,n.pool)}function Rm(){var e=fc();return e===null?null:{parent:ht._currentValue,pool:e}}var Sr=Error(l(460)),Lm=Error(l(474)),Wi=Error(l(542)),mc={then:function(){}};function Om(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ji(){}function Um(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Ji,Ji),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pm(e),e;default:if(typeof n.status=="string")n.then(Ji,Ji);else{if(e=Xe,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=o}},function(o){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Pm(e),e}throw Cr=n,Sr}}var Cr=null;function Bm(){if(Cr===null)throw Error(l(459));var e=Cr;return Cr=null,e}function Pm(e){if(e===Sr||e===Wi)throw Error(l(483))}var ss=!1;function hc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function as(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function rs(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ve&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,n=Yi(e),Sm(e,null,r),n}return qi(e,o,n,r),Yi(e)}function Tr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ae(e,r)}}function gc(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var u=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var j={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?u=m=j:m=m.next=j,r=r.next}while(r!==null);m===null?u=m=n:m=m.next=n}else u=m=n;r={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var xc=!1;function kr(){if(xc){var e=Sa;if(e!==null)throw e}}function Er(e,n,r,o){xc=!1;var u=e.updateQueue;ss=!1;var m=u.firstBaseUpdate,j=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var _=T,X=_.next;_.next=null,j===null?m=X:j.next=X,j=_;var re=e.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==j&&(T===null?re.firstBaseUpdate=X:T.next=X,re.lastBaseUpdate=_))}if(m!==null){var oe=u.baseState;j=0,re=X=_=null,T=m;do{var K=T.lane&-536870913,Z=K!==T.lane;if(Z?(Oe&K)===K:(o&K)===K){K!==0&&K===Na&&(xc=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ne=e,je=T;K=n;var qe=r;switch(je.tag){case 1:if(Ne=je.payload,typeof Ne=="function"){oe=Ne.call(qe,oe,K);break e}oe=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=je.payload,K=typeof Ne=="function"?Ne.call(qe,oe,K):Ne,K==null)break e;oe=g({},oe,K);break e;case 2:ss=!0}}K=T.callback,K!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=u.callbacks,Z===null?u.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(X=re=Z,_=oe):re=re.next=Z,j|=K;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,u.lastBaseUpdate=Z,u.shared.pending=null}}while(!0);re===null&&(_=oe),u.baseState=_,u.firstBaseUpdate=X,u.lastBaseUpdate=re,m===null&&(u.shared.lanes=0),ms|=j,e.lanes=j,e.memoizedState=oe}}function zm(e,n){if(typeof e!="function")throw Error(l(191,e));e.call(n)}function Vm(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)zm(r[e],n)}var Ca=M(null),el=M(0);function Fm(e,n){e=Kn,se(el,e),se(Ca,n),Kn=e|n.baseLanes}function yc(){se(el,Kn),se(Ca,Ca.current)}function bc(){Kn=el.current,O(Ca),O(el)}var is=0,Ee=null,He=null,dt=null,tl=!1,Ta=!1,Hs=!1,nl=0,Ar=0,ka=null,Z2=0;function lt(){throw Error(l(321))}function vc(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!Xt(e[r],n[r]))return!1;return!0}function jc(e,n,r,o,u,m){return is=m,Ee=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,R.H=e===null||e.memoizedState===null?Sh:Ch,Hs=!1,m=r(o,u),Hs=!1,Ta&&(m=$m(n,r,o,u)),Hm(e),m}function Hm(e){R.H=ol;var n=He!==null&&He.next!==null;if(is=0,dt=He=Ee=null,tl=!1,Ar=0,ka=null,n)throw Error(l(300));e===null||bt||(e=e.dependencies,e!==null&&Zi(e)&&(bt=!0))}function $m(e,n,r,o){Ee=e;var u=0;do{if(Ta&&(ka=null),Ar=0,Ta=!1,25<=u)throw Error(l(301));if(u+=1,dt=He=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}R.H=nv,m=n(r,o)}while(Ta);return m}function Q2(){var e=R.H,n=e.useState()[0];return n=typeof n.then=="function"?Dr(n):n,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(Ee.flags|=1024),n}function wc(){var e=nl!==0;return nl=0,e}function Nc(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Sc(e){if(tl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}tl=!1}is=0,dt=He=Ee=null,Ta=!1,Ar=nl=0,ka=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ee.memoizedState=dt=e:dt=dt.next=e,dt}function ft(){if(He===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var n=dt===null?Ee.memoizedState:dt.next;if(n!==null)dt=n,He=e;else{if(e===null)throw Ee.alternate===null?Error(l(467)):Error(l(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},dt===null?Ee.memoizedState=dt=e:dt=dt.next=e}return dt}function Cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dr(e){var n=Ar;return Ar+=1,ka===null&&(ka=[]),e=Um(ka,e,n),n=Ee,(dt===null?n.memoizedState:dt.next)===null&&(n=n.alternate,R.H=n===null||n.memoizedState===null?Sh:Ch),e}function sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dr(e);if(e.$$typeof===D)return Et(e)}throw Error(l(438,String(e)))}function Tc(e){var n=null,r=Ee.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Ee.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Cc(),Ee.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=ce;return n.index++,r}function Hn(e,n){return typeof n=="function"?n(e):n}function al(e){var n=ft();return kc(n,He,e)}function kc(e,n,r){var o=e.queue;if(o===null)throw Error(l(311));o.lastRenderedReducer=r;var u=e.baseQueue,m=o.pending;if(m!==null){if(u!==null){var j=u.next;u.next=m.next,m.next=j}n.baseQueue=u=m,o.pending=null}if(m=e.baseState,u===null)e.memoizedState=m;else{n=u.next;var T=j=null,_=null,X=n,re=!1;do{var oe=X.lane&-536870913;if(oe!==X.lane?(Oe&oe)===oe:(is&oe)===oe){var K=X.revertLane;if(K===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),oe===Na&&(re=!0);else if((is&K)===K){X=X.next,K===Na&&(re=!0);continue}else oe={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},_===null?(T=_=oe,j=m):_=_.next=oe,Ee.lanes|=K,ms|=K;oe=X.action,Hs&&r(m,oe),m=X.hasEagerState?X.eagerState:r(m,oe)}else K={lane:oe,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},_===null?(T=_=K,j=m):_=_.next=K,Ee.lanes|=oe,ms|=oe;X=X.next}while(X!==null&&X!==n);if(_===null?j=m:_.next=T,!Xt(m,e.memoizedState)&&(bt=!0,re&&(r=Sa,r!==null)))throw r;e.memoizedState=m,e.baseState=j,e.baseQueue=_,o.lastRenderedState=m}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ec(e){var n=ft(),r=n.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=e;var o=r.dispatch,u=r.pending,m=n.memoizedState;if(u!==null){r.pending=null;var j=u=u.next;do m=e(m,j.action),j=j.next;while(j!==u);Xt(m,n.memoizedState)||(bt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),r.lastRenderedState=m}return[m,o]}function qm(e,n,r){var o=Ee,u=ft(),m=Pe;if(m){if(r===void 0)throw Error(l(407));r=r()}else r=n();var j=!Xt((He||u).memoizedState,r);j&&(u.memoizedState=r,bt=!0),u=u.queue;var T=Xm.bind(null,o,u,e);if(Mr(2048,8,T,[e]),u.getSnapshot!==n||j||dt!==null&&dt.memoizedState.tag&1){if(o.flags|=2048,Ea(9,rl(),Gm.bind(null,o,u,r,n),null),Xe===null)throw Error(l(349));m||(is&124)!==0||Ym(o,n,r)}return r}function Ym(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Ee.updateQueue,n===null?(n=Cc(),Ee.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Gm(e,n,r,o){n.value=r,n.getSnapshot=o,Km(n)&&Zm(e)}function Xm(e,n,r){return r(function(){Km(n)&&Zm(e)})}function Km(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!Xt(e,r)}catch{return!0}}function Zm(e){var n=ba(e,2);n!==null&&Jt(n,e,2)}function Ac(e){var n=Vt();if(typeof e=="function"){var r=e;if(e=r(),Hs){Nn(!0);try{r()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},n}function Qm(e,n,r,o){return e.baseState=r,kc(e,He,typeof o=="function"?o:Hn)}function I2(e,n,r,o,u){if(ll(e))throw Error(l(485));if(e=n.action,e!==null){var m={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(j){m.listeners.push(j)}};R.T!==null?r(!0):m.isTransition=!1,o(m),r=n.pending,r===null?(m.next=n.pending=m,Im(n,m)):(m.next=r.next,n.pending=r.next=m)}}function Im(e,n){var r=n.action,o=n.payload,u=e.state;if(n.isTransition){var m=R.T,j={};R.T=j;try{var T=r(u,o),_=R.S;_!==null&&_(j,T),Wm(e,n,T)}catch(X){Dc(e,n,X)}finally{R.T=m}}else try{m=r(u,o),Wm(e,n,m)}catch(X){Dc(e,n,X)}}function Wm(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Jm(e,n,o)},function(o){return Dc(e,n,o)}):Jm(e,n,r)}function Jm(e,n,r){n.status="fulfilled",n.value=r,eh(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Im(e,r)))}function Dc(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,eh(n),n=n.next;while(n!==o)}e.action=null}function eh(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function th(e,n){return n}function nh(e,n){if(Pe){var r=Xe.formState;if(r!==null){e:{var o=Ee;if(Pe){if(tt){t:{for(var u=tt,m=Sn;u.nodeType!==8;){if(!m){u=null;break t}if(u=yn(u.nextSibling),u===null){u=null;break t}}m=u.data,u=m==="F!"||m==="F"?u:null}if(u){tt=yn(u.nextSibling),o=u.data==="F!";break e}}Ps(o)}o=!1}o&&(n=r[0])}}return r=Vt(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:n},r.queue=o,r=jh.bind(null,Ee,o),o.dispatch=r,o=Ac(!1),m=Oc.bind(null,Ee,!1,o.queue),o=Vt(),u={state:n,dispatch:null,action:e,pending:null},o.queue=u,r=I2.bind(null,Ee,u,m,r),u.dispatch=r,o.memoizedState=e,[n,r,!1]}function sh(e){var n=ft();return ah(n,He,e)}function ah(e,n,r){if(n=kc(e,n,th)[0],e=al(Hn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Dr(n)}catch(j){throw j===Sr?Wi:j}else o=n;n=ft();var u=n.queue,m=u.dispatch;return r!==n.memoizedState&&(Ee.flags|=2048,Ea(9,rl(),W2.bind(null,u,r),null)),[o,m,e]}function W2(e,n){e.action=n}function rh(e){var n=ft(),r=He;if(r!==null)return ah(n,r,e);ft(),n=n.memoizedState,r=ft();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Ea(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=Ee.updateQueue,n===null&&(n=Cc(),Ee.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function rl(){return{destroy:void 0,resource:void 0}}function ih(){return ft().memoizedState}function il(e,n,r,o){var u=Vt();o=o===void 0?null:o,Ee.flags|=e,u.memoizedState=Ea(1|n,rl(),r,o)}function Mr(e,n,r,o){var u=ft();o=o===void 0?null:o;var m=u.memoizedState.inst;He!==null&&o!==null&&vc(o,He.memoizedState.deps)?u.memoizedState=Ea(n,m,r,o):(Ee.flags|=e,u.memoizedState=Ea(1|n,m,r,o))}function lh(e,n){il(8390656,8,e,n)}function oh(e,n){Mr(2048,8,e,n)}function ch(e,n){return Mr(4,2,e,n)}function uh(e,n){return Mr(4,4,e,n)}function dh(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fh(e,n,r){r=r!=null?r.concat([e]):null,Mr(4,4,dh.bind(null,n,e),r)}function Mc(){}function mh(e,n){var r=ft();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&vc(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function hh(e,n){var r=ft();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&vc(n,o[1]))return o[0];if(o=e(),Hs){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o}function _c(e,n,r){return r===void 0||(is&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=xp(),Ee.lanes|=e,ms|=e,r)}function ph(e,n,r,o){return Xt(r,n)?r:Ca.current!==null?(e=_c(e,r,o),Xt(e,n)||(bt=!0),e):(is&42)===0?(bt=!0,e.memoizedState=r):(e=xp(),Ee.lanes|=e,ms|=e,n)}function gh(e,n,r,o,u){var m=B.p;B.p=m!==0&&8>m?m:8;var j=R.T,T={};R.T=T,Oc(e,!1,n,r);try{var _=u(),X=R.S;if(X!==null&&X(T,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var re=K2(_,o);_r(e,n,re,Wt(e))}else _r(e,n,o,Wt(e))}catch(oe){_r(e,n,{then:function(){},status:"rejected",reason:oe},Wt())}finally{B.p=m,R.T=j}}function J2(){}function Rc(e,n,r,o){if(e.tag!==5)throw Error(l(476));var u=xh(e).queue;gh(e,u,n,F,r===null?J2:function(){return yh(e),r(o)})}function xh(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:F},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function yh(e){var n=xh(e).next.queue;_r(e,n,{},Wt())}function Lc(){return Et(Qr)}function bh(){return ft().memoizedState}function vh(){return ft().memoizedState}function ev(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Wt();e=as(r);var o=rs(n,e,r);o!==null&&(Jt(o,n,r),Tr(o,n,r)),n={cache:uc()},e.payload=n;return}n=n.return}}function tv(e,n,r){var o=Wt();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ll(e)?wh(n,r):(r=ec(e,n,r,o),r!==null&&(Jt(r,e,o),Nh(r,n,o)))}function jh(e,n,r){var o=Wt();_r(e,n,r,o)}function _r(e,n,r,o){var u={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ll(e))wh(n,u);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var j=n.lastRenderedState,T=m(j,r);if(u.hasEagerState=!0,u.eagerState=T,Xt(T,j))return qi(e,n,u,0),Xe===null&&$i(),!1}catch{}finally{}if(r=ec(e,n,u,o),r!==null)return Jt(r,e,o),Nh(r,n,o),!0}return!1}function Oc(e,n,r,o){if(o={lane:2,revertLane:mu(),action:o,hasEagerState:!1,eagerState:null,next:null},ll(e)){if(n)throw Error(l(479))}else n=ec(e,r,o,2),n!==null&&Jt(n,e,2)}function ll(e){var n=e.alternate;return e===Ee||n!==null&&n===Ee}function wh(e,n){Ta=tl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Nh(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Ae(e,r)}}var ol={readContext:Et,use:sl,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},Sh={readContext:Et,use:sl,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Et,useEffect:lh,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,il(4194308,4,dh.bind(null,n,e),r)},useLayoutEffect:function(e,n){return il(4194308,4,e,n)},useInsertionEffect:function(e,n){il(4,2,e,n)},useMemo:function(e,n){var r=Vt();n=n===void 0?null:n;var o=e();if(Hs){Nn(!0);try{e()}finally{Nn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=Vt();if(r!==void 0){var u=r(n);if(Hs){Nn(!0);try{r(n)}finally{Nn(!1)}}}else u=n;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=tv.bind(null,Ee,e),[o.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:function(e){e=Ac(e);var n=e.queue,r=jh.bind(null,Ee,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Mc,useDeferredValue:function(e,n){var r=Vt();return _c(r,e,n)},useTransition:function(){var e=Ac(!1);return e=gh.bind(null,Ee,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=Ee,u=Vt();if(Pe){if(r===void 0)throw Error(l(407));r=r()}else{if(r=n(),Xe===null)throw Error(l(349));(Oe&124)!==0||Ym(o,n,r)}u.memoizedState=r;var m={value:r,getSnapshot:n};return u.queue=m,lh(Xm.bind(null,o,m,e),[e]),o.flags|=2048,Ea(9,rl(),Gm.bind(null,o,m,r,n),null),r},useId:function(){var e=Vt(),n=Xe.identifierPrefix;if(Pe){var r=zn,o=Pn;r=(o&~(1<<32-Lt(o)-1)).toString(32)+r,n=""+n+"R"+r,r=nl++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Z2++,n=""+n+"r"+r.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Lc,useFormState:nh,useActionState:nh,useOptimistic:function(e){var n=Vt();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Oc.bind(null,Ee,!0,r),r.dispatch=n,[e,n]},useMemoCache:Tc,useCacheRefresh:function(){return Vt().memoizedState=ev.bind(null,Ee)}},Ch={readContext:Et,use:sl,useCallback:mh,useContext:Et,useEffect:oh,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:hh,useReducer:al,useRef:ih,useState:function(){return al(Hn)},useDebugValue:Mc,useDeferredValue:function(e,n){var r=ft();return ph(r,He.memoizedState,e,n)},useTransition:function(){var e=al(Hn)[0],n=ft().memoizedState;return[typeof e=="boolean"?e:Dr(e),n]},useSyncExternalStore:qm,useId:bh,useHostTransitionStatus:Lc,useFormState:sh,useActionState:sh,useOptimistic:function(e,n){var r=ft();return Qm(r,He,e,n)},useMemoCache:Tc,useCacheRefresh:vh},nv={readContext:Et,use:sl,useCallback:mh,useContext:Et,useEffect:oh,useImperativeHandle:fh,useInsertionEffect:ch,useLayoutEffect:uh,useMemo:hh,useReducer:Ec,useRef:ih,useState:function(){return Ec(Hn)},useDebugValue:Mc,useDeferredValue:function(e,n){var r=ft();return He===null?_c(r,e,n):ph(r,He.memoizedState,e,n)},useTransition:function(){var e=Ec(Hn)[0],n=ft().memoizedState;return[typeof e=="boolean"?e:Dr(e),n]},useSyncExternalStore:qm,useId:bh,useHostTransitionStatus:Lc,useFormState:rh,useActionState:rh,useOptimistic:function(e,n){var r=ft();return He!==null?Qm(r,He,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Tc,useCacheRefresh:vh},Aa=null,Rr=0;function cl(e){var n=Rr;return Rr+=1,Aa===null&&(Aa=[]),Um(Aa,e,n)}function Lr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ul(e,n){throw n.$$typeof===y?Error(l(525)):(e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Th(e){var n=e._init;return n(e._payload)}function kh(e){function n(H,P){if(e){var Y=H.deletions;Y===null?(H.deletions=[P],H.flags|=16):Y.push(P)}}function r(H,P){if(!e)return null;for(;P!==null;)n(H,P),P=P.sibling;return null}function o(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function u(H,P){return H=Bn(H,P),H.index=0,H.sibling=null,H}function m(H,P,Y){return H.index=Y,e?(Y=H.alternate,Y!==null?(Y=Y.index,Y<P?(H.flags|=67108866,P):Y):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function j(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function T(H,P,Y,le){return P===null||P.tag!==6?(P=nc(Y,H.mode,le),P.return=H,P):(P=u(P,Y),P.return=H,P)}function _(H,P,Y,le){var xe=Y.type;return xe===w?re(H,P,Y.props.children,le,Y.key):P!==null&&(P.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===q&&Th(xe)===P.type)?(P=u(P,Y.props),Lr(P,Y),P.return=H,P):(P=Gi(Y.type,Y.key,Y.props,null,H.mode,le),Lr(P,Y),P.return=H,P)}function X(H,P,Y,le){return P===null||P.tag!==4||P.stateNode.containerInfo!==Y.containerInfo||P.stateNode.implementation!==Y.implementation?(P=sc(Y,H.mode,le),P.return=H,P):(P=u(P,Y.children||[]),P.return=H,P)}function re(H,P,Y,le,xe){return P===null||P.tag!==7?(P=Ls(Y,H.mode,le,xe),P.return=H,P):(P=u(P,Y),P.return=H,P)}function oe(H,P,Y){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=nc(""+P,H.mode,Y),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case v:return Y=Gi(P.type,P.key,P.props,null,H.mode,Y),Lr(Y,P),Y.return=H,Y;case N:return P=sc(P,H.mode,Y),P.return=H,P;case q:var le=P._init;return P=le(P._payload),oe(H,P,Y)}if(de(P)||G(P))return P=Ls(P,H.mode,Y,null),P.return=H,P;if(typeof P.then=="function")return oe(H,cl(P),Y);if(P.$$typeof===D)return oe(H,Qi(H,P),Y);ul(H,P)}return null}function K(H,P,Y,le){var xe=P!==null?P.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return xe!==null?null:T(H,P,""+Y,le);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:return Y.key===xe?_(H,P,Y,le):null;case N:return Y.key===xe?X(H,P,Y,le):null;case q:return xe=Y._init,Y=xe(Y._payload),K(H,P,Y,le)}if(de(Y)||G(Y))return xe!==null?null:re(H,P,Y,le,null);if(typeof Y.then=="function")return K(H,P,cl(Y),le);if(Y.$$typeof===D)return K(H,P,Qi(H,Y),le);ul(H,Y)}return null}function Z(H,P,Y,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return H=H.get(Y)||null,T(P,H,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return H=H.get(le.key===null?Y:le.key)||null,_(P,H,le,xe);case N:return H=H.get(le.key===null?Y:le.key)||null,X(P,H,le,xe);case q:var De=le._init;return le=De(le._payload),Z(H,P,Y,le,xe)}if(de(le)||G(le))return H=H.get(Y)||null,re(P,H,le,xe,null);if(typeof le.then=="function")return Z(H,P,Y,cl(le),xe);if(le.$$typeof===D)return Z(H,P,Y,Qi(P,le),xe);ul(P,le)}return null}function Ne(H,P,Y,le){for(var xe=null,De=null,ye=P,we=P=0,jt=null;ye!==null&&we<Y.length;we++){ye.index>we?(jt=ye,ye=null):jt=ye.sibling;var Ue=K(H,ye,Y[we],le);if(Ue===null){ye===null&&(ye=jt);break}e&&ye&&Ue.alternate===null&&n(H,ye),P=m(Ue,P,we),De===null?xe=Ue:De.sibling=Ue,De=Ue,ye=jt}if(we===Y.length)return r(H,ye),Pe&&Us(H,we),xe;if(ye===null){for(;we<Y.length;we++)ye=oe(H,Y[we],le),ye!==null&&(P=m(ye,P,we),De===null?xe=ye:De.sibling=ye,De=ye);return Pe&&Us(H,we),xe}for(ye=o(ye);we<Y.length;we++)jt=Z(ye,H,we,Y[we],le),jt!==null&&(e&&jt.alternate!==null&&ye.delete(jt.key===null?we:jt.key),P=m(jt,P,we),De===null?xe=jt:De.sibling=jt,De=jt);return e&&ye.forEach(function(ws){return n(H,ws)}),Pe&&Us(H,we),xe}function je(H,P,Y,le){if(Y==null)throw Error(l(151));for(var xe=null,De=null,ye=P,we=P=0,jt=null,Ue=Y.next();ye!==null&&!Ue.done;we++,Ue=Y.next()){ye.index>we?(jt=ye,ye=null):jt=ye.sibling;var ws=K(H,ye,Ue.value,le);if(ws===null){ye===null&&(ye=jt);break}e&&ye&&ws.alternate===null&&n(H,ye),P=m(ws,P,we),De===null?xe=ws:De.sibling=ws,De=ws,ye=jt}if(Ue.done)return r(H,ye),Pe&&Us(H,we),xe;if(ye===null){for(;!Ue.done;we++,Ue=Y.next())Ue=oe(H,Ue.value,le),Ue!==null&&(P=m(Ue,P,we),De===null?xe=Ue:De.sibling=Ue,De=Ue);return Pe&&Us(H,we),xe}for(ye=o(ye);!Ue.done;we++,Ue=Y.next())Ue=Z(ye,H,we,Ue.value,le),Ue!==null&&(e&&Ue.alternate!==null&&ye.delete(Ue.key===null?we:Ue.key),P=m(Ue,P,we),De===null?xe=Ue:De.sibling=Ue,De=Ue);return e&&ye.forEach(function(s1){return n(H,s1)}),Pe&&Us(H,we),xe}function qe(H,P,Y,le){if(typeof Y=="object"&&Y!==null&&Y.type===w&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case v:e:{for(var xe=Y.key;P!==null;){if(P.key===xe){if(xe=Y.type,xe===w){if(P.tag===7){r(H,P.sibling),le=u(P,Y.props.children),le.return=H,H=le;break e}}else if(P.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===q&&Th(xe)===P.type){r(H,P.sibling),le=u(P,Y.props),Lr(le,Y),le.return=H,H=le;break e}r(H,P);break}else n(H,P);P=P.sibling}Y.type===w?(le=Ls(Y.props.children,H.mode,le,Y.key),le.return=H,H=le):(le=Gi(Y.type,Y.key,Y.props,null,H.mode,le),Lr(le,Y),le.return=H,H=le)}return j(H);case N:e:{for(xe=Y.key;P!==null;){if(P.key===xe)if(P.tag===4&&P.stateNode.containerInfo===Y.containerInfo&&P.stateNode.implementation===Y.implementation){r(H,P.sibling),le=u(P,Y.children||[]),le.return=H,H=le;break e}else{r(H,P);break}else n(H,P);P=P.sibling}le=sc(Y,H.mode,le),le.return=H,H=le}return j(H);case q:return xe=Y._init,Y=xe(Y._payload),qe(H,P,Y,le)}if(de(Y))return Ne(H,P,Y,le);if(G(Y)){if(xe=G(Y),typeof xe!="function")throw Error(l(150));return Y=xe.call(Y),je(H,P,Y,le)}if(typeof Y.then=="function")return qe(H,P,cl(Y),le);if(Y.$$typeof===D)return qe(H,P,Qi(H,Y),le);ul(H,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,P!==null&&P.tag===6?(r(H,P.sibling),le=u(P,Y),le.return=H,H=le):(r(H,P),le=nc(Y,H.mode,le),le.return=H,H=le),j(H)):r(H,P)}return function(H,P,Y,le){try{Rr=0;var xe=qe(H,P,Y,le);return Aa=null,xe}catch(ye){if(ye===Sr||ye===Wi)throw ye;var De=Kt(29,ye,null,H.mode);return De.lanes=le,De.return=H,De}finally{}}}var Da=kh(!0),Eh=kh(!1),cn=M(null),Cn=null;function ls(e){var n=e.alternate;se(pt,pt.current&1),se(cn,e),Cn===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Cn=e)}function Ah(e){if(e.tag===22){if(se(pt,pt.current),se(cn,e),Cn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(Cn=e)}}else os()}function os(){se(pt,pt.current),se(cn,cn.current)}function $n(e){O(cn),Cn===e&&(Cn=null),O(pt)}var pt=M(0);function dl(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Cu(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Uc(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:g({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bc={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Wt(),u=as(o);u.payload=n,r!=null&&(u.callback=r),n=rs(e,u,o),n!==null&&(Jt(n,e,o),Tr(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Wt(),u=as(o);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=rs(e,u,o),n!==null&&(Jt(n,e,o),Tr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Wt(),o=as(r);o.tag=2,n!=null&&(o.callback=n),n=rs(e,o,r),n!==null&&(Jt(n,e,r),Tr(n,e,r))}};function Dh(e,n,r,o,u,m,j){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,j):n.prototype&&n.prototype.isPureReactComponent?!gr(r,o)||!gr(u,m):!0}function Mh(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Bc.enqueueReplaceState(n,n.state,null)}function $s(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=g({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}var fl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _h(e){fl(e)}function Rh(e){console.error(e)}function Lh(e){fl(e)}function ml(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Oh(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Pc(e,n,r){return r=as(r),r.tag=3,r.payload={element:null},r.callback=function(){ml(e,n)},r}function Uh(e){return e=as(e),e.tag=3,e}function Bh(e,n,r,o){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var m=o.value;e.payload=function(){return u(m)},e.callback=function(){Oh(n,r,o)}}var j=r.stateNode;j!==null&&typeof j.componentDidCatch=="function"&&(e.callback=function(){Oh(n,r,o),typeof u!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function sv(e,n,r,o,u){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&jr(n,r,u,!0),r=cn.current,r!==null){switch(r.tag){case 13:return Cn===null?ou():r.alternate===null&&nt===0&&(nt=3),r.flags&=-257,r.flags|=65536,r.lanes=u,o===mc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),uu(e,o,u)),!1;case 22:return r.flags|=65536,o===mc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),uu(e,o,u)),!1}throw Error(l(435,r.tag))}return uu(e,o,u),ou(),!1}if(Pe)return n=cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,o!==ic&&(e=Error(l(422),{cause:o}),vr(an(e,r)))):(o!==ic&&(n=Error(l(423),{cause:o}),vr(an(n,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=an(o,r),u=Pc(e.stateNode,o,u),gc(e,u),nt!==4&&(nt=2)),!1;var m=Error(l(520),{cause:o});if(m=an(m,r),Fr===null?Fr=[m]:Fr.push(m),nt!==4&&(nt=2),n===null)return!0;o=an(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=Pc(r.stateNode,o,e),gc(r,e),!1;case 1:if(n=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(hs===null||!hs.has(m))))return r.flags|=65536,u&=-u,r.lanes|=u,u=Uh(u),Bh(u,e,r,o),gc(r,u),!1}r=r.return}while(r!==null);return!1}var Ph=Error(l(461)),bt=!1;function Nt(e,n,r,o){n.child=e===null?Eh(n,null,r,o):Da(n,e.child,r,o)}function zh(e,n,r,o,u){r=r.render;var m=n.ref;if("ref"in o){var j={};for(var T in o)T!=="ref"&&(j[T]=o[T])}else j=o;return Vs(n),o=jc(e,n,r,j,m,u),T=wc(),e!==null&&!bt?(Nc(e,n,u),qn(e,n,u)):(Pe&&T&&ac(n),n.flags|=1,Nt(e,n,o,u),n.child)}function Vh(e,n,r,o,u){if(e===null){var m=r.type;return typeof m=="function"&&!tc(m)&&m.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=m,Fh(e,n,m,o,u)):(e=Gi(r.type,null,o,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!Gc(e,u)){var j=m.memoizedProps;if(r=r.compare,r=r!==null?r:gr,r(j,o)&&e.ref===n.ref)return qn(e,n,u)}return n.flags|=1,e=Bn(m,o),e.ref=n.ref,e.return=n,n.child=e}function Fh(e,n,r,o,u){if(e!==null){var m=e.memoizedProps;if(gr(m,o)&&e.ref===n.ref)if(bt=!1,n.pendingProps=o=m,Gc(e,u))(e.flags&131072)!==0&&(bt=!0);else return n.lanes=e.lanes,qn(e,n,u)}return zc(e,n,r,o,u)}function Hh(e,n,r){var o=n.pendingProps,u=o.children,m=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=m!==null?m.baseLanes|r:r,e!==null){for(u=n.child=e.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;n.childLanes=m&~o}else n.childLanes=0,n.child=null;return $h(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ii(n,m!==null?m.cachePool:null),m!==null?Fm(n,m):yc(),Ah(n);else return n.lanes=n.childLanes=536870912,$h(e,n,m!==null?m.baseLanes|r:r,r)}else m!==null?(Ii(n,m.cachePool),Fm(n,m),os(),n.memoizedState=null):(e!==null&&Ii(n,null),yc(),os());return Nt(e,n,u,r),n.child}function $h(e,n,r,o){var u=fc();return u=u===null?null:{parent:ht._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},e!==null&&Ii(n,null),yc(),Ah(n),e!==null&&jr(e,n,o,!0),null}function hl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function zc(e,n,r,o,u){return Vs(n),r=jc(e,n,r,o,void 0,u),o=wc(),e!==null&&!bt?(Nc(e,n,u),qn(e,n,u)):(Pe&&o&&ac(n),n.flags|=1,Nt(e,n,r,u),n.child)}function qh(e,n,r,o,u,m){return Vs(n),n.updateQueue=null,r=$m(n,o,r,u),Hm(e),o=wc(),e!==null&&!bt?(Nc(e,n,m),qn(e,n,m)):(Pe&&o&&ac(n),n.flags|=1,Nt(e,n,r,m),n.child)}function Yh(e,n,r,o,u){if(Vs(n),n.stateNode===null){var m=va,j=r.contextType;typeof j=="object"&&j!==null&&(m=Et(j)),m=new r(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bc,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},hc(n),j=r.contextType,m.context=typeof j=="object"&&j!==null?Et(j):va,m.state=n.memoizedState,j=r.getDerivedStateFromProps,typeof j=="function"&&(Uc(n,r,j,o),m.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(j=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),j!==m.state&&Bc.enqueueReplaceState(m,m.state,null),Er(n,o,m,u),kr(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var T=n.memoizedProps,_=$s(r,T);m.props=_;var X=m.context,re=r.contextType;j=va,typeof re=="object"&&re!==null&&(j=Et(re));var oe=r.getDerivedStateFromProps;re=typeof oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,re||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||X!==j)&&Mh(n,m,o,j),ss=!1;var K=n.memoizedState;m.state=K,Er(n,o,m,u),kr(),X=n.memoizedState,T||K!==X||ss?(typeof oe=="function"&&(Uc(n,r,oe,o),X=n.memoizedState),(_=ss||Dh(n,r,_,o,K,X,j))?(re||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=X),m.props=o,m.state=X,m.context=j,o=_):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,pc(e,n),j=n.memoizedProps,re=$s(r,j),m.props=re,oe=n.pendingProps,K=m.context,X=r.contextType,_=va,typeof X=="object"&&X!==null&&(_=Et(X)),T=r.getDerivedStateFromProps,(X=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(j!==oe||K!==_)&&Mh(n,m,o,_),ss=!1,K=n.memoizedState,m.state=K,Er(n,o,m,u),kr();var Z=n.memoizedState;j!==oe||K!==Z||ss||e!==null&&e.dependencies!==null&&Zi(e.dependencies)?(typeof T=="function"&&(Uc(n,r,T,o),Z=n.memoizedState),(re=ss||Dh(n,r,re,o,K,Z,_)||e!==null&&e.dependencies!==null&&Zi(e.dependencies))?(X||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,Z,_),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,Z,_)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||j===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=Z),m.props=o,m.state=Z,m.context=_,o=re):(typeof m.componentDidUpdate!="function"||j===e.memoizedProps&&K===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&K===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,hl(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=Da(n,e.child,null,u),n.child=Da(n,null,r,u)):Nt(e,n,r,u),n.memoizedState=m.state,e=n.child):e=qn(e,n,u),e}function Gh(e,n,r,o){return br(),n.flags|=256,Nt(e,n,r,o),n.child}var Vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:Rm()}}function Hc(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=un),e}function Xh(e,n,r){var o=n.pendingProps,u=!1,m=(n.flags&128)!==0,j;if((j=m)||(j=e!==null&&e.memoizedState===null?!1:(pt.current&2)!==0),j&&(u=!0,n.flags&=-129),j=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pe){if(u?ls(n):os(),Pe){var T=tt,_;if(_=T){e:{for(_=T,T=Sn;_.nodeType!==8;){if(!T){T=null;break e}if(_=yn(_.nextSibling),_===null){T=null;break e}}T=_}T!==null?(n.memoizedState={dehydrated:T,treeContext:Os!==null?{id:Pn,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},_=Kt(18,null,null,0),_.stateNode=T,_.return=n,n.child=_,Ut=n,tt=null,_=!0):_=!1}_||Ps(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Cu(T)?n.lanes=32:n.lanes=536870912,null;$n(n)}return T=o.children,o=o.fallback,u?(os(),u=n.mode,T=pl({mode:"hidden",children:T},u),o=Ls(o,u,r,null),T.return=n,o.return=n,T.sibling=o,n.child=T,u=n.child,u.memoizedState=Fc(r),u.childLanes=Hc(e,j,r),n.memoizedState=Vc,o):(ls(n),$c(n,T))}if(_=e.memoizedState,_!==null&&(T=_.dehydrated,T!==null)){if(m)n.flags&256?(ls(n),n.flags&=-257,n=qc(e,n,r)):n.memoizedState!==null?(os(),n.child=e.child,n.flags|=128,n=null):(os(),u=o.fallback,T=n.mode,o=pl({mode:"visible",children:o.children},T),u=Ls(u,T,r,null),u.flags|=2,o.return=n,u.return=n,o.sibling=u,n.child=o,Da(n,e.child,null,r),o=n.child,o.memoizedState=Fc(r),o.childLanes=Hc(e,j,r),n.memoizedState=Vc,n=u);else if(ls(n),Cu(T)){if(j=T.nextSibling&&T.nextSibling.dataset,j)var X=j.dgst;j=X,o=Error(l(419)),o.stack="",o.digest=j,vr({value:o,source:null,stack:null}),n=qc(e,n,r)}else if(bt||jr(e,n,r,!1),j=(r&e.childLanes)!==0,bt||j){if(j=Xe,j!==null&&(o=r&-r,o=(o&42)!==0?1:ve(o),o=(o&(j.suspendedLanes|r))!==0?0:o,o!==0&&o!==_.retryLane))throw _.retryLane=o,ba(e,o),Jt(j,e,o),Ph;T.data==="$?"||ou(),n=qc(e,n,r)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=_.treeContext,tt=yn(T.nextSibling),Ut=n,Pe=!0,Bs=null,Sn=!1,e!==null&&(ln[on++]=Pn,ln[on++]=zn,ln[on++]=Os,Pn=e.id,zn=e.overflow,Os=n),n=$c(n,o.children),n.flags|=4096);return n}return u?(os(),u=o.fallback,T=n.mode,_=e.child,X=_.sibling,o=Bn(_,{mode:"hidden",children:o.children}),o.subtreeFlags=_.subtreeFlags&65011712,X!==null?u=Bn(X,u):(u=Ls(u,T,r,null),u.flags|=2),u.return=n,o.return=n,o.sibling=u,n.child=o,o=u,u=n.child,T=e.child.memoizedState,T===null?T=Fc(r):(_=T.cachePool,_!==null?(X=ht._currentValue,_=_.parent!==X?{parent:X,pool:X}:_):_=Rm(),T={baseLanes:T.baseLanes|r,cachePool:_}),u.memoizedState=T,u.childLanes=Hc(e,j,r),n.memoizedState=Vc,o):(ls(n),r=e.child,e=r.sibling,r=Bn(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(j=n.deletions,j===null?(n.deletions=[e],n.flags|=16):j.push(e)),n.child=r,n.memoizedState=null,r)}function $c(e,n){return n=pl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function pl(e,n){return e=Kt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qc(e,n,r){return Da(n,e.child,null,r),e=$c(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kh(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),oc(e.return,n,r)}function Yc(e,n,r,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:u}:(m.isBackwards=n,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=u)}function Zh(e,n,r){var o=n.pendingProps,u=o.revealOrder,m=o.tail;if(Nt(e,n,o.children,r),o=pt.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kh(e,r,n);else if(e.tag===19)Kh(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(se(pt,o),u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&dl(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Yc(n,!1,u,r,m);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&dl(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Yc(n,!0,r,null,m);break;case"together":Yc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ms|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(jr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,r=Bn(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Bn(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Gc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Zi(e)))}function av(e,n,r){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),ns(n,ht,e.memoizedState.cache),br();break;case 27:case 5:ut(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:ns(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ls(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xh(e,n,r):(ls(n),e=qn(e,n,r),e!==null?e.sibling:null);ls(n);break;case 19:var u=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(jr(e,n,r,!1),o=(r&n.childLanes)!==0),u){if(o)return Zh(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),se(pt,pt.current),o)break;return null;case 22:case 23:return n.lanes=0,Hh(e,n,r);case 24:ns(n,ht,e.memoizedState.cache)}return qn(e,n,r)}function Qh(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)bt=!0;else{if(!Gc(e,r)&&(n.flags&128)===0)return bt=!1,av(e,n,r);bt=(e.flags&131072)!==0}else bt=!1,Pe&&(n.flags&1048576)!==0&&Tm(n,Ki,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,u=o._init;if(o=u(o._payload),n.type=o,typeof o=="function")tc(o)?(e=$s(o,e),n.tag=1,n=Yh(null,n,o,e,r)):(n.tag=0,n=zc(null,n,o,e,r));else{if(o!=null){if(u=o.$$typeof,u===V){n.tag=11,n=zh(null,n,o,e,r);break e}else if(u===z){n.tag=14,n=Vh(null,n,o,e,r);break e}}throw n=ee(o)||o,Error(l(306,n,""))}}return n;case 0:return zc(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,u=$s(o,n.pendingProps),Yh(e,n,o,u,r);case 3:e:{if(he(n,n.stateNode.containerInfo),e===null)throw Error(l(387));o=n.pendingProps;var m=n.memoizedState;u=m.element,pc(e,n),Er(n,o,null,r);var j=n.memoizedState;if(o=j.cache,ns(n,ht,o),o!==m.cache&&cc(n,[ht],r,!0),kr(),o=j.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:j.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Gh(e,n,o,r);break e}else if(o!==u){u=an(Error(l(424)),n),vr(u),n=Gh(e,n,o,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(tt=yn(e.firstChild),Ut=n,Pe=!0,Bs=null,Sn=!0,r=Eh(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(br(),o===u){n=qn(e,n,r);break e}Nt(e,n,o,r)}n=n.child}return n;case 26:return hl(e,n),e===null?(r=e0(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pe||(r=n.type,e=n.pendingProps,o=Al(fe.current).createElement(r),o[kt]=n,o[Pt]=e,Ct(o,r,e),yt(o),n.stateNode=o):n.memoizedState=e0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ut(n),e===null&&Pe&&(o=n.stateNode=Ip(n.type,n.pendingProps,fe.current),Ut=n,Sn=!0,u=tt,xs(n.type)?(Tu=u,tt=yn(o.firstChild)):tt=u),Nt(e,n,n.pendingProps.children,r),hl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pe&&((u=o=tt)&&(o=_v(o,n.type,n.pendingProps,Sn),o!==null?(n.stateNode=o,Ut=n,tt=yn(o.firstChild),Sn=!1,u=!0):u=!1),u||Ps(n)),ut(n),u=n.type,m=n.pendingProps,j=e!==null?e.memoizedProps:null,o=m.children,wu(u,m)?o=null:j!==null&&wu(u,j)&&(n.flags|=32),n.memoizedState!==null&&(u=jc(e,n,Q2,null,null,r),Qr._currentValue=u),hl(e,n),Nt(e,n,o,r),n.child;case 6:return e===null&&Pe&&((e=r=tt)&&(r=Rv(r,n.pendingProps,Sn),r!==null?(n.stateNode=r,Ut=n,tt=null,e=!0):e=!1),e||Ps(n)),null;case 13:return Xh(e,n,r);case 4:return he(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Da(n,null,o,r):Nt(e,n,o,r),n.child;case 11:return zh(e,n,n.type,n.pendingProps,r);case 7:return Nt(e,n,n.pendingProps,r),n.child;case 8:return Nt(e,n,n.pendingProps.children,r),n.child;case 12:return Nt(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ns(n,n.type,o.value),Nt(e,n,o.children,r),n.child;case 9:return u=n.type._context,o=n.pendingProps.children,Vs(n),u=Et(u),o=o(u),n.flags|=1,Nt(e,n,o,r),n.child;case 14:return Vh(e,n,n.type,n.pendingProps,r);case 15:return Fh(e,n,n.type,n.pendingProps,r);case 19:return Zh(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=pl(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Bn(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Hh(e,n,r);case 24:return Vs(n),o=Et(ht),e===null?(u=fc(),u===null&&(u=Xe,m=uc(),u.pooledCache=m,m.refCount++,m!==null&&(u.pooledCacheLanes|=r),u=m),n.memoizedState={parent:o,cache:u},hc(n),ns(n,ht,u)):((e.lanes&r)!==0&&(pc(e,n),Er(n,null,null,r),kr()),u=e.memoizedState,m=n.memoizedState,u.parent!==o?(u={parent:o,cache:o},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ns(n,ht,o)):(o=m.cache,ns(n,ht,o),o!==u.cache&&cc(n,[ht],r,!0))),Nt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(l(156,n.tag))}function Yn(e){e.flags|=4}function Ih(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!r0(n)){if(n=cn.current,n!==null&&((Oe&4194048)===Oe?Cn!==null:(Oe&62914560)!==Oe&&(Oe&536870912)===0||n!==Cn))throw Cr=mc,Lm;e.flags|=8192}}function gl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Mi():536870912,e.lanes|=n,La|=n)}function Or(e,n){if(!Pe)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function We(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function rv(e,n,r){var o=n.pendingProps;switch(rc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Fn(ht),Re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yr(n)?Yn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Am())),We(n),null;case 26:return r=n.memoizedState,e===null?(Yn(n),r!==null?(We(n),Ih(n,r)):(We(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Yn(n),We(n),Ih(n,r)):(We(n),n.flags&=-16777217):(e.memoizedProps!==o&&Yn(n),We(n),n.flags&=-16777217),null;case 27:xt(n),r=fe.current;var u=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yn(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return We(n),null}e=J.current,yr(n)?km(n):(e=Ip(u,o,r),n.stateNode=e,Yn(n))}return We(n),null;case 5:if(xt(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Yn(n);else{if(!o){if(n.stateNode===null)throw Error(l(166));return We(n),null}if(e=J.current,yr(n))km(n);else{switch(u=Al(fe.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?u.createElement("select",{is:o.is}):u.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?u.createElement(r,{is:o.is}):u.createElement(r)}}e[kt]=n,e[Pt]=o;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=e;e:switch(Ct(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Yn(n)}}return We(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Yn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(e=fe.current,yr(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,u=Ut,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[kt]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||qp(e.nodeValue,r)),e||Ps(n)}else e=Al(e).createTextNode(o),e[kt]=n,n.stateNode=e}return We(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=yr(n),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[kt]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),u=!1}else u=Am(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?($n(n),n):($n(n),null)}if($n(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==u&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),gl(n,n.updateQueue),We(n),null;case 4:return Re(),e===null&&xu(n.stateNode.containerInfo),We(n),null;case 10:return Fn(n.type),We(n),null;case 19:if(O(pt),u=n.memoizedState,u===null)return We(n),null;if(o=(n.flags&128)!==0,m=u.rendering,m===null)if(o)Or(u,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=dl(e),m!==null){for(n.flags|=128,Or(u,!1),e=m.updateQueue,n.updateQueue=e,gl(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Cm(r,e),r=r.sibling;return se(pt,pt.current&1|2),n.child}e=e.sibling}u.tail!==null&&Qe()>bl&&(n.flags|=128,o=!0,Or(u,!1),n.lanes=4194304)}else{if(!o)if(e=dl(m),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,gl(n,e),Or(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Pe)return We(n),null}else 2*Qe()-u.renderingStartTime>bl&&r!==536870912&&(n.flags|=128,o=!0,Or(u,!1),n.lanes=4194304);u.isBackwards?(m.sibling=n.child,n.child=m):(e=u.last,e!==null?e.sibling=m:n.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Qe(),n.sibling=null,e=pt.current,se(pt,o?e&1|2:e&1),n):(We(n),null);case 22:case 23:return $n(n),bc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),r=n.updateQueue,r!==null&&gl(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&O(Fs),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Fn(ht),We(n),null;case 25:return null;case 30:return null}throw Error(l(156,n.tag))}function iv(e,n){switch(rc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fn(ht),Re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return xt(n),null;case 13:if($n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return O(pt),null;case 4:return Re(),null;case 10:return Fn(n.type),null;case 22:case 23:return $n(n),bc(),e!==null&&O(Fs),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fn(ht),null;case 25:return null;default:return null}}function Wh(e,n){switch(rc(n),n.tag){case 3:Fn(ht),Re();break;case 26:case 27:case 5:xt(n);break;case 4:Re();break;case 13:$n(n);break;case 19:O(pt);break;case 10:Fn(n.type);break;case 22:case 23:$n(n),bc(),e!==null&&O(Fs);break;case 24:Fn(ht)}}function Ur(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var u=o.next;r=u;do{if((r.tag&e)===e){o=void 0;var m=r.create,j=r.inst;o=m(),j.destroy=o}r=r.next}while(r!==u)}}catch(T){Ge(n,n.return,T)}}function cs(e,n,r){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var m=u.next;o=m;do{if((o.tag&e)===e){var j=o.inst,T=j.destroy;if(T!==void 0){j.destroy=void 0,u=n;var _=r,X=T;try{X()}catch(re){Ge(u,_,re)}}}o=o.next}while(o!==m)}}catch(re){Ge(n,n.return,re)}}function Jh(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Vm(n,r)}catch(o){Ge(e,e.return,o)}}}function ep(e,n,r){r.props=$s(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ge(e,n,o)}}function Br(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(u){Ge(e,n,u)}}function Tn(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(u){Ge(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Ge(e,n,u)}else r.current=null}function tp(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(u){Ge(e,e.return,u)}}function Xc(e,n,r){try{var o=e.stateNode;kv(o,e.type,r,n),o[Pt]=n}catch(u){Ge(e,e.return,u)}}function np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function Kc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zc(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=El));else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Zc(e,n,r),e=e.sibling;e!==null;)Zc(e,n,r),e=e.sibling}function xl(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(xl(e,n,r),e=e.sibling;e!==null;)xl(e,n,r),e=e.sibling}function sp(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);Ct(n,o,r),n[kt]=e,n[Pt]=r}catch(m){Ge(e,e.return,m)}}var Gn=!1,ot=!1,Qc=!1,ap=typeof WeakSet=="function"?WeakSet:Set,vt=null;function lv(e,n){if(e=e.containerInfo,vu=Ol,e=pm(e),Ko(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var u=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var j=0,T=-1,_=-1,X=0,re=0,oe=e,K=null;t:for(;;){for(var Z;oe!==r||u!==0&&oe.nodeType!==3||(T=j+u),oe!==m||o!==0&&oe.nodeType!==3||(_=j+o),oe.nodeType===3&&(j+=oe.nodeValue.length),(Z=oe.firstChild)!==null;)K=oe,oe=Z;for(;;){if(oe===e)break t;if(K===r&&++X===u&&(T=j),K===m&&++re===o&&(_=j),(Z=oe.nextSibling)!==null)break;oe=K,K=oe.parentNode}oe=Z}r=T===-1||_===-1?null:{start:T,end:_}}else r=null}r=r||{start:0,end:0}}else r=null;for(ju={focusedElem:e,selectionRange:r},Ol=!1,vt=n;vt!==null;)if(n=vt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,vt=e;else for(;vt!==null;){switch(n=vt,m=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=n,u=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var Ne=$s(r.type,u,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(Ne,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(je){Ge(r,r.return,je)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Su(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Su(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=n.sibling,e!==null){e.return=n.return,vt=e;break}vt=n.return}}function rp(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:us(e,r),o&4&&Ur(5,r);break;case 1:if(us(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(j){Ge(r,r.return,j)}else{var u=$s(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(j){Ge(r,r.return,j)}}o&64&&Jh(r),o&512&&Br(r,r.return);break;case 3:if(us(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Vm(e,n)}catch(j){Ge(r,r.return,j)}}break;case 27:n===null&&o&4&&sp(r);case 26:case 5:us(e,r),n===null&&o&4&&tp(r),o&512&&Br(r,r.return);break;case 12:us(e,r);break;case 13:us(e,r),o&4&&op(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=gv.bind(null,r),Lv(e,r))));break;case 22:if(o=r.memoizedState!==null||Gn,!o){n=n!==null&&n.memoizedState!==null||ot,u=Gn;var m=ot;Gn=o,(ot=n)&&!m?ds(e,r,(r.subtreeFlags&8772)!==0):us(e,r),Gn=u,ot=m}break;case 30:break;default:us(e,r)}}function ip(e){var n=e.alternate;n!==null&&(e.alternate=null,ip(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ao(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,Ft=!1;function Xn(e,n,r){for(r=r.child;r!==null;)lp(e,n,r),r=r.sibling}function lp(e,n,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(_t,r)}catch{}switch(r.tag){case 26:ot||Tn(r,n),Xn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ot||Tn(r,n);var o=Ke,u=Ft;xs(r.type)&&(Ke=r.stateNode,Ft=!1),Xn(e,n,r),Gr(r.stateNode),Ke=o,Ft=u;break;case 5:ot||Tn(r,n);case 6:if(o=Ke,u=Ft,Ke=null,Xn(e,n,r),Ke=o,Ft=u,Ke!==null)if(Ft)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(r.stateNode)}catch(m){Ge(r,n,m)}else try{Ke.removeChild(r.stateNode)}catch(m){Ge(r,n,m)}break;case 18:Ke!==null&&(Ft?(e=Ke,Zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ei(e)):Zp(Ke,r.stateNode));break;case 4:o=Ke,u=Ft,Ke=r.stateNode.containerInfo,Ft=!0,Xn(e,n,r),Ke=o,Ft=u;break;case 0:case 11:case 14:case 15:ot||cs(2,r,n),ot||cs(4,r,n),Xn(e,n,r);break;case 1:ot||(Tn(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ep(r,n,o)),Xn(e,n,r);break;case 21:Xn(e,n,r);break;case 22:ot=(o=ot)||r.memoizedState!==null,Xn(e,n,r),ot=o;break;default:Xn(e,n,r)}}function op(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ei(e)}catch(r){Ge(n,n.return,r)}}function ov(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ap),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ap),n;default:throw Error(l(435,e.tag))}}function Ic(e,n){var r=ov(e);n.forEach(function(o){var u=xv.bind(null,e,o);r.has(o)||(r.add(o),o.then(u,u))})}function Zt(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var u=r[o],m=e,j=n,T=j;e:for(;T!==null;){switch(T.tag){case 27:if(xs(T.type)){Ke=T.stateNode,Ft=!1;break e}break;case 5:Ke=T.stateNode,Ft=!1;break e;case 3:case 4:Ke=T.stateNode.containerInfo,Ft=!0;break e}T=T.return}if(Ke===null)throw Error(l(160));lp(m,j,u),Ke=null,Ft=!1,m=u.alternate,m!==null&&(m.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cp(n,e),n=n.sibling}var xn=null;function cp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(n,e),Qt(e),o&4&&(cs(3,e,e.return),Ur(3,e),cs(5,e,e.return));break;case 1:Zt(n,e),Qt(e),o&512&&(ot||r===null||Tn(r,r.return)),o&64&&Gn&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var u=xn;if(Zt(n,e),Qt(e),o&512&&(ot||r===null||Tn(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":m=u.getElementsByTagName("title")[0],(!m||m[lr]||m[kt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=u.createElement(o),u.head.insertBefore(m,u.querySelector("head > title"))),Ct(m,o,r),m[kt]=e,yt(m),o=m;break e;case"link":var j=s0("link","href",u).get(o+(r.href||""));if(j){for(var T=0;T<j.length;T++)if(m=j[T],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){j.splice(T,1);break t}}m=u.createElement(o),Ct(m,o,r),u.head.appendChild(m);break;case"meta":if(j=s0("meta","content",u).get(o+(r.content||""))){for(T=0;T<j.length;T++)if(m=j[T],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){j.splice(T,1);break t}}m=u.createElement(o),Ct(m,o,r),u.head.appendChild(m);break;default:throw Error(l(468,o))}m[kt]=e,yt(m),o=m}e.stateNode=o}else a0(u,e.type,e.stateNode);else e.stateNode=n0(u,o,e.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?a0(u,e.type,e.stateNode):n0(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Zt(n,e),Qt(e),o&512&&(ot||r===null||Tn(r,r.return)),r!==null&&o&4&&Xc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Zt(n,e),Qt(e),o&512&&(ot||r===null||Tn(r,r.return)),e.flags&32){u=e.stateNode;try{fa(u,"")}catch(Z){Ge(e,e.return,Z)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,Xc(e,u,r!==null?r.memoizedProps:u)),o&1024&&(Qc=!0);break;case 6:if(Zt(n,e),Qt(e),o&4){if(e.stateNode===null)throw Error(l(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(Z){Ge(e,e.return,Z)}}break;case 3:if(_l=null,u=xn,xn=Dl(n.containerInfo),Zt(n,e),xn=u,Qt(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ei(n.containerInfo)}catch(Z){Ge(e,e.return,Z)}Qc&&(Qc=!1,up(e));break;case 4:o=xn,xn=Dl(e.stateNode.containerInfo),Zt(n,e),Qt(e),xn=o;break;case 12:Zt(n,e),Qt(e);break;case 13:Zt(n,e),Qt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(su=Qe()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ic(e,o)));break;case 22:u=e.memoizedState!==null;var _=r!==null&&r.memoizedState!==null,X=Gn,re=ot;if(Gn=X||u,ot=re||_,Zt(n,e),ot=re,Gn=X,Qt(e),o&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||_||Gn||ot||qs(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){_=r=n;try{if(m=_.stateNode,u)j=m.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{T=_.stateNode;var oe=_.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Z){Ge(_,_.return,Z)}}}else if(n.tag===6){if(r===null){_=n;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(Z){Ge(_,_.return,Z)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ic(e,r))));break;case 19:Zt(n,e),Qt(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ic(e,o)));break;case 30:break;case 21:break;default:Zt(n,e),Qt(e)}}function Qt(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(np(o)){r=o;break}o=o.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var u=r.stateNode,m=Kc(e);xl(e,m,u);break;case 5:var j=r.stateNode;r.flags&32&&(fa(j,""),r.flags&=-33);var T=Kc(e);xl(e,T,j);break;case 3:case 4:var _=r.stateNode.containerInfo,X=Kc(e);Zc(e,X,_);break;default:throw Error(l(161))}}catch(re){Ge(e,e.return,re)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;up(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function us(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)rp(e,n.alternate,n),n=n.sibling}function qs(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:cs(4,n,n.return),qs(n);break;case 1:Tn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ep(n,n.return,r),qs(n);break;case 27:Gr(n.stateNode);case 26:case 5:Tn(n,n.return),qs(n);break;case 22:n.memoizedState===null&&qs(n);break;case 30:qs(n);break;default:qs(n)}e=e.sibling}}function ds(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,u=e,m=n,j=m.flags;switch(m.tag){case 0:case 11:case 15:ds(u,m,r),Ur(4,m);break;case 1:if(ds(u,m,r),o=m,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(X){Ge(o,o.return,X)}if(o=m,u=o.updateQueue,u!==null){var T=o.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)zm(_[u],T)}catch(X){Ge(o,o.return,X)}}r&&j&64&&Jh(m),Br(m,m.return);break;case 27:sp(m);case 26:case 5:ds(u,m,r),r&&o===null&&j&4&&tp(m),Br(m,m.return);break;case 12:ds(u,m,r);break;case 13:ds(u,m,r),r&&j&4&&op(u,m);break;case 22:m.memoizedState===null&&ds(u,m,r),Br(m,m.return);break;case 30:break;default:ds(u,m,r)}n=n.sibling}}function Wc(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&wr(r))}function Jc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wr(e))}function kn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dp(e,n,r,o),n=n.sibling}function dp(e,n,r,o){var u=n.flags;switch(n.tag){case 0:case 11:case 15:kn(e,n,r,o),u&2048&&Ur(9,n);break;case 1:kn(e,n,r,o);break;case 3:kn(e,n,r,o),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&wr(e)));break;case 12:if(u&2048){kn(e,n,r,o),e=n.stateNode;try{var m=n.memoizedProps,j=m.id,T=m.onPostCommit;typeof T=="function"&&T(j,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ge(n,n.return,_)}}else kn(e,n,r,o);break;case 13:kn(e,n,r,o);break;case 23:break;case 22:m=n.stateNode,j=n.alternate,n.memoizedState!==null?m._visibility&2?kn(e,n,r,o):Pr(e,n):m._visibility&2?kn(e,n,r,o):(m._visibility|=2,Ma(e,n,r,o,(n.subtreeFlags&10256)!==0)),u&2048&&Wc(j,n);break;case 24:kn(e,n,r,o),u&2048&&Jc(n.alternate,n);break;default:kn(e,n,r,o)}}function Ma(e,n,r,o,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var m=e,j=n,T=r,_=o,X=j.flags;switch(j.tag){case 0:case 11:case 15:Ma(m,j,T,_,u),Ur(8,j);break;case 23:break;case 22:var re=j.stateNode;j.memoizedState!==null?re._visibility&2?Ma(m,j,T,_,u):Pr(m,j):(re._visibility|=2,Ma(m,j,T,_,u)),u&&X&2048&&Wc(j.alternate,j);break;case 24:Ma(m,j,T,_,u),u&&X&2048&&Jc(j.alternate,j);break;default:Ma(m,j,T,_,u)}n=n.sibling}}function Pr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,u=o.flags;switch(o.tag){case 22:Pr(r,o),u&2048&&Wc(o.alternate,o);break;case 24:Pr(r,o),u&2048&&Jc(o.alternate,o);break;default:Pr(r,o)}n=n.sibling}}var zr=8192;function _a(e){if(e.subtreeFlags&zr)for(e=e.child;e!==null;)fp(e),e=e.sibling}function fp(e){switch(e.tag){case 26:_a(e),e.flags&zr&&e.memoizedState!==null&&Xv(xn,e.memoizedState,e.memoizedProps);break;case 5:_a(e);break;case 3:case 4:var n=xn;xn=Dl(e.stateNode.containerInfo),_a(e),xn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=zr,zr=16777216,_a(e),zr=n):_a(e));break;default:_a(e)}}function mp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Vr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];vt=o,pp(o,e)}mp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hp(e),e=e.sibling}function hp(e){switch(e.tag){case 0:case 11:case 15:Vr(e),e.flags&2048&&cs(9,e,e.return);break;case 3:Vr(e);break;case 12:Vr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,yl(e)):Vr(e);break;default:Vr(e)}}function yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];vt=o,pp(o,e)}mp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:cs(8,n,n.return),yl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,yl(n));break;default:yl(n)}e=e.sibling}}function pp(e,n){for(;vt!==null;){var r=vt;switch(r.tag){case 0:case 11:case 15:cs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:wr(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,vt=o;else e:for(r=e;vt!==null;){o=vt;var u=o.sibling,m=o.return;if(ip(o),o===r){vt=null;break e}if(u!==null){u.return=m,vt=u;break e}vt=m}}}var cv={getCacheForType:function(e){var n=Et(ht),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},uv=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Xe=null,Me=null,Oe=0,Fe=0,It=null,fs=!1,Ra=!1,eu=!1,Kn=0,nt=0,ms=0,Ys=0,tu=0,un=0,La=0,Fr=null,Ht=null,nu=!1,su=0,bl=1/0,vl=null,hs=null,St=0,ps=null,Oa=null,Ua=0,au=0,ru=null,gp=null,Hr=0,iu=null;function Wt(){if((Ve&2)!==0&&Oe!==0)return Oe&-Oe;if(R.T!==null){var e=Na;return e!==0?e:mu()}return tn()}function xp(){un===0&&(un=(Oe&536870912)===0||Pe?Di():536870912);var e=cn.current;return e!==null&&(e.flags|=32),un}function Jt(e,n,r){(e===Xe&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(Ba(e,0),gs(e,Oe,un,!1)),ue(e,r),((Ve&2)===0||e!==Xe)&&(e===Xe&&((Ve&2)===0&&(Ys|=r),nt===4&&gs(e,Oe,un,!1)),En(e))}function yp(e,n,r){if((Ve&6)!==0)throw Error(l(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||As(e,n),u=o?mv(e,n):cu(e,n,!0),m=o;do{if(u===0){Ra&&!o&&gs(e,n,0,!1);break}else{if(r=e.current.alternate,m&&!dv(r)){u=cu(e,n,!1),m=!1;continue}if(u===2){if(m=n,e.errorRecoveryDisabledLanes&m)var j=0;else j=e.pendingLanes&-536870913,j=j!==0?j:j&536870912?536870912:0;if(j!==0){n=j;e:{var T=e;u=Fr;var _=T.current.memoizedState.isDehydrated;if(_&&(Ba(T,j).flags|=256),j=cu(T,j,!1),j!==2){if(eu&&!_){T.errorRecoveryDisabledLanes|=m,Ys|=m,u=4;break e}m=Ht,Ht=u,m!==null&&(Ht===null?Ht=m:Ht.push.apply(Ht,m))}u=j}if(m=!1,u!==2)continue}}if(u===1){Ba(e,0),gs(e,n,0,!0);break}e:{switch(o=e,m=u,m){case 0:case 1:throw Error(l(345));case 4:if((n&4194048)!==n)break;case 6:gs(o,n,un,!fs);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(l(329))}if((n&62914560)===n&&(u=su+300-Qe(),10<u)){if(gs(o,n,un,!fs),aa(o,0,!0)!==0)break e;o.timeoutHandle=Xp(bp.bind(null,o,r,Ht,vl,nu,n,un,Ys,La,fs,m,2,-0,0),u);break e}bp(o,r,Ht,vl,nu,n,un,Ys,La,fs,m,0,-0,0)}}break}while(!0);En(e)}function bp(e,n,r,o,u,m,j,T,_,X,re,oe,K,Z){if(e.timeoutHandle=-1,oe=n.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Zr={stylesheets:null,count:0,unsuspend:Gv},fp(n),oe=Kv(),oe!==null)){e.cancelPendingCommit=oe(Tp.bind(null,e,n,m,r,o,u,j,T,_,re,1,K,Z)),gs(e,m,j,!X);return}Tp(e,n,m,r,o,u,j,T,_)}function dv(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var u=r[o],m=u.getSnapshot;u=u.value;try{if(!Xt(m(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gs(e,n,r,o){n&=~tu,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var u=n;0<u;){var m=31-Lt(u),j=1<<m;o[m]=-1,u&=~j}r!==0&&ge(e,r,n)}function jl(){return(Ve&6)===0?($r(0),!1):!0}function lu(){if(Me!==null){if(Fe===0)var e=Me.return;else e=Me,Vn=zs=null,Sc(e),Aa=null,Rr=0,e=Me;for(;e!==null;)Wh(e.alternate,e),e=e.return;Me=null}}function Ba(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Av(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),lu(),Xe=e,Me=r=Bn(e.current,null),Oe=n,Fe=0,It=null,fs=!1,Ra=As(e,n),eu=!1,La=un=tu=Ys=ms=nt=0,Ht=Fr=null,nu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var u=31-Lt(o),m=1<<u;n|=e[u],o&=~m}return Kn=n,$i(),r}function vp(e,n){Ee=null,R.H=ol,n===Sr||n===Wi?(n=Bm(),Fe=3):n===Lm?(n=Bm(),Fe=4):Fe=n===Ph?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,It=n,Me===null&&(nt=1,ml(e,an(n,e.current)))}function jp(){var e=R.H;return R.H=ol,e===null?ol:e}function wp(){var e=R.A;return R.A=cv,e}function ou(){nt=4,fs||(Oe&4194048)!==Oe&&cn.current!==null||(Ra=!0),(ms&134217727)===0&&(Ys&134217727)===0||Xe===null||gs(Xe,Oe,un,!1)}function cu(e,n,r){var o=Ve;Ve|=2;var u=jp(),m=wp();(Xe!==e||Oe!==n)&&(vl=null,Ba(e,n)),n=!1;var j=nt;e:do try{if(Fe!==0&&Me!==null){var T=Me,_=It;switch(Fe){case 8:lu(),j=6;break e;case 3:case 2:case 9:case 6:cn.current===null&&(n=!0);var X=Fe;if(Fe=0,It=null,Pa(e,T,_,X),r&&Ra){j=0;break e}break;default:X=Fe,Fe=0,It=null,Pa(e,T,_,X)}}fv(),j=nt;break}catch(re){vp(e,re)}while(!0);return n&&e.shellSuspendCounter++,Vn=zs=null,Ve=o,R.H=u,R.A=m,Me===null&&(Xe=null,Oe=0,$i()),j}function fv(){for(;Me!==null;)Np(Me)}function mv(e,n){var r=Ve;Ve|=2;var o=jp(),u=wp();Xe!==e||Oe!==n?(vl=null,bl=Qe()+500,Ba(e,n)):Ra=As(e,n);e:do try{if(Fe!==0&&Me!==null){n=Me;var m=It;t:switch(Fe){case 1:Fe=0,It=null,Pa(e,n,m,1);break;case 2:case 9:if(Om(m)){Fe=0,It=null,Sp(n);break}n=function(){Fe!==2&&Fe!==9||Xe!==e||(Fe=7),En(e)},m.then(n,n);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Om(m)?(Fe=0,It=null,Sp(n)):(Fe=0,It=null,Pa(e,n,m,7));break;case 5:var j=null;switch(Me.tag){case 26:j=Me.memoizedState;case 5:case 27:var T=Me;if(!j||r0(j)){Fe=0,It=null;var _=T.sibling;if(_!==null)Me=_;else{var X=T.return;X!==null?(Me=X,wl(X)):Me=null}break t}}Fe=0,It=null,Pa(e,n,m,5);break;case 6:Fe=0,It=null,Pa(e,n,m,6);break;case 8:lu(),nt=6;break e;default:throw Error(l(462))}}hv();break}catch(re){vp(e,re)}while(!0);return Vn=zs=null,R.H=o,R.A=u,Ve=r,Me!==null?0:(Xe=null,Oe=0,$i(),nt)}function hv(){for(;Me!==null&&!Ai();)Np(Me)}function Np(e){var n=Qh(e.alternate,e,Kn);e.memoizedProps=e.pendingProps,n===null?wl(e):Me=n}function Sp(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=qh(r,n,n.pendingProps,n.type,void 0,Oe);break;case 11:n=qh(r,n,n.pendingProps,n.type.render,n.ref,Oe);break;case 5:Sc(n);default:Wh(r,n),n=Me=Cm(n,Kn),n=Qh(r,n,Kn)}e.memoizedProps=e.pendingProps,n===null?wl(e):Me=n}function Pa(e,n,r,o){Vn=zs=null,Sc(n),Aa=null,Rr=0;var u=n.return;try{if(sv(e,u,n,r,Oe)){nt=1,ml(e,an(r,e.current)),Me=null;return}}catch(m){if(u!==null)throw Me=u,m;nt=1,ml(e,an(r,e.current)),Me=null;return}n.flags&32768?(Pe||o===1?e=!0:Ra||(Oe&536870912)!==0?e=!1:(fs=e=!0,(o===2||o===9||o===3||o===6)&&(o=cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cp(n,e)):wl(n)}function wl(e){var n=e;do{if((n.flags&32768)!==0){Cp(n,fs);return}e=n.return;var r=rv(n.alternate,n,Kn);if(r!==null){Me=r;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);nt===0&&(nt=5)}function Cp(e,n){do{var r=iv(e.alternate,e);if(r!==null){r.flags&=32767,Me=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Me=e;return}Me=e=r}while(e!==null);nt=6,Me=null}function Tp(e,n,r,o,u,m,j,T,_){e.cancelPendingCommit=null;do Nl();while(St!==0);if((Ve&6)!==0)throw Error(l(327));if(n!==null){if(n===e.current)throw Error(l(177));if(m=n.lanes|n.childLanes,m|=Jo,me(e,r,m,j,T,_),e===Xe&&(Me=Xe=null,Oe=0),Oa=n,ps=e,Ua=r,au=m,ru=u,gp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yv(Ce,function(){return Mp(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=R.T,R.T=null,u=B.p,B.p=2,j=Ve,Ve|=4;try{lv(e,n,r)}finally{Ve=j,B.p=u,R.T=o}}St=1,kp(),Ep(),Ap()}}function kp(){if(St===1){St=0;var e=ps,n=Oa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=R.T,R.T=null;var o=B.p;B.p=2;var u=Ve;Ve|=4;try{cp(n,e);var m=ju,j=pm(e.containerInfo),T=m.focusedElem,_=m.selectionRange;if(j!==T&&T&&T.ownerDocument&&hm(T.ownerDocument.documentElement,T)){if(_!==null&&Ko(T)){var X=_.start,re=_.end;if(re===void 0&&(re=X),"selectionStart"in T)T.selectionStart=X,T.selectionEnd=Math.min(re,T.value.length);else{var oe=T.ownerDocument||document,K=oe&&oe.defaultView||window;if(K.getSelection){var Z=K.getSelection(),Ne=T.textContent.length,je=Math.min(_.start,Ne),qe=_.end===void 0?je:Math.min(_.end,Ne);!Z.extend&&je>qe&&(j=qe,qe=je,je=j);var H=mm(T,je),P=mm(T,qe);if(H&&P&&(Z.rangeCount!==1||Z.anchorNode!==H.node||Z.anchorOffset!==H.offset||Z.focusNode!==P.node||Z.focusOffset!==P.offset)){var Y=oe.createRange();Y.setStart(H.node,H.offset),Z.removeAllRanges(),je>qe?(Z.addRange(Y),Z.extend(P.node,P.offset)):(Y.setEnd(P.node,P.offset),Z.addRange(Y))}}}}for(oe=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&oe.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<oe.length;T++){var le=oe[T];le.element.scrollLeft=le.left,le.element.scrollTop=le.top}}Ol=!!vu,ju=vu=null}finally{Ve=u,B.p=o,R.T=r}}e.current=n,St=2}}function Ep(){if(St===2){St=0;var e=ps,n=Oa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=R.T,R.T=null;var o=B.p;B.p=2;var u=Ve;Ve|=4;try{rp(e,n.alternate,n)}finally{Ve=u,B.p=o,R.T=r}}St=3}}function Ap(){if(St===4||St===3){St=0,ir();var e=ps,n=Oa,r=Ua,o=gp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?St=5:(St=0,Oa=ps=null,Dp(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(hs=null),Ot(r),n=n.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(_t,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=R.T,u=B.p,B.p=2,R.T=null;try{for(var m=e.onRecoverableError,j=0;j<o.length;j++){var T=o[j];m(T.value,{componentStack:T.stack})}}finally{R.T=n,B.p=u}}(Ua&3)!==0&&Nl(),En(e),u=e.pendingLanes,(r&4194090)!==0&&(u&42)!==0?e===iu?Hr++:(Hr=0,iu=e):Hr=0,$r(0)}}function Dp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,wr(n)))}function Nl(e){return kp(),Ep(),Ap(),Mp()}function Mp(){if(St!==5)return!1;var e=ps,n=au;au=0;var r=Ot(Ua),o=R.T,u=B.p;try{B.p=32>r?32:r,R.T=null,r=ru,ru=null;var m=ps,j=Ua;if(St=0,Oa=ps=null,Ua=0,(Ve&6)!==0)throw Error(l(331));var T=Ve;if(Ve|=4,hp(m.current),dp(m,m.current,j,r),Ve=T,$r(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(_t,m)}catch{}return!0}finally{B.p=u,R.T=o,Dp(e,n)}}function _p(e,n,r){n=an(r,n),n=Pc(e.stateNode,n,2),e=rs(e,n,2),e!==null&&(ue(e,2),En(e))}function Ge(e,n,r){if(e.tag===3)_p(e,e,r);else for(;n!==null;){if(n.tag===3){_p(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hs===null||!hs.has(o))){e=an(r,e),r=Uh(2),o=rs(n,r,2),o!==null&&(Bh(r,o,n,e),ue(o,2),En(o));break}}n=n.return}}function uu(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new uv;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(r)||(eu=!0,u.add(r),e=pv.bind(null,e,n,r),n.then(e,e))}function pv(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Xe===e&&(Oe&r)===r&&(nt===4||nt===3&&(Oe&62914560)===Oe&&300>Qe()-su?(Ve&2)===0&&Ba(e,0):tu|=r,La===Oe&&(La=0)),En(e)}function Rp(e,n){n===0&&(n=Mi()),e=ba(e,n),e!==null&&(ue(e,n),En(e))}function gv(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Rp(e,r)}function xv(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(l(314))}o!==null&&o.delete(n),Rp(e,r)}function yv(e,n){return wt(e,n)}var Sl=null,za=null,du=!1,Cl=!1,fu=!1,Gs=0;function En(e){e!==za&&e.next===null&&(za===null?Sl=za=e:za=za.next=e),Cl=!0,du||(du=!0,vv())}function $r(e,n){if(!fu&&Cl){fu=!0;do for(var r=!1,o=Sl;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var m=0;else{var j=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-Lt(42|e)+1)-1,m&=u&~(j&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Bp(o,m))}else m=Oe,m=aa(o,o===Xe?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||As(o,m)||(r=!0,Bp(o,m));o=o.next}while(r);fu=!1}}function bv(){Lp()}function Lp(){Cl=du=!1;var e=0;Gs!==0&&(Ev()&&(e=Gs),Gs=0);for(var n=Qe(),r=null,o=Sl;o!==null;){var u=o.next,m=Op(o,n);m===0?(o.next=null,r===null?Sl=u:r.next=u,u===null&&(za=r)):(r=o,(e!==0||(m&3)!==0)&&(Cl=!0)),o=u}$r(e)}function Op(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var j=31-Lt(m),T=1<<j,_=u[j];_===-1?((T&r)===0||(T&o)!==0)&&(u[j]=ko(T,n)):_<=n&&(e.expiredLanes|=T),m&=~T}if(n=Xe,r=Oe,r=aa(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&en(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||As(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&en(o),Ot(r)){case 2:case 8:r=be;break;case 32:r=Ce;break;case 268435456:r=Ie;break;default:r=Ce}return o=Up.bind(null,e),r=wt(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&en(o),e.callbackPriority=2,e.callbackNode=null,2}function Up(e,n){if(St!==0&&St!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Nl()&&e.callbackNode!==r)return null;var o=Oe;return o=aa(e,e===Xe?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(yp(e,o,n),Op(e,Qe()),e.callbackNode!=null&&e.callbackNode===r?Up.bind(null,e):null)}function Bp(e,n){if(Nl())return null;yp(e,n,!0)}function vv(){Dv(function(){(Ve&6)!==0?wt(W,bv):Lp()})}function mu(){return Gs===0&&(Gs=Di()),Gs}function Pp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ui(""+e)}function zp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function jv(e,n,r,o,u){if(n==="submit"&&r&&r.stateNode===u){var m=Pp((u[Pt]||null).action),j=o.submitter;j&&(n=(n=j[Pt]||null)?Pp(n.formAction):j.getAttribute("formAction"),n!==null&&(m=n,j=null));var T=new Vi("action","action",null,o,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Gs!==0){var _=j?zp(u,j):new FormData(u);Rc(r,{pending:!0,data:_,method:u.method,action:m},null,_)}}else typeof m=="function"&&(T.preventDefault(),_=j?zp(u,j):new FormData(u),Rc(r,{pending:!0,data:_,method:u.method,action:m},m,_))},currentTarget:u}]})}}for(var hu=0;hu<Wo.length;hu++){var pu=Wo[hu],wv=pu.toLowerCase(),Nv=pu[0].toUpperCase()+pu.slice(1);gn(wv,"on"+Nv)}gn(ym,"onAnimationEnd"),gn(bm,"onAnimationIteration"),gn(vm,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(V2,"onTransitionRun"),gn(F2,"onTransitionStart"),gn(H2,"onTransitionCancel"),gn(jm,"onTransitionEnd"),ca("onMouseEnter",["mouseout","mouseover"]),ca("onMouseLeave",["mouseout","mouseover"]),ca("onPointerEnter",["pointerout","pointerover"]),ca("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qr));function Vp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],u=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var j=o.length-1;0<=j;j--){var T=o[j],_=T.instance,X=T.currentTarget;if(T=T.listener,_!==m&&u.isPropagationStopped())break e;m=T,u.currentTarget=X;try{m(u)}catch(re){fl(re)}u.currentTarget=null,m=_}else for(j=0;j<o.length;j++){if(T=o[j],_=T.instance,X=T.currentTarget,T=T.listener,_!==m&&u.isPropagationStopped())break e;m=T,u.currentTarget=X;try{m(u)}catch(re){fl(re)}u.currentTarget=null,m=_}}}}function _e(e,n){var r=n[Eo];r===void 0&&(r=n[Eo]=new Set);var o=e+"__bubble";r.has(o)||(Fp(n,e,2,!1),r.add(o))}function gu(e,n,r){var o=0;n&&(o|=4),Fp(r,e,o,n)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function xu(e){if(!e[Tl]){e[Tl]=!0,Lf.forEach(function(r){r!=="selectionchange"&&(Sv.has(r)||gu(r,!1,e),gu(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Tl]||(n[Tl]=!0,gu("selectionchange",!1,n))}}function Fp(e,n,r,o){switch(d0(n)){case 2:var u=Iv;break;case 8:u=Wv;break;default:u=Mu}r=u.bind(null,n,r,e),u=void 0,!zo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function yu(e,n,r,o,u){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var j=o.tag;if(j===3||j===4){var T=o.stateNode.containerInfo;if(T===u)break;if(j===4)for(j=o.return;j!==null;){var _=j.tag;if((_===3||_===4)&&j.stateNode.containerInfo===u)return;j=j.return}for(;T!==null;){if(j=ia(T),j===null)return;if(_=j.tag,_===5||_===6||_===26||_===27){o=m=j;continue e}T=T.parentNode}}o=o.return}Kf(function(){var X=m,re=Bo(r),oe=[];e:{var K=wm.get(e);if(K!==void 0){var Z=Vi,Ne=e;switch(e){case"keypress":if(Pi(r)===0)break e;case"keydown":case"keyup":Z=y2;break;case"focusin":Ne="focus",Z=$o;break;case"focusout":Ne="blur",Z=$o;break;case"beforeblur":case"afterblur":Z=$o;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=If;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=i2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=j2;break;case ym:case bm:case vm:Z=c2;break;case jm:Z=N2;break;case"scroll":case"scrollend":Z=a2;break;case"wheel":Z=C2;break;case"copy":case"cut":case"paste":Z=d2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Jf;break;case"toggle":case"beforetoggle":Z=k2}var je=(n&4)!==0,qe=!je&&(e==="scroll"||e==="scrollend"),H=je?K!==null?K+"Capture":null:K;je=[];for(var P=X,Y;P!==null;){var le=P;if(Y=le.stateNode,le=le.tag,le!==5&&le!==26&&le!==27||Y===null||H===null||(le=cr(P,H),le!=null&&je.push(Yr(P,le,Y))),qe)break;P=P.return}0<je.length&&(K=new Z(K,Ne,null,r,re),oe.push({event:K,listeners:je}))}}if((n&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",K&&r!==Uo&&(Ne=r.relatedTarget||r.fromElement)&&(ia(Ne)||Ne[ra]))break e;if((Z||K)&&(K=re.window===re?re:(K=re.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(Ne=r.relatedTarget||r.toElement,Z=X,Ne=Ne?ia(Ne):null,Ne!==null&&(qe=f(Ne),je=Ne.tag,Ne!==qe||je!==5&&je!==27&&je!==6)&&(Ne=null)):(Z=null,Ne=X),Z!==Ne)){if(je=If,le="onMouseLeave",H="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(je=Jf,le="onPointerLeave",H="onPointerEnter",P="pointer"),qe=Z==null?K:or(Z),Y=Ne==null?K:or(Ne),K=new je(le,P+"leave",Z,r,re),K.target=qe,K.relatedTarget=Y,le=null,ia(re)===X&&(je=new je(H,P+"enter",Ne,r,re),je.target=Y,je.relatedTarget=qe,le=je),qe=le,Z&&Ne)t:{for(je=Z,H=Ne,P=0,Y=je;Y;Y=Va(Y))P++;for(Y=0,le=H;le;le=Va(le))Y++;for(;0<P-Y;)je=Va(je),P--;for(;0<Y-P;)H=Va(H),Y--;for(;P--;){if(je===H||H!==null&&je===H.alternate)break t;je=Va(je),H=Va(H)}je=null}else je=null;Z!==null&&Hp(oe,K,Z,je,!1),Ne!==null&&qe!==null&&Hp(oe,qe,Ne,je,!0)}}e:{if(K=X?or(X):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var xe=lm;else if(rm(K))if(om)xe=B2;else{xe=O2;var De=L2}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?X&&Oo(X.elementType)&&(xe=lm):xe=U2;if(xe&&(xe=xe(e,X))){im(oe,xe,r,re);break e}De&&De(e,K,X),e==="focusout"&&X&&K.type==="number"&&X.memoizedProps.value!=null&&Lo(K,"number",K.value)}switch(De=X?or(X):window,e){case"focusin":(rm(De)||De.contentEditable==="true")&&(ga=De,Zo=X,xr=null);break;case"focusout":xr=Zo=ga=null;break;case"mousedown":Qo=!0;break;case"contextmenu":case"mouseup":case"dragend":Qo=!1,gm(oe,r,re);break;case"selectionchange":if(z2)break;case"keydown":case"keyup":gm(oe,r,re)}var ye;if(Yo)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else pa?sm(e,r)&&(we="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(we="onCompositionStart");we&&(em&&r.locale!=="ko"&&(pa||we!=="onCompositionStart"?we==="onCompositionEnd"&&pa&&(ye=Zf()):(ts=re,Vo="value"in ts?ts.value:ts.textContent,pa=!0)),De=kl(X,we),0<De.length&&(we=new Wf(we,e,null,r,re),oe.push({event:we,listeners:De}),ye?we.data=ye:(ye=am(r),ye!==null&&(we.data=ye)))),(ye=A2?D2(e,r):M2(e,r))&&(we=kl(X,"onBeforeInput"),0<we.length&&(De=new Wf("onBeforeInput","beforeinput",null,r,re),oe.push({event:De,listeners:we}),De.data=ye)),jv(oe,e,X,r,re)}Vp(oe,n)})}function Yr(e,n,r){return{instance:e,listener:n,currentTarget:r}}function kl(e,n){for(var r=n+"Capture",o=[];e!==null;){var u=e,m=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||m===null||(u=cr(e,r),u!=null&&o.unshift(Yr(e,u,m)),u=cr(e,n),u!=null&&o.push(Yr(e,u,m))),e.tag===3)return o;e=e.return}return[]}function Va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hp(e,n,r,o,u){for(var m=n._reactName,j=[];r!==null&&r!==o;){var T=r,_=T.alternate,X=T.stateNode;if(T=T.tag,_!==null&&_===o)break;T!==5&&T!==26&&T!==27||X===null||(_=X,u?(X=cr(r,m),X!=null&&j.unshift(Yr(r,X,_))):u||(X=cr(r,m),X!=null&&j.push(Yr(r,X,_)))),r=r.return}j.length!==0&&e.push({event:n,listeners:j})}var Cv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function $p(e){return(typeof e=="string"?e:""+e).replace(Cv,`
`).replace(Tv,"")}function qp(e,n){return n=$p(n),$p(e)===n}function El(){}function $e(e,n,r,o,u,m){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fa(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fa(e,""+o);break;case"className":Ri(e,"class",o);break;case"tabIndex":Ri(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(e,r,o);break;case"style":Gf(e,o,m);break;case"data":if(n!=="object"){Ri(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ui(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(n!=="input"&&$e(e,n,"name",u.name,u,null),$e(e,n,"formEncType",u.formEncType,u,null),$e(e,n,"formMethod",u.formMethod,u,null),$e(e,n,"formTarget",u.formTarget,u,null)):($e(e,n,"encType",u.encType,u,null),$e(e,n,"method",u.method,u,null),$e(e,n,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Ui(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=El);break;case"onScroll":o!=null&&_e("scroll",e);break;case"onScrollEnd":o!=null&&_e("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Ui(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":_e("beforetoggle",e),_e("toggle",e),_i(e,"popover",o);break;case"xlinkActuate":On(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":On(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":On(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":On(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":On(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":On(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":On(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":On(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":On(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":_i(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=n2.get(r)||r,_i(e,r,o))}}function bu(e,n,r,o,u,m){switch(r){case"style":Gf(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(l(61));if(r=o.__html,r!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=r}}break;case"children":typeof o=="string"?fa(e,o):(typeof o=="number"||typeof o=="bigint")&&fa(e,""+o);break;case"onScroll":o!=null&&_e("scroll",e);break;case"onScrollEnd":o!=null&&_e("scrollend",e);break;case"onClick":o!=null&&(e.onclick=El);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Of.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),m=e[Pt]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(n,m,u),typeof o=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,u);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):_i(e,r,o)}}}function Ct(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",e),_e("load",e);var o=!1,u=!1,m;for(m in r)if(r.hasOwnProperty(m)){var j=r[m];if(j!=null)switch(m){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:$e(e,n,m,j,r,null)}}u&&$e(e,n,"srcSet",r.srcSet,r,null),o&&$e(e,n,"src",r.src,r,null);return;case"input":_e("invalid",e);var T=m=j=u=null,_=null,X=null;for(o in r)if(r.hasOwnProperty(o)){var re=r[o];if(re!=null)switch(o){case"name":u=re;break;case"type":j=re;break;case"checked":_=re;break;case"defaultChecked":X=re;break;case"value":m=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(l(137,n));break;default:$e(e,n,o,re,r,null)}}Hf(e,m,T,_,X,j,u,!1),Li(e);return;case"select":_e("invalid",e),o=j=m=null;for(u in r)if(r.hasOwnProperty(u)&&(T=r[u],T!=null))switch(u){case"value":m=T;break;case"defaultValue":j=T;break;case"multiple":o=T;default:$e(e,n,u,T,r,null)}n=m,r=j,e.multiple=!!o,n!=null?da(e,!!o,n,!1):r!=null&&da(e,!!o,r,!0);return;case"textarea":_e("invalid",e),m=u=o=null;for(j in r)if(r.hasOwnProperty(j)&&(T=r[j],T!=null))switch(j){case"value":o=T;break;case"defaultValue":u=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(l(91));break;default:$e(e,n,j,T,r,null)}qf(e,o,u,m),Li(e);return;case"option":for(_ in r)if(r.hasOwnProperty(_)&&(o=r[_],o!=null))switch(_){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:$e(e,n,_,o,r,null)}return;case"dialog":_e("beforetoggle",e),_e("toggle",e),_e("cancel",e),_e("close",e);break;case"iframe":case"object":_e("load",e);break;case"video":case"audio":for(o=0;o<qr.length;o++)_e(qr[o],e);break;case"image":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"embed":case"source":case"link":_e("error",e),_e("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in r)if(r.hasOwnProperty(X)&&(o=r[X],o!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,n));default:$e(e,n,X,o,r,null)}return;default:if(Oo(n)){for(re in r)r.hasOwnProperty(re)&&(o=r[re],o!==void 0&&bu(e,n,re,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&$e(e,n,T,o,r,null))}function kv(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,m=null,j=null,T=null,_=null,X=null,re=null;for(Z in r){var oe=r[Z];if(r.hasOwnProperty(Z)&&oe!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":_=oe;default:o.hasOwnProperty(Z)||$e(e,n,Z,null,o,oe)}}for(var K in o){var Z=o[K];if(oe=r[K],o.hasOwnProperty(K)&&(Z!=null||oe!=null))switch(K){case"type":m=Z;break;case"name":u=Z;break;case"checked":X=Z;break;case"defaultChecked":re=Z;break;case"value":j=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(l(137,n));break;default:Z!==oe&&$e(e,n,K,Z,o,oe)}}Ro(e,j,T,_,X,re,m,u);return;case"select":Z=j=T=K=null;for(m in r)if(_=r[m],r.hasOwnProperty(m)&&_!=null)switch(m){case"value":break;case"multiple":Z=_;default:o.hasOwnProperty(m)||$e(e,n,m,null,o,_)}for(u in o)if(m=o[u],_=r[u],o.hasOwnProperty(u)&&(m!=null||_!=null))switch(u){case"value":K=m;break;case"defaultValue":T=m;break;case"multiple":j=m;default:m!==_&&$e(e,n,u,m,o,_)}n=T,r=j,o=Z,K!=null?da(e,!!r,K,!1):!!o!=!!r&&(n!=null?da(e,!!r,n,!0):da(e,!!r,r?[]:"",!1));return;case"textarea":Z=K=null;for(T in r)if(u=r[T],r.hasOwnProperty(T)&&u!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(e,n,T,null,o,u)}for(j in o)if(u=o[j],m=r[j],o.hasOwnProperty(j)&&(u!=null||m!=null))switch(j){case"value":K=u;break;case"defaultValue":Z=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==m&&$e(e,n,j,u,o,m)}$f(e,K,Z);return;case"option":for(var Ne in r)if(K=r[Ne],r.hasOwnProperty(Ne)&&K!=null&&!o.hasOwnProperty(Ne))switch(Ne){case"selected":e.selected=!1;break;default:$e(e,n,Ne,null,o,K)}for(_ in o)if(K=o[_],Z=r[_],o.hasOwnProperty(_)&&K!==Z&&(K!=null||Z!=null))switch(_){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:$e(e,n,_,K,o,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in r)K=r[je],r.hasOwnProperty(je)&&K!=null&&!o.hasOwnProperty(je)&&$e(e,n,je,null,o,K);for(X in o)if(K=o[X],Z=r[X],o.hasOwnProperty(X)&&K!==Z&&(K!=null||Z!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(l(137,n));break;default:$e(e,n,X,K,o,Z)}return;default:if(Oo(n)){for(var qe in r)K=r[qe],r.hasOwnProperty(qe)&&K!==void 0&&!o.hasOwnProperty(qe)&&bu(e,n,qe,void 0,o,K);for(re in o)K=o[re],Z=r[re],!o.hasOwnProperty(re)||K===Z||K===void 0&&Z===void 0||bu(e,n,re,K,o,Z);return}}for(var H in r)K=r[H],r.hasOwnProperty(H)&&K!=null&&!o.hasOwnProperty(H)&&$e(e,n,H,null,o,K);for(oe in o)K=o[oe],Z=r[oe],!o.hasOwnProperty(oe)||K===Z||K==null&&Z==null||$e(e,n,oe,K,o,Z)}var vu=null,ju=null;function Al(e){return e.nodeType===9?e:e.ownerDocument}function Yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Nu=null;function Ev(){var e=window.event;return e&&e.type==="popstate"?e===Nu?!1:(Nu=e,!0):(Nu=null,!1)}var Xp=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,Dv=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch(Mv)}:Xp;function Mv(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function Zp(e,n){var r=n,o=0,u=0;do{var m=r.nextSibling;if(e.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<o&&8>o){r=o;var j=e.ownerDocument;if(r&1&&Gr(j.documentElement),r&2&&Gr(j.body),r&4)for(r=j.head,Gr(r),j=r.firstChild;j;){var T=j.nextSibling,_=j.nodeName;j[lr]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&j.rel.toLowerCase()==="stylesheet"||r.removeChild(j),j=T}}if(u===0){e.removeChild(m),ei(n);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:o=r.charCodeAt(0)-48;else o=0;r=m}while(r);ei(n)}function Su(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Su(r),Ao(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function _v(e,n,r,o){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[lr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=yn(e.nextSibling),e===null)break}return null}function Rv(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=yn(e.nextSibling),e===null))return null;return e}function Cu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Lv(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Tu=null;function Qp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function Ip(e,n,r){switch(n=Al(r),e){case"html":if(e=n.documentElement,!e)throw Error(l(452));return e;case"head":if(e=n.head,!e)throw Error(l(453));return e;case"body":if(e=n.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Gr(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ao(e)}var dn=new Map,Wp=new Set;function Dl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=B.d;B.d={f:Ov,r:Uv,D:Bv,C:Pv,L:zv,m:Vv,X:Hv,S:Fv,M:$v};function Ov(){var e=Zn.f(),n=jl();return e||n}function Uv(e){var n=la(e);n!==null&&n.tag===5&&n.type==="form"?yh(n):Zn.r(e)}var Fa=typeof document>"u"?null:document;function Jp(e,n,r){var o=Fa;if(o&&typeof n=="string"&&n){var u=sn(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),Wp.has(u)||(Wp.add(u),e={rel:e,crossOrigin:r,href:n},o.querySelector(u)===null&&(n=o.createElement("link"),Ct(n,"link",e),yt(n),o.head.appendChild(n)))}}function Bv(e){Zn.D(e),Jp("dns-prefetch",e,null)}function Pv(e,n){Zn.C(e,n),Jp("preconnect",e,n)}function zv(e,n,r){Zn.L(e,n,r);var o=Fa;if(o&&e&&n){var u='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+sn(r.imageSizes)+'"]')):u+='[href="'+sn(e)+'"]';var m=u;switch(n){case"style":m=Ha(e);break;case"script":m=$a(e)}dn.has(m)||(e=g({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),dn.set(m,e),o.querySelector(u)!==null||n==="style"&&o.querySelector(Xr(m))||n==="script"&&o.querySelector(Kr(m))||(n=o.createElement("link"),Ct(n,"link",e),yt(n),o.head.appendChild(n)))}}function Vv(e,n){Zn.m(e,n);var r=Fa;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',m=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$a(e)}if(!dn.has(m)&&(e=g({rel:"modulepreload",href:e},n),dn.set(m,e),r.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Kr(m)))return}o=r.createElement("link"),Ct(o,"link",e),yt(o),r.head.appendChild(o)}}}function Fv(e,n,r){Zn.S(e,n,r);var o=Fa;if(o&&e){var u=oa(o).hoistableStyles,m=Ha(e);n=n||"default";var j=u.get(m);if(!j){var T={loading:0,preload:null};if(j=o.querySelector(Xr(m)))T.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},r),(r=dn.get(m))&&ku(e,r);var _=j=o.createElement("link");yt(_),Ct(_,"link",e),_._p=new Promise(function(X,re){_.onload=X,_.onerror=re}),_.addEventListener("load",function(){T.loading|=1}),_.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ml(j,n,o)}j={type:"stylesheet",instance:j,count:1,state:T},u.set(m,j)}}}function Hv(e,n){Zn.X(e,n);var r=Fa;if(r&&e){var o=oa(r).hoistableScripts,u=$a(e),m=o.get(u);m||(m=r.querySelector(Kr(u)),m||(e=g({src:e,async:!0},n),(n=dn.get(u))&&Eu(e,n),m=r.createElement("script"),yt(m),Ct(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function $v(e,n){Zn.M(e,n);var r=Fa;if(r&&e){var o=oa(r).hoistableScripts,u=$a(e),m=o.get(u);m||(m=r.querySelector(Kr(u)),m||(e=g({src:e,async:!0,type:"module"},n),(n=dn.get(u))&&Eu(e,n),m=r.createElement("script"),yt(m),Ct(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(u,m))}}function e0(e,n,r,o){var u=(u=fe.current)?Dl(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ha(r.href),r=oa(u).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ha(r.href);var m=oa(u).hoistableStyles,j=m.get(e);if(j||(u=u.ownerDocument||u,j={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,j),(m=u.querySelector(Xr(e)))&&!m._p&&(j.instance=m,j.state.loading=5),dn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},dn.set(e,r),m||qv(u,e,r,j.state))),n&&o===null)throw Error(l(528,""));return j}if(n&&o!==null)throw Error(l(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(r),r=oa(u).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Ha(e){return'href="'+sn(e)+'"'}function Xr(e){return'link[rel="stylesheet"]['+e+"]"}function t0(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function qv(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ct(n,"link",r),yt(n),e.head.appendChild(n))}function $a(e){return'[src="'+sn(e)+'"]'}function Kr(e){return"script[async]"+e}function n0(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(o)return n.instance=o,yt(o),o;var u=g({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),yt(o),Ct(o,"style",u),Ml(o,r.precedence,e),n.instance=o;case"stylesheet":u=Ha(r.href);var m=e.querySelector(Xr(u));if(m)return n.state.loading|=4,n.instance=m,yt(m),m;o=t0(r),(u=dn.get(u))&&ku(o,u),m=(e.ownerDocument||e).createElement("link"),yt(m);var j=m;return j._p=new Promise(function(T,_){j.onload=T,j.onerror=_}),Ct(m,"link",o),n.state.loading|=4,Ml(m,r.precedence,e),n.instance=m;case"script":return m=$a(r.src),(u=e.querySelector(Kr(m)))?(n.instance=u,yt(u),u):(o=r,(u=dn.get(m))&&(o=g({},r),Eu(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),yt(u),Ct(u,"link",o),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(l(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Ml(o,r.precedence,e));return n.instance}function Ml(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,m=u,j=0;j<o.length;j++){var T=o[j];if(T.dataset.precedence===n)m=T;else if(m!==u)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function ku(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Eu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _l=null;function s0(e,n,r){if(_l===null){var o=new Map,u=_l=new Map;u.set(r,o)}else u=_l,o=u.get(r),o||(o=new Map,u.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var m=r[u];if(!(m[lr]||m[kt]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var j=m.getAttribute(n)||"";j=e+j;var T=o.get(j);T?T.push(m):o.set(j,[m])}}return o}function a0(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Yv(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function r0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Zr=null;function Gv(){}function Xv(e,n,r){if(Zr===null)throw Error(l(475));var o=Zr;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Ha(r.href),m=e.querySelector(Xr(u));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Rl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=m,yt(m);return}m=e.ownerDocument||e,r=t0(r),(u=dn.get(u))&&ku(r,u),m=m.createElement("link"),yt(m);var j=m;j._p=new Promise(function(T,_){j.onload=T,j.onerror=_}),Ct(m,"link",r),n.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=Rl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Kv(){if(Zr===null)throw Error(l(475));var e=Zr;return e.stylesheets&&e.count===0&&Au(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Au(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Rl(){if(this.count--,this.count===0){if(this.stylesheets)Au(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ll=null;function Au(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ll=new Map,n.forEach(Zv,e),Ll=null,Rl.call(e))}function Zv(e,n){if(!(n.state.loading&4)){var r=Ll.get(e);if(r)var o=r.get(null);else{r=new Map,Ll.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<u.length;m++){var j=u[m];(j.nodeName==="LINK"||j.getAttribute("media")!=="not all")&&(r.set(j.dataset.precedence,j),o=j)}o&&r.set(null,o)}u=n.instance,j=u.getAttribute("data-precedence"),m=r.get(j)||o,m===o&&r.set(null,u),r.set(j,u),this.count++,o=Rl.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),m?m.parentNode.insertBefore(u,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Qr={$$typeof:D,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function Qv(e,n,r,o,u,m,j,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=m,this.onRecoverableError=j,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function i0(e,n,r,o,u,m,j,T,_,X,re,oe){return e=new Qv(e,n,r,j,T,_,X,oe),n=1,m===!0&&(n|=24),m=Kt(3,null,null,n),e.current=m,m.stateNode=e,n=uc(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:n},hc(m),e}function l0(e){return e?(e=va,e):va}function o0(e,n,r,o,u,m){u=l0(u),o.context===null?o.context=u:o.pendingContext=u,o=as(n),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=rs(e,o,n),r!==null&&(Jt(r,e,n),Tr(r,e,n))}function c0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Du(e,n){c0(e,n),(e=e.alternate)&&c0(e,n)}function u0(e){if(e.tag===13){var n=ba(e,67108864);n!==null&&Jt(n,e,67108864),Du(e,67108864)}}var Ol=!0;function Iv(e,n,r,o){var u=R.T;R.T=null;var m=B.p;try{B.p=2,Mu(e,n,r,o)}finally{B.p=m,R.T=u}}function Wv(e,n,r,o){var u=R.T;R.T=null;var m=B.p;try{B.p=8,Mu(e,n,r,o)}finally{B.p=m,R.T=u}}function Mu(e,n,r,o){if(Ol){var u=_u(o);if(u===null)yu(e,n,o,Ul,r),f0(e,o);else if(e1(u,e,n,r,o))o.stopPropagation();else if(f0(e,o),n&4&&-1<Jv.indexOf(e)){for(;u!==null;){var m=la(u);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var j=it(m.pendingLanes);if(j!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;j;){var _=1<<31-Lt(j);T.entanglements[1]|=_,j&=~_}En(m),(Ve&6)===0&&(bl=Qe()+500,$r(0))}}break;case 13:T=ba(m,2),T!==null&&Jt(T,m,2),jl(),Du(m,2)}if(m=_u(o),m===null&&yu(e,n,o,Ul,r),m===u)break;u=m}u!==null&&o.stopPropagation()}else yu(e,n,o,null,r)}}function _u(e){return e=Bo(e),Ru(e)}var Ul=null;function Ru(e){if(Ul=null,e=ia(e),e!==null){var n=f(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ul=e,null}function d0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gt()){case W:return 2;case be:return 8;case Ce:case Be:return 32;case Ie:return 268435456;default:return 32}default:return 32}}var Lu=!1,ys=null,bs=null,vs=null,Ir=new Map,Wr=new Map,js=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function f0(e,n){switch(e){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":Ir.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(n.pointerId)}}function Jr(e,n,r,o,u,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[u]},n!==null&&(n=la(n),n!==null&&u0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function e1(e,n,r,o,u){switch(n){case"focusin":return ys=Jr(ys,e,n,r,o,u),!0;case"dragenter":return bs=Jr(bs,e,n,r,o,u),!0;case"mouseover":return vs=Jr(vs,e,n,r,o,u),!0;case"pointerover":var m=u.pointerId;return Ir.set(m,Jr(Ir.get(m)||null,e,n,r,o,u)),!0;case"gotpointercapture":return m=u.pointerId,Wr.set(m,Jr(Wr.get(m)||null,e,n,r,o,u)),!0}return!1}function m0(e){var n=ia(e.target);if(n!==null){var r=f(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Xb(e.priority,function(){if(r.tag===13){var o=Wt();o=ve(o);var u=ba(r,o);u!==null&&Jt(u,r,o),Du(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=_u(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Uo=o,r.target.dispatchEvent(o),Uo=null}else return n=la(r),n!==null&&u0(n),e.blockedOn=r,!1;n.shift()}return!0}function h0(e,n,r){Bl(e)&&r.delete(n)}function t1(){Lu=!1,ys!==null&&Bl(ys)&&(ys=null),bs!==null&&Bl(bs)&&(bs=null),vs!==null&&Bl(vs)&&(vs=null),Ir.forEach(h0),Wr.forEach(h0)}function Pl(e,n){e.blockedOn===n&&(e.blockedOn=null,Lu||(Lu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,t1)))}var zl=null;function p0(e){zl!==e&&(zl=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zl===e&&(zl=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],u=e[n+2];if(typeof o!="function"){if(Ru(o||r)===null)continue;break}var m=la(r);m!==null&&(e.splice(n,3),n-=3,Rc(m,{pending:!0,data:u,method:r.method,action:o},o,u))}}))}function ei(e){function n(_){return Pl(_,e)}ys!==null&&Pl(ys,e),bs!==null&&Pl(bs,e),vs!==null&&Pl(vs,e),Ir.forEach(n),Wr.forEach(n);for(var r=0;r<js.length;r++){var o=js[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<js.length&&(r=js[0],r.blockedOn===null);)m0(r),r.blockedOn===null&&js.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var u=r[o],m=r[o+1],j=u[Pt]||null;if(typeof m=="function")j||p0(r);else if(j){var T=null;if(m&&m.hasAttribute("formAction")){if(u=m,j=m[Pt]||null)T=j.formAction;else if(Ru(u)!==null)continue}else T=j.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),p0(r)}}}function Ou(e){this._internalRoot=e}Vl.prototype.render=Ou.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));var r=n.current,o=Wt();o0(r,o,e,n,null,null)},Vl.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;o0(e.current,2,null,e,null,null),jl(),n[ra]=null}};function Vl(e){this._internalRoot=e}Vl.prototype.unstable_scheduleHydration=function(e){if(e){var n=tn();e={blockedOn:null,target:e,priority:n};for(var r=0;r<js.length&&n!==0&&n<js[r].priority;r++);js.splice(r,0,e),r===0&&m0(e)}};var g0=s.version;if(g0!=="19.1.1")throw Error(l(527,g0,"19.1.1"));B.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var n1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fl.isDisabled&&Fl.supportsFiber)try{_t=Fl.inject(n1),Rt=Fl}catch{}}return ni.createRoot=function(e,n){if(!c(e))throw Error(l(299));var r=!1,o="",u=_h,m=Rh,j=Lh,T=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(j=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=i0(e,1,!1,null,null,r,o,u,m,j,T,null),e[ra]=n.current,xu(e),new Ou(n)},ni.hydrateRoot=function(e,n,r){if(!c(e))throw Error(l(299));var o=!1,u="",m=_h,j=Rh,T=Lh,_=null,X=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(j=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(_=r.unstable_transitionCallbacks),r.formState!==void 0&&(X=r.formState)),n=i0(e,1,!0,n,r??null,o,u,m,j,T,_,X),n.context=l0(null),r=n.current,o=Wt(),o=ve(o),u=as(o),u.callback=null,rs(r,u,o),r=o,n.current.lanes=r,ue(n,r),En(n),e[ra]=n.current,xu(e),new Vl(n)},ni.version="19.1.1",ni}var T0;function d1(){if(T0)return Pu.exports;T0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),Pu.exports=u1(),Pu.exports}var f1=d1();const m1=Sx(f1);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var k0="popstate";function h1(t={}){function s(l,c){let{pathname:f,search:d,hash:h}=l.location;return md("",{pathname:f,search:d,hash:h},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(l,c){return typeof c=="string"?c:di(c)}return g1(s,i,null,t)}function et(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function jn(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function p1(){return Math.random().toString(36).substring(2,10)}function E0(t,s){return{usr:t.state,key:t.key,idx:s}}function md(t,s,i=null,l){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?Ja(s):s,state:i,key:s&&s.key||l||p1()}}function di({pathname:t="/",search:s="",hash:i=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ja(t){let s={};if(t){let i=t.indexOf("#");i>=0&&(s.hash=t.substring(i),t=t.substring(0,i));let l=t.indexOf("?");l>=0&&(s.search=t.substring(l),t=t.substring(0,l)),t&&(s.pathname=t)}return s}function g1(t,s,i,l={}){let{window:c=document.defaultView,v5Compat:f=!1}=l,d=c.history,h="POP",p=null,x=g();x==null&&(x=0,d.replaceState({...d.state,idx:x},""));function g(){return(d.state||{idx:null}).idx}function y(){h="POP";let C=g(),k=C==null?null:C-x;x=C,p&&p({action:h,location:E.location,delta:k})}function v(C,k){h="PUSH";let A=md(E.location,C,k);x=g()+1;let D=E0(A,x),V=E.createHref(A);try{d.pushState(D,"",V)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;c.location.assign(V)}f&&p&&p({action:h,location:E.location,delta:1})}function N(C,k){h="REPLACE";let A=md(E.location,C,k);x=g();let D=E0(A,x),V=E.createHref(A);d.replaceState(D,"",V),f&&p&&p({action:h,location:E.location,delta:0})}function w(C){return x1(C)}let E={get action(){return h},get location(){return t(c,d)},listen(C){if(p)throw new Error("A history only accepts one active listener");return c.addEventListener(k0,y),p=C,()=>{c.removeEventListener(k0,y),p=null}},createHref(C){return s(c,C)},createURL:w,encodeLocation(C){let k=w(C);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:N,go(C){return d.go(C)}};return E}function x1(t,s=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),et(i,"No window.location.(origin|href) available to create URL");let l=typeof t=="string"?t:di(t);return l=l.replace(/ $/,"%20"),!s&&l.startsWith("//")&&(l=i+l),new URL(l,i)}function Tx(t,s,i="/"){return y1(t,s,i,!1)}function y1(t,s,i,l){let c=typeof s=="string"?Ja(s):s,f=In(c.pathname||"/",i);if(f==null)return null;let d=kx(t);b1(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let x=D1(f);h=E1(d[p],x,l)}return h}function kx(t,s=[],i=[],l="",c=!1){let f=(d,h,p=c,x)=>{let g={relativePath:x===void 0?d.path||"":x,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(l)&&p)return;et(g.relativePath.startsWith(l),`Absolute route path "${g.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(l.length)}let y=Qn([l,g.relativePath]),v=i.concat(g);d.children&&d.children.length>0&&(et(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),kx(d.children,s,v,y,p)),!(d.path==null&&!d.index)&&s.push({path:y,score:T1(y,d.index),routesMeta:v})};return t.forEach((d,h)=>{if(d.path===""||!d.path?.includes("?"))f(d,h);else for(let p of Ex(d.path))f(d,h,!0,p)}),s}function Ex(t){let s=t.split("/");if(s.length===0)return[];let[i,...l]=s,c=i.endsWith("?"),f=i.replace(/\?$/,"");if(l.length===0)return c?[f,""]:[f];let d=Ex(l.join("/")),h=[];return h.push(...d.map(p=>p===""?f:[f,p].join("/"))),c&&h.push(...d),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function b1(t){t.sort((s,i)=>s.score!==i.score?i.score-s.score:k1(s.routesMeta.map(l=>l.childrenIndex),i.routesMeta.map(l=>l.childrenIndex)))}var v1=/^:[\w-]+$/,j1=3,w1=2,N1=1,S1=10,C1=-2,A0=t=>t==="*";function T1(t,s){let i=t.split("/"),l=i.length;return i.some(A0)&&(l+=C1),s&&(l+=w1),i.filter(c=>!A0(c)).reduce((c,f)=>c+(v1.test(f)?j1:f===""?N1:S1),l)}function k1(t,s){return t.length===s.length&&t.slice(0,-1).every((l,c)=>l===s[c])?t[t.length-1]-s[s.length-1]:0}function E1(t,s,i=!1){let{routesMeta:l}=t,c={},f="/",d=[];for(let h=0;h<l.length;++h){let p=l[h],x=h===l.length-1,g=f==="/"?s:s.slice(f.length)||"/",y=ao({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},g),v=p.route;if(!y&&x&&i&&!l[l.length-1].route.index&&(y=ao({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(c,y.params),d.push({params:c,pathname:Qn([f,y.pathname]),pathnameBase:L1(Qn([f,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(f=Qn([f,y.pathnameBase]))}return d}function ao(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,l]=A1(t.path,t.caseSensitive,t.end),c=s.match(i);if(!c)return null;let f=c[0],d=f.replace(/(.)\/+$/,"$1"),h=c.slice(1);return{params:l.reduce((x,{paramName:g,isOptional:y},v)=>{if(g==="*"){let w=h[v]||"";d=f.slice(0,f.length-w.length).replace(/(.)\/+$/,"$1")}const N=h[v];return y&&!N?x[g]=void 0:x[g]=(N||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:d,pattern:t}}function A1(t,s=!1,i=!0){jn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let l=[],c="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(l.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(l.push({paramName:"*"}),c+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":t!==""&&t!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,s?void 0:"i"),l]}function D1(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return jn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function In(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let i=s.endsWith("/")?s.length-1:s.length,l=t.charAt(i);return l&&l!=="/"?null:t.slice(i)||"/"}function M1(t,s="/"){let{pathname:i,search:l="",hash:c=""}=typeof t=="string"?Ja(t):t;return{pathname:i?i.startsWith("/")?i:_1(i,s):s,search:O1(l),hash:U1(c)}}function _1(t,s){let i=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function Hu(t,s,i,l){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function R1(t){return t.filter((s,i)=>i===0||s.route.path&&s.route.path.length>0)}function Ax(t){let s=R1(t);return s.map((i,l)=>l===s.length-1?i.pathname:i.pathnameBase)}function Dx(t,s,i,l=!1){let c;typeof t=="string"?c=Ja(t):(c={...t},et(!c.pathname||!c.pathname.includes("?"),Hu("?","pathname","search",c)),et(!c.pathname||!c.pathname.includes("#"),Hu("#","pathname","hash",c)),et(!c.search||!c.search.includes("#"),Hu("#","search","hash",c)));let f=t===""||c.pathname==="",d=f?"/":c.pathname,h;if(d==null)h=i;else{let y=s.length-1;if(!l&&d.startsWith("..")){let v=d.split("/");for(;v[0]==="..";)v.shift(),y-=1;c.pathname=v.join("/")}h=y>=0?s[y]:"/"}let p=M1(c,h),x=d&&d!=="/"&&d.endsWith("/"),g=(f||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(x||g)&&(p.pathname+="/"),p}var Qn=t=>t.join("/").replace(/\/\/+/g,"/"),L1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,U1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Mx=["POST","PUT","PATCH","DELETE"];new Set(Mx);var P1=["GET",...Mx];new Set(P1);var er=b.createContext(null);er.displayName="DataRouter";var mo=b.createContext(null);mo.displayName="DataRouterState";b.createContext(!1);var _x=b.createContext({isTransitioning:!1});_x.displayName="ViewTransition";var z1=b.createContext(new Map);z1.displayName="Fetchers";var V1=b.createContext(null);V1.displayName="Await";var Rn=b.createContext(null);Rn.displayName="Navigation";var yi=b.createContext(null);yi.displayName="Location";var Ln=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ln.displayName="Route";var qd=b.createContext(null);qd.displayName="RouteError";function F1(t,{relative:s}={}){et(bi(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:l}=b.useContext(Rn),{hash:c,pathname:f,search:d}=vi(t,{relative:s}),h=f;return i!=="/"&&(h=f==="/"?i:Qn([i,f])),l.createHref({pathname:h,search:d,hash:c})}function bi(){return b.useContext(yi)!=null}function Ts(){return et(bi(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(yi).location}var Rx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lx(t){b.useContext(Rn).static||b.useLayoutEffect(t)}function ho(){let{isDataRoute:t}=b.useContext(Ln);return t?tj():H1()}function H1(){et(bi(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(er),{basename:s,navigator:i}=b.useContext(Rn),{matches:l}=b.useContext(Ln),{pathname:c}=Ts(),f=JSON.stringify(Ax(l)),d=b.useRef(!1);return Lx(()=>{d.current=!0}),b.useCallback((p,x={})=>{if(jn(d.current,Rx),!d.current)return;if(typeof p=="number"){i.go(p);return}let g=Dx(p,JSON.parse(f),c,x.relative==="path");t==null&&s!=="/"&&(g.pathname=g.pathname==="/"?s:Qn([s,g.pathname])),(x.replace?i.replace:i.push)(g,x.state,x)},[s,i,f,c,t])}b.createContext(null);function $1(){let{matches:t}=b.useContext(Ln),s=t[t.length-1];return s?s.params:{}}function vi(t,{relative:s}={}){let{matches:i}=b.useContext(Ln),{pathname:l}=Ts(),c=JSON.stringify(Ax(i));return b.useMemo(()=>Dx(t,JSON.parse(c),l,s==="path"),[t,c,l,s])}function q1(t,s){return Ox(t,s)}function Ox(t,s,i,l,c){et(bi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=b.useContext(Rn),{matches:d}=b.useContext(Ln),h=d[d.length-1],p=h?h.params:{},x=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let A=y&&y.path||"";Ux(x,!y||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=Ts(),N;if(s){let A=typeof s=="string"?Ja(s):s;et(g==="/"||A.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=v;let w=N.pathname||"/",E=w;if(g!=="/"){let A=g.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=Tx(t,{pathname:E});jn(y||C!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),jn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=Z1(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},p,A.params),pathname:Qn([g,f.encodeLocation?f.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?g:Qn([g,f.encodeLocation?f.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),d,i,l,c);return s&&k?b.createElement(yi.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},k):k}function Y1(){let t=ej(),s=B1(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,l="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:l},f={padding:"2px 4px",backgroundColor:l},d=null;return console.error("Error handled by React Router default ErrorBoundary:",t),d=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:f},"ErrorBoundary")," or"," ",b.createElement("code",{style:f},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},s),i?b.createElement("pre",{style:c},i):null,d)}var G1=b.createElement(Y1,null),X1=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.unstable_onError?this.props.unstable_onError(t,s):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(Ln.Provider,{value:this.props.routeContext},b.createElement(qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function K1({routeContext:t,match:s,children:i}){let l=b.useContext(er);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),b.createElement(Ln.Provider,{value:t},i)}function Z1(t,s=[],i=null,l=null,c=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(s.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let f=t,d=i?.errors;if(d!=null){let x=f.findIndex(g=>g.route.id&&d?.[g.route.id]!==void 0);et(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),f=f.slice(0,Math.min(f.length,x+1))}let h=!1,p=-1;if(i)for(let x=0;x<f.length;x++){let g=f[x];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=x),g.route.id){let{loaderData:y,errors:v}=i,N=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||N){h=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((x,g,y)=>{let v,N=!1,w=null,E=null;i&&(v=d&&g.route.id?d[g.route.id]:void 0,w=g.route.errorElement||G1,h&&(p<0&&y===0?(Ux("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,E=null):p===y&&(N=!0,E=g.route.hydrateFallbackElement||null)));let C=s.concat(f.slice(0,y+1)),k=()=>{let A;return v?A=w:N?A=E:g.route.Component?A=b.createElement(g.route.Component,null):g.route.element?A=g.route.element:A=x,b.createElement(K1,{match:g,routeContext:{outlet:x,matches:C,isDataRoute:i!=null},children:A})};return i&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?b.createElement(X1,{location:i.location,revalidation:i.revalidation,component:w,error:v,children:k(),routeContext:{outlet:null,matches:C,isDataRoute:!0},unstable_onError:l}):k()},null)}function Yd(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q1(t){let s=b.useContext(er);return et(s,Yd(t)),s}function I1(t){let s=b.useContext(mo);return et(s,Yd(t)),s}function W1(t){let s=b.useContext(Ln);return et(s,Yd(t)),s}function Gd(t){let s=W1(t),i=s.matches[s.matches.length-1];return et(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function J1(){return Gd("useRouteId")}function ej(){let t=b.useContext(qd),s=I1("useRouteError"),i=Gd("useRouteError");return t!==void 0?t:s.errors?.[i]}function tj(){let{router:t}=Q1("useNavigate"),s=Gd("useNavigate"),i=b.useRef(!1);return Lx(()=>{i.current=!0}),b.useCallback(async(c,f={})=>{jn(i.current,Rx),i.current&&(typeof c=="number"?t.navigate(c):await t.navigate(c,{fromRouteId:s,...f}))},[t,s])}var D0={};function Ux(t,s,i){!s&&!D0[t]&&(D0[t]=!0,jn(!1,i))}b.memo(nj);function nj({routes:t,future:s,state:i,unstable_onError:l}){return Ox(t,void 0,i,l,s)}function Dn(t){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function sj({basename:t="/",children:s=null,location:i,navigationType:l="POP",navigator:c,static:f=!1}){et(!bi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:d,navigator:c,static:f,future:{}}),[d,c,f]);typeof i=="string"&&(i=Ja(i));let{pathname:p="/",search:x="",hash:g="",state:y=null,key:v="default"}=i,N=b.useMemo(()=>{let w=In(p,d);return w==null?null:{location:{pathname:w,search:x,hash:g,state:y,key:v},navigationType:l}},[d,p,x,g,y,v,l]);return jn(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${x}${g}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:b.createElement(Rn.Provider,{value:h},b.createElement(yi.Provider,{children:s,value:N}))}function aj({children:t,location:s}){return q1(hd(t),s)}function hd(t,s=[]){let i=[];return b.Children.forEach(t,(l,c)=>{if(!b.isValidElement(l))return;let f=[...s,c];if(l.type===b.Fragment){i.push.apply(i,hd(l.props.children,f));return}et(l.type===Dn,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!l.props.index||!l.props.children,"An index route cannot have child routes.");let d={id:l.props.id||f.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(d.children=hd(l.props.children,f)),i.push(d)}),i}var Zl="get",Ql="application/x-www-form-urlencoded";function po(t){return t!=null&&typeof t.tagName=="string"}function rj(t){return po(t)&&t.tagName.toLowerCase()==="button"}function ij(t){return po(t)&&t.tagName.toLowerCase()==="form"}function lj(t){return po(t)&&t.tagName.toLowerCase()==="input"}function oj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cj(t,s){return t.button===0&&(!s||s==="_self")&&!oj(t)}function pd(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,i)=>{let l=t[i];return s.concat(Array.isArray(l)?l.map(c=>[i,c]):[[i,l]])},[]))}function uj(t,s){let i=pd(t);return s&&s.forEach((l,c)=>{i.has(c)||s.getAll(c).forEach(f=>{i.append(c,f)})}),i}var Hl=null;function dj(){if(Hl===null)try{new FormData(document.createElement("form"),0),Hl=!1}catch{Hl=!0}return Hl}var fj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $u(t){return t!=null&&!fj.has(t)?(jn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ql}"`),null):t}function mj(t,s){let i,l,c,f,d;if(ij(t)){let h=t.getAttribute("action");l=h?In(h,s):null,i=t.getAttribute("method")||Zl,c=$u(t.getAttribute("enctype"))||Ql,f=new FormData(t)}else if(rj(t)||lj(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=t.getAttribute("formaction")||h.getAttribute("action");if(l=p?In(p,s):null,i=t.getAttribute("formmethod")||h.getAttribute("method")||Zl,c=$u(t.getAttribute("formenctype"))||$u(h.getAttribute("enctype"))||Ql,f=new FormData(h,t),!dj()){let{name:x,type:g,value:y}=t;if(g==="image"){let v=x?`${x}.`:"";f.append(`${v}x`,"0"),f.append(`${v}y`,"0")}else x&&f.append(x,y)}}else{if(po(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Zl,l=null,c=Ql,d=t}return f&&c==="text/plain"&&(d=f,f=void 0),{action:l,method:i.toLowerCase(),encType:c,formData:f,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xd(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function hj(t,s,i){let l=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return l.pathname==="/"?l.pathname=`_root.${i}`:s&&In(l.pathname,s)==="/"?l.pathname=`${s.replace(/\/$/,"")}/_root.${i}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${i}`,l}async function pj(t,s){if(t.id in s)return s[t.id];try{let i=await import(t.module);return s[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xj(t,s,i){let l=await Promise.all(t.map(async c=>{let f=s.routes[c.route.id];if(f){let d=await pj(f,i);return d.links?d.links():[]}return[]}));return jj(l.flat(1).filter(gj).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function M0(t,s,i,l,c,f){let d=(p,x)=>i[x]?p.route.id!==i[x].route.id:!0,h=(p,x)=>i[x].pathname!==p.pathname||i[x].route.path?.endsWith("*")&&i[x].params["*"]!==p.params["*"];return f==="assets"?s.filter((p,x)=>d(p,x)||h(p,x)):f==="data"?s.filter((p,x)=>{let g=l.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(d(p,x)||h(p,x))return!0;if(p.route.shouldRevalidate){let y=p.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function yj(t,s,{includeHydrateFallback:i}={}){return bj(t.map(l=>{let c=s.routes[l.route.id];if(!c)return[];let f=[c.module];return c.clientActionModule&&(f=f.concat(c.clientActionModule)),c.clientLoaderModule&&(f=f.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(f=f.concat(c.hydrateFallbackModule)),c.imports&&(f=f.concat(c.imports)),f}).flat(1))}function bj(t){return[...new Set(t)]}function vj(t){let s={},i=Object.keys(t).sort();for(let l of i)s[l]=t[l];return s}function jj(t,s){let i=new Set;return new Set(s),t.reduce((l,c)=>{let f=JSON.stringify(vj(c));return i.has(f)||(i.add(f),l.push({key:f,link:c})),l},[])}function Bx(){let t=b.useContext(er);return Xd(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function wj(){let t=b.useContext(mo);return Xd(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Kd=b.createContext(void 0);Kd.displayName="FrameworkContext";function Px(){let t=b.useContext(Kd);return Xd(t,"You must render this element inside a <HydratedRouter> element"),t}function Nj(t,s){let i=b.useContext(Kd),[l,c]=b.useState(!1),[f,d]=b.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:x,onMouseLeave:g,onTouchStart:y}=s,v=b.useRef(null);b.useEffect(()=>{if(t==="render"&&d(!0),t==="viewport"){let E=k=>{k.forEach(A=>{d(A.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[t]),b.useEffect(()=>{if(l){let E=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(E)}}},[l]);let N=()=>{c(!0)},w=()=>{c(!1),d(!1)};return i?t!=="intent"?[f,v,{}]:[f,v,{onFocus:si(h,N),onBlur:si(p,w),onMouseEnter:si(x,N),onMouseLeave:si(g,w),onTouchStart:si(y,N)}]:[!1,v,{}]}function si(t,s){return i=>{t&&t(i),i.defaultPrevented||s(i)}}function Sj({page:t,...s}){let{router:i}=Bx(),l=b.useMemo(()=>Tx(i.routes,t,i.basename),[i.routes,t,i.basename]);return l?b.createElement(Tj,{page:t,matches:l,...s}):null}function Cj(t){let{manifest:s,routeModules:i}=Px(),[l,c]=b.useState([]);return b.useEffect(()=>{let f=!1;return xj(t,s,i).then(d=>{f||c(d)}),()=>{f=!0}},[t,s,i]),l}function Tj({page:t,matches:s,...i}){let l=Ts(),{manifest:c,routeModules:f}=Px(),{basename:d}=Bx(),{loaderData:h,matches:p}=wj(),x=b.useMemo(()=>M0(t,s,p,c,l,"data"),[t,s,p,c,l]),g=b.useMemo(()=>M0(t,s,p,c,l,"assets"),[t,s,p,c,l]),y=b.useMemo(()=>{if(t===l.pathname+l.search+l.hash)return[];let w=new Set,E=!1;if(s.forEach(k=>{let A=c.routes[k.route.id];!A||!A.hasLoader||(!x.some(D=>D.route.id===k.route.id)&&k.route.id in h&&f[k.route.id]?.shouldRevalidate||A.hasClientLoader?E=!0:w.add(k.route.id))}),w.size===0)return[];let C=hj(t,d,"data");return E&&w.size>0&&C.searchParams.set("_routes",s.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[C.pathname+C.search]},[d,h,l,c,x,s,t,f]),v=b.useMemo(()=>yj(g,c),[g,c]),N=Cj(g);return b.createElement(b.Fragment,null,y.map(w=>b.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),v.map(w=>b.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),N.map(({key:w,link:E})=>b.createElement("link",{key:w,nonce:i.nonce,...E})))}function kj(...t){return s=>{t.forEach(i=>{typeof i=="function"?i(s):i!=null&&(i.current=s)})}}var zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zx&&(window.__reactRouterVersion="7.9.1")}catch{}function Ej({basename:t,children:s,window:i}){let l=b.useRef();l.current==null&&(l.current=h1({window:i,v5Compat:!0}));let c=l.current,[f,d]=b.useState({action:c.action,location:c.location}),h=b.useCallback(p=>{b.startTransition(()=>d(p))},[d]);return b.useLayoutEffect(()=>c.listen(h),[c,h]),b.createElement(sj,{basename:t,children:s,location:f.location,navigationType:f.action,navigator:c})}var Vx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ks=b.forwardRef(function({onClick:s,discover:i="render",prefetch:l="none",relative:c,reloadDocument:f,replace:d,state:h,target:p,to:x,preventScrollReset:g,viewTransition:y,...v},N){let{basename:w}=b.useContext(Rn),E=typeof x=="string"&&Vx.test(x),C,k=!1;if(typeof x=="string"&&E&&(C=x,zx))try{let te=new URL(window.location.href),ce=x.startsWith("//")?new URL(te.protocol+x):new URL(x),$=In(ce.pathname,w);ce.origin===te.origin&&$!=null?x=$+ce.search+ce.hash:k=!0}catch{jn(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=F1(x,{relative:c}),[D,V,L]=Nj(l,v),U=_j(x,{replace:d,state:h,target:p,preventScrollReset:g,relative:c,viewTransition:y});function z(te){s&&s(te),te.defaultPrevented||U(te)}let q=b.createElement("a",{...v,...L,href:C||A,onClick:k||f?s:z,ref:kj(N,V),target:p,"data-discover":!E&&i==="render"?"true":void 0});return D&&!E?b.createElement(b.Fragment,null,q,b.createElement(Sj,{page:A})):q});ks.displayName="Link";var Aj=b.forwardRef(function({"aria-current":s="page",caseSensitive:i=!1,className:l="",end:c=!1,style:f,to:d,viewTransition:h,children:p,...x},g){let y=vi(d,{relative:x.relative}),v=Ts(),N=b.useContext(mo),{navigator:w,basename:E}=b.useContext(Rn),C=N!=null&&Pj(y)&&h===!0,k=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,A=v.pathname,D=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;i||(A=A.toLowerCase(),D=D?D.toLowerCase():null,k=k.toLowerCase()),D&&E&&(D=In(D,E)||D);const V=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let L=A===k||!c&&A.startsWith(k)&&A.charAt(V)==="/",U=D!=null&&(D===k||!c&&D.startsWith(k)&&D.charAt(k.length)==="/"),z={isActive:L,isPending:U,isTransitioning:C},q=L?s:void 0,te;typeof l=="function"?te=l(z):te=[l,L?"active":null,U?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let ce=typeof f=="function"?f(z):f;return b.createElement(ks,{...x,"aria-current":q,className:te,ref:g,style:ce,to:d,viewTransition:h},typeof p=="function"?p(z):p)});Aj.displayName="NavLink";var Dj=b.forwardRef(({discover:t="render",fetcherKey:s,navigate:i,reloadDocument:l,replace:c,state:f,method:d=Zl,action:h,onSubmit:p,relative:x,preventScrollReset:g,viewTransition:y,...v},N)=>{let w=Uj(),E=Bj(h,{relative:x}),C=d.toLowerCase()==="get"?"get":"post",k=typeof h=="string"&&Vx.test(h),A=D=>{if(p&&p(D),D.defaultPrevented)return;D.preventDefault();let V=D.nativeEvent.submitter,L=V?.getAttribute("formmethod")||d;w(V||D.currentTarget,{fetcherKey:s,method:L,navigate:i,replace:c,state:f,relative:x,preventScrollReset:g,viewTransition:y})};return b.createElement("form",{ref:N,method:C,action:E,onSubmit:l?p:A,...v,"data-discover":!k&&t==="render"?"true":void 0})});Dj.displayName="Form";function Mj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fx(t){let s=b.useContext(er);return et(s,Mj(t)),s}function _j(t,{target:s,replace:i,state:l,preventScrollReset:c,relative:f,viewTransition:d}={}){let h=ho(),p=Ts(),x=vi(t,{relative:f});return b.useCallback(g=>{if(cj(g,s)){g.preventDefault();let y=i!==void 0?i:di(p)===di(x);h(t,{replace:y,state:l,preventScrollReset:c,relative:f,viewTransition:d})}},[p,h,x,i,l,s,t,c,f,d])}function Rj(t){jn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let s=b.useRef(pd(t)),i=b.useRef(!1),l=Ts(),c=b.useMemo(()=>uj(l.search,i.current?null:s.current),[l.search]),f=ho(),d=b.useCallback((h,p)=>{const x=pd(typeof h=="function"?h(new URLSearchParams(c)):h);i.current=!0,f("?"+x,p)},[f,c]);return[c,d]}var Lj=0,Oj=()=>`__${String(++Lj)}__`;function Uj(){let{router:t}=Fx("useSubmit"),{basename:s}=b.useContext(Rn),i=J1();return b.useCallback(async(l,c={})=>{let{action:f,method:d,encType:h,formData:p,body:x}=mj(l,s);if(c.navigate===!1){let g=c.fetcherKey||Oj();await t.fetch(g,i,c.action||f,{preventScrollReset:c.preventScrollReset,formData:p,body:x,formMethod:c.method||d,formEncType:c.encType||h,flushSync:c.flushSync})}else await t.navigate(c.action||f,{preventScrollReset:c.preventScrollReset,formData:p,body:x,formMethod:c.method||d,formEncType:c.encType||h,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[t,s,i])}function Bj(t,{relative:s}={}){let{basename:i}=b.useContext(Rn),l=b.useContext(Ln);et(l,"useFormAction must be used inside a RouteContext");let[c]=l.matches.slice(-1),f={...vi(t||".",{relative:s})},d=Ts();if(t==null){f.search=d.search;let h=new URLSearchParams(f.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();f.search=g?`?${g}`:""}}return(!t||t===".")&&c.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:Qn([i,f.pathname])),di(f)}function Pj(t,{relative:s}={}){let i=b.useContext(_x);et(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Fx("useViewTransitionState"),c=vi(t,{relative:s});if(!i.isTransitioning)return!1;let f=In(i.currentLocation.pathname,l)||i.currentLocation.pathname,d=In(i.nextLocation.pathname,l)||i.nextLocation.pathname;return ao(c.pathname,d)!=null||ao(c.pathname,f)!=null}Cx();const Hx=b.createContext(),zj=({children:t})=>{const[s,i]=b.useState(()=>{const d=localStorage.getItem("theme");return d==="dark"}),[l,c]=b.useState(!1);b.useEffect(()=>{const h=localStorage.getItem("theme")==="dark"?"dark":"light";document.documentElement.setAttribute("data-theme",h)},[]);const f=()=>{if(l)return;c(!0);const d=s?"light":"dark";document.documentElement.setAttribute("data-theme",d),localStorage.setItem("theme",d),setTimeout(()=>{i(!s),c(!1)},300)};return a.jsx(Hx.Provider,{value:{isDark:s,toggleTheme:f,isAnimating:l},children:t})},Zd=()=>{const t=b.useContext(Hx);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t},Vj=({isDark:t,onAnimationComplete:s})=>{const i=b.useRef(null);return b.useEffect(()=>{const l=i.current;if(!l)return;(async()=>{l.classList.remove("scale-0","opacity-0"),l.classList.add("scale-150","opacity-70"),await new Promise(f=>setTimeout(f,300)),s&&s()})()},[s]),a.jsx("div",{ref:i,className:"fixed inset-0 z-50 pointer-events-none transform scale-0 opacity-0 transition-all duration-1000 ease-out origin-center",style:{backgroundColor:t?"#ffffff":"#111827"}})},pe="http://192.168.1.250:8087/api",$x=b.createContext(),Fj=`${pe}/auth/refresh`,Hj=({children:t})=>{const[s,i]=b.useState(null),[l,c]=b.useState(!1),[f,d]=b.useState(null),[h,p]=b.useState(null),[x,g]=b.useState(!0),[y,v]=b.useState(null),[N,w]=b.useState(null),E=b.useRef(!1);b.useEffect(()=>{(async()=>{const q=localStorage.getItem("user"),te=localStorage.getItem("accessToken"),ce=localStorage.getItem("refreshToken");if(q&&te){i(JSON.parse(q)),d(te),ce&&p(ce);try{const $=JSON.parse(atob(te.split(".")[1]));v($.company_id),w($.user_id)}catch($){console.error("Failed to decode access token:",$)}}g(!1)})()},[]);const C=async()=>{if(E.current)return null;E.current=!0;try{const z=h||localStorage.getItem("refreshToken");if(!z)throw new Error("No refresh token available");const q=await fetch(Fj,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:z})});if(!q.ok){if(q.status===401||q.status===422)return A(),null;throw new Error("Refresh token failed")}const te=await q.json(),ce=te.access_token,$=te.refresh_token;if(ce)return d(ce),localStorage.setItem("accessToken",ce),$&&(p($),localStorage.setItem("refreshToken",$)),ce;throw new Error("No access token in response")}catch{return A(),null}finally{E.current=!1}},k=(z,q={})=>{const te={...z,company_id:z.company_id};i(te),q.accessToken&&(d(q.accessToken),localStorage.setItem("accessToken",q.accessToken)),q.refreshToken&&(p(q.refreshToken),localStorage.setItem("refreshToken",q.refreshToken)),localStorage.setItem("user",JSON.stringify(te)),c(!1),g(!1)},A=async()=>{try{const z=h||localStorage.getItem("refreshToken");z&&fetch(`${pe}/auth/logout`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:z})}).catch(()=>{})}catch{}finally{i(null),d(null),p(null),c(!1),g(!1),localStorage.removeItem("user"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}},U={user:s,accessToken:f,login:k,logout:A,showAuthModal:l,openAuthModal:()=>{c(!0)},closeAuthModal:()=>{c(!1)},authFetch:async(z,q={})=>{let te=f||localStorage.getItem("accessToken");if(!te)throw new Error("No access token available");try{const ce={...q.headers||{},Authorization:`Bearer ${te}`};!(q.body instanceof FormData)&&q.body!==void 0&&!ce["Content-Type"]&&(ce["Content-Type"]="application/json");let $=await fetch(z,{...q,headers:ce});if($.status===401||$.status===422){const G=await C();if(G)ce.Authorization=`Bearer ${G}`,$=await fetch(z,{...q,headers:ce});else throw new Error("Authentication failed")}if(!$.ok)throw new Error(`Failed to fetch: ${$.status}`);return $}catch(ce){throw ce}},loading:x};return a.jsx($x.Provider,{value:U,children:t})},Ye=()=>{const t=b.useContext($x);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},qx=b.createContext(),ct=()=>{const t=b.useContext(qx);if(!t)throw new Error("useStatusMessage must be used within a StatusMessageProvider");return t},$j=({children:t})=>{const[s,i]=b.useState({show:!1,text:"",type:""}),[l,c]=b.useState({show:!1,title:"",message:"",onConfirm:""}),[f,d]=b.useState({show:!1,title:"",message:"",onConfirm:null,onCancel:null,isLoading:!1}),h=b.useCallback((N,w="success")=>(i({show:!0,text:N,type:w}),setTimeout(()=>{i({show:!1,text:"",type:""})},3e3),()=>clearTimeout(timer)),[]),p=b.useCallback((N,w,E,C=null)=>{d({show:!0,title:N,message:w,onConfirm:E,onCancel:C,isLoading:!1})},[]),x=b.useCallback((N="Operation failed. Please try again.")=>{h(N,"error")},[h]),g=b.useCallback(N=>{d(w=>({...w,isLoading:N}))},[]),y=b.useCallback(()=>{i({show:!1,text:"",type:""})},[]),v=b.useCallback(()=>{d({show:!1,title:"",message:"",onConfirm:null,onCancel:null,isLoading:!1})},[]);return a.jsxs(qx.Provider,{value:{showMessage:h,hideMessage:y,showConfirmation:p,setConfirmationLoading:g,hideConfirmation:v,showFailed:x},children:[t,a.jsx(qj,{message:s}),a.jsx(Yj,{confirmation:f,setConfirmationLoading:g,hideConfirmation:v})]})},qj=({message:t})=>{if(!t.show)return null;const s=t.type==="success"?"bg-green-100 border-green-400 text-green-700":t.type==="error"?"bg-red-100 border-red-400 text-red-700":"bg-blue-100 border-blue-400 text-blue-700",i=t.type==="success"?a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):t.type==="error"?a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}):a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})});return a.jsx("div",{className:`fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50 px-6 py-3 border rounded-lg shadow-lg ${s}`,children:a.jsxs("div",{className:"flex items-center gap-2",children:[i,a.jsx("span",{className:"font-medium",children:t.text})]})})},Yj=({confirmation:t,setConfirmationLoading:s,hideConfirmation:i})=>{if(!t.show)return null;const l=async()=>{s(!0);try{await t.onConfirm(),i()}catch{s(!1)}},c=()=>{t.onCancel&&t.onCancel(),i()};return a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-[1px]",children:a.jsx("div",{className:"theme-bg-card rounded-lg shadow-xl max-w-md w-full",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold theme-text-primary mb-2",children:t.title}),a.jsx("p",{className:"theme-text-secondary mb-6",children:t.message}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:c,disabled:t.isLoading,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200 disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:l,disabled:t.isLoading,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors duration-200 disabled:opacity-50 flex items-center gap-2",children:t.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):t.title?.toLowerCase().includes("delete")?"Delete":"Confirm"})]})]})})})},Yx=b.createContext({});function Gj(t){const s=b.useRef(null);return s.current===null&&(s.current=t()),s.current}const Qd=typeof window<"u",Xj=Qd?b.useLayoutEffect:b.useEffect,Id=b.createContext(null);function Wd(t,s){t.indexOf(s)===-1&&t.push(s)}function Jd(t,s){const i=t.indexOf(s);i>-1&&t.splice(i,1)}const Wn=(t,s,i)=>i>s?s:i<t?t:i;let ef=()=>{};const Jn={},Gx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Xx(t){return typeof t=="object"&&t!==null}const Kx=t=>/^0[^.\s]+$/u.test(t);function tf(t){let s;return()=>(s===void 0&&(s=t()),s)}const hn=t=>t,Kj=(t,s)=>i=>s(t(i)),ji=(...t)=>t.reduce(Kj),fi=(t,s,i)=>{const l=s-t;return l===0?1:(i-t)/l};class nf{constructor(){this.subscriptions=[]}add(s){return Wd(this.subscriptions,s),()=>Jd(this.subscriptions,s)}notify(s,i,l){const c=this.subscriptions.length;if(c)if(c===1)this.subscriptions[0](s,i,l);else for(let f=0;f<c;f++){const d=this.subscriptions[f];d&&d(s,i,l)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mn=t=>t*1e3,mn=t=>t/1e3;function Zx(t,s){return s?t*(1e3/s):0}const Qx=(t,s,i)=>(((1-3*i+3*s)*t+(3*i-6*s))*t+3*s)*t,Zj=1e-7,Qj=12;function Ij(t,s,i,l,c){let f,d,h=0;do d=s+(i-s)/2,f=Qx(d,l,c)-t,f>0?i=d:s=d;while(Math.abs(f)>Zj&&++h<Qj);return d}function wi(t,s,i,l){if(t===s&&i===l)return hn;const c=f=>Ij(f,0,1,t,i);return f=>f===0||f===1?f:Qx(c(f),s,l)}const Ix=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,Wx=t=>s=>1-t(1-s),Jx=wi(.33,1.53,.69,.99),sf=Wx(Jx),ey=Ix(sf),ty=t=>(t*=2)<1?.5*sf(t):.5*(2-Math.pow(2,-10*(t-1))),af=t=>1-Math.sin(Math.acos(t)),ny=Wx(af),sy=Ix(af),Wj=wi(.42,0,1,1),Jj=wi(0,0,.58,1),ay=wi(.42,0,.58,1),ew=t=>Array.isArray(t)&&typeof t[0]!="number",ry=t=>Array.isArray(t)&&typeof t[0]=="number",tw={linear:hn,easeIn:Wj,easeInOut:ay,easeOut:Jj,circIn:af,circInOut:sy,circOut:ny,backIn:sf,backInOut:ey,backOut:Jx,anticipate:ty},nw=t=>typeof t=="string",_0=t=>{if(ry(t)){ef(t.length===4);const[s,i,l,c]=t;return wi(s,i,l,c)}else if(nw(t))return tw[t];return t},$l=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function sw(t,s){let i=new Set,l=new Set,c=!1,f=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(g){d.has(g)&&(x.schedule(g),t()),g(h)}const x={schedule:(g,y=!1,v=!1)=>{const w=v&&c?i:l;return y&&d.add(g),w.has(g)||w.add(g),g},cancel:g=>{l.delete(g),d.delete(g)},process:g=>{if(h=g,c){f=!0;return}c=!0,[i,l]=[l,i],i.forEach(p),i.clear(),c=!1,f&&(f=!1,x.process(g))}};return x}const aw=40;function iy(t,s){let i=!1,l=!0;const c={delta:0,timestamp:0,isProcessing:!1},f=()=>i=!0,d=$l.reduce((D,V)=>(D[V]=sw(f),D),{}),{setup:h,read:p,resolveKeyframes:x,preUpdate:g,update:y,preRender:v,render:N,postRender:w}=d,E=()=>{const D=Jn.useManualTiming?c.timestamp:performance.now();i=!1,Jn.useManualTiming||(c.delta=l?1e3/60:Math.max(Math.min(D-c.timestamp,aw),1)),c.timestamp=D,c.isProcessing=!0,h.process(c),p.process(c),x.process(c),g.process(c),y.process(c),v.process(c),N.process(c),w.process(c),c.isProcessing=!1,i&&s&&(l=!1,t(E))},C=()=>{i=!0,l=!0,c.isProcessing||t(E)};return{schedule:$l.reduce((D,V)=>{const L=d[V];return D[V]=(U,z=!1,q=!1)=>(i||C(),L.schedule(U,z,q)),D},{}),cancel:D=>{for(let V=0;V<$l.length;V++)d[$l[V]].cancel(D)},state:c,steps:d}}const{schedule:Ze,cancel:Ss,state:Tt,steps:qu}=iy(typeof requestAnimationFrame<"u"?requestAnimationFrame:hn,!0);let Il;function rw(){Il=void 0}const $t={now:()=>(Il===void 0&&$t.set(Tt.isProcessing||Jn.useManualTiming?Tt.timestamp:performance.now()),Il),set:t=>{Il=t,queueMicrotask(rw)}},ly=t=>s=>typeof s=="string"&&s.startsWith(t),rf=ly("--"),iw=ly("var(--"),lf=t=>iw(t)?lw.test(t.split("/*")[0].trim()):!1,lw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,tr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mi={...tr,transform:t=>Wn(0,1,t)},ql={...tr,default:1},li=t=>Math.round(t*1e5)/1e5,of=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ow(t){return t==null}const cw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cf=(t,s)=>i=>!!(typeof i=="string"&&cw.test(i)&&i.startsWith(t)||s&&!ow(i)&&Object.prototype.hasOwnProperty.call(i,s)),oy=(t,s,i)=>l=>{if(typeof l!="string")return l;const[c,f,d,h]=l.match(of);return{[t]:parseFloat(c),[s]:parseFloat(f),[i]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},uw=t=>Wn(0,255,t),Yu={...tr,transform:t=>Math.round(uw(t))},Zs={test:cf("rgb","red"),parse:oy("red","green","blue"),transform:({red:t,green:s,blue:i,alpha:l=1})=>"rgba("+Yu.transform(t)+", "+Yu.transform(s)+", "+Yu.transform(i)+", "+li(mi.transform(l))+")"};function dw(t){let s="",i="",l="",c="";return t.length>5?(s=t.substring(1,3),i=t.substring(3,5),l=t.substring(5,7),c=t.substring(7,9)):(s=t.substring(1,2),i=t.substring(2,3),l=t.substring(3,4),c=t.substring(4,5),s+=s,i+=i,l+=l,c+=c),{red:parseInt(s,16),green:parseInt(i,16),blue:parseInt(l,16),alpha:c?parseInt(c,16)/255:1}}const gd={test:cf("#"),parse:dw,transform:Zs.transform},Ni=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),Ns=Ni("deg"),_n=Ni("%"),Se=Ni("px"),fw=Ni("vh"),mw=Ni("vw"),R0={..._n,parse:t=>_n.parse(t)/100,transform:t=>_n.transform(t*100)},qa={test:cf("hsl","hue"),parse:oy("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:i,alpha:l=1})=>"hsla("+Math.round(t)+", "+_n.transform(li(s))+", "+_n.transform(li(i))+", "+li(mi.transform(l))+")"},mt={test:t=>Zs.test(t)||gd.test(t)||qa.test(t),parse:t=>Zs.test(t)?Zs.parse(t):qa.test(t)?qa.parse(t):gd.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zs.transform(t):qa.transform(t),getAnimatableNone:t=>{const s=mt.parse(t);return s.alpha=0,mt.transform(s)}},hw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pw(t){return isNaN(t)&&typeof t=="string"&&(t.match(of)?.length||0)+(t.match(hw)?.length||0)>0}const cy="number",uy="color",gw="var",xw="var(",L0="${}",yw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hi(t){const s=t.toString(),i=[],l={color:[],number:[],var:[]},c=[];let f=0;const h=s.replace(yw,p=>(mt.test(p)?(l.color.push(f),c.push(uy),i.push(mt.parse(p))):p.startsWith(xw)?(l.var.push(f),c.push(gw),i.push(p)):(l.number.push(f),c.push(cy),i.push(parseFloat(p))),++f,L0)).split(L0);return{values:i,split:h,indexes:l,types:c}}function dy(t){return hi(t).values}function fy(t){const{split:s,types:i}=hi(t),l=s.length;return c=>{let f="";for(let d=0;d<l;d++)if(f+=s[d],c[d]!==void 0){const h=i[d];h===cy?f+=li(c[d]):h===uy?f+=mt.transform(c[d]):f+=c[d]}return f}}const bw=t=>typeof t=="number"?0:mt.test(t)?mt.getAnimatableNone(t):t;function vw(t){const s=dy(t);return fy(t)(s.map(bw))}const Cs={test:pw,parse:dy,createTransformer:fy,getAnimatableNone:vw};function Gu(t,s,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(s-t)*6*i:i<1/2?s:i<2/3?t+(s-t)*(2/3-i)*6:t}function jw({hue:t,saturation:s,lightness:i,alpha:l}){t/=360,s/=100,i/=100;let c=0,f=0,d=0;if(!s)c=f=d=i;else{const h=i<.5?i*(1+s):i+s-i*s,p=2*i-h;c=Gu(p,h,t+1/3),f=Gu(p,h,t),d=Gu(p,h,t-1/3)}return{red:Math.round(c*255),green:Math.round(f*255),blue:Math.round(d*255),alpha:l}}function ro(t,s){return i=>i>0?s:t}const Je=(t,s,i)=>t+(s-t)*i,Xu=(t,s,i)=>{const l=t*t,c=i*(s*s-l)+l;return c<0?0:Math.sqrt(c)},ww=[gd,Zs,qa],Nw=t=>ww.find(s=>s.test(t));function O0(t){const s=Nw(t);if(!s)return!1;let i=s.parse(t);return s===qa&&(i=jw(i)),i}const U0=(t,s)=>{const i=O0(t),l=O0(s);if(!i||!l)return ro(t,s);const c={...i};return f=>(c.red=Xu(i.red,l.red,f),c.green=Xu(i.green,l.green,f),c.blue=Xu(i.blue,l.blue,f),c.alpha=Je(i.alpha,l.alpha,f),Zs.transform(c))},xd=new Set(["none","hidden"]);function Sw(t,s){return xd.has(t)?i=>i<=0?t:s:i=>i>=1?s:t}function Cw(t,s){return i=>Je(t,s,i)}function uf(t){return typeof t=="number"?Cw:typeof t=="string"?lf(t)?ro:mt.test(t)?U0:Ew:Array.isArray(t)?my:typeof t=="object"?mt.test(t)?U0:Tw:ro}function my(t,s){const i=[...t],l=i.length,c=t.map((f,d)=>uf(f)(f,s[d]));return f=>{for(let d=0;d<l;d++)i[d]=c[d](f);return i}}function Tw(t,s){const i={...t,...s},l={};for(const c in i)t[c]!==void 0&&s[c]!==void 0&&(l[c]=uf(t[c])(t[c],s[c]));return c=>{for(const f in l)i[f]=l[f](c);return i}}function kw(t,s){const i=[],l={color:0,var:0,number:0};for(let c=0;c<s.values.length;c++){const f=s.types[c],d=t.indexes[f][l[f]],h=t.values[d]??0;i[c]=h,l[f]++}return i}const Ew=(t,s)=>{const i=Cs.createTransformer(s),l=hi(t),c=hi(s);return l.indexes.var.length===c.indexes.var.length&&l.indexes.color.length===c.indexes.color.length&&l.indexes.number.length>=c.indexes.number.length?xd.has(t)&&!c.values.length||xd.has(s)&&!l.values.length?Sw(t,s):ji(my(kw(l,c),c.values),i):ro(t,s)};function hy(t,s,i){return typeof t=="number"&&typeof s=="number"&&typeof i=="number"?Je(t,s,i):uf(t)(t,s)}const Aw=t=>{const s=({timestamp:i})=>t(i);return{start:(i=!0)=>Ze.update(s,i),stop:()=>Ss(s),now:()=>Tt.isProcessing?Tt.timestamp:$t.now()}},py=(t,s,i=10)=>{let l="";const c=Math.max(Math.round(s/i),2);for(let f=0;f<c;f++)l+=Math.round(t(f/(c-1))*1e4)/1e4+", ";return`linear(${l.substring(0,l.length-2)})`},io=2e4;function df(t){let s=0;const i=50;let l=t.next(s);for(;!l.done&&s<io;)s+=i,l=t.next(s);return s>=io?1/0:s}function Dw(t,s=100,i){const l=i({...t,keyframes:[0,s]}),c=Math.min(df(l),io);return{type:"keyframes",ease:f=>l.next(c*f).value/s,duration:mn(c)}}const Mw=5;function gy(t,s,i){const l=Math.max(s-Mw,0);return Zx(i-t(l),s-l)}const st={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ku=.001;function _w({duration:t=st.duration,bounce:s=st.bounce,velocity:i=st.velocity,mass:l=st.mass}){let c,f,d=1-s;d=Wn(st.minDamping,st.maxDamping,d),t=Wn(st.minDuration,st.maxDuration,mn(t)),d<1?(c=x=>{const g=x*d,y=g*t,v=g-i,N=yd(x,d),w=Math.exp(-y);return Ku-v/N*w},f=x=>{const y=x*d*t,v=y*i+i,N=Math.pow(d,2)*Math.pow(x,2)*t,w=Math.exp(-y),E=yd(Math.pow(x,2),d);return(-c(x)+Ku>0?-1:1)*((v-N)*w)/E}):(c=x=>{const g=Math.exp(-x*t),y=(x-i)*t+1;return-Ku+g*y},f=x=>{const g=Math.exp(-x*t),y=(i-x)*(t*t);return g*y});const h=5/t,p=Lw(c,f,h);if(t=Mn(t),isNaN(p))return{stiffness:st.stiffness,damping:st.damping,duration:t};{const x=Math.pow(p,2)*l;return{stiffness:x,damping:d*2*Math.sqrt(l*x),duration:t}}}const Rw=12;function Lw(t,s,i){let l=i;for(let c=1;c<Rw;c++)l=l-t(l)/s(l);return l}function yd(t,s){return t*Math.sqrt(1-s*s)}const Ow=["duration","bounce"],Uw=["stiffness","damping","mass"];function B0(t,s){return s.some(i=>t[i]!==void 0)}function Bw(t){let s={velocity:st.velocity,stiffness:st.stiffness,damping:st.damping,mass:st.mass,isResolvedFromDuration:!1,...t};if(!B0(t,Uw)&&B0(t,Ow))if(t.visualDuration){const i=t.visualDuration,l=2*Math.PI/(i*1.2),c=l*l,f=2*Wn(.05,1,1-(t.bounce||0))*Math.sqrt(c);s={...s,mass:st.mass,stiffness:c,damping:f}}else{const i=_w(t);s={...s,...i,mass:st.mass},s.isResolvedFromDuration=!0}return s}function lo(t=st.visualDuration,s=st.bounce){const i=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:l,restDelta:c}=i;const f=i.keyframes[0],d=i.keyframes[i.keyframes.length-1],h={done:!1,value:f},{stiffness:p,damping:x,mass:g,duration:y,velocity:v,isResolvedFromDuration:N}=Bw({...i,velocity:-mn(i.velocity||0)}),w=v||0,E=x/(2*Math.sqrt(p*g)),C=d-f,k=mn(Math.sqrt(p/g)),A=Math.abs(C)<5;l||(l=A?st.restSpeed.granular:st.restSpeed.default),c||(c=A?st.restDelta.granular:st.restDelta.default);let D;if(E<1){const L=yd(k,E);D=U=>{const z=Math.exp(-E*k*U);return d-z*((w+E*k*C)/L*Math.sin(L*U)+C*Math.cos(L*U))}}else if(E===1)D=L=>d-Math.exp(-k*L)*(C+(w+k*C)*L);else{const L=k*Math.sqrt(E*E-1);D=U=>{const z=Math.exp(-E*k*U),q=Math.min(L*U,300);return d-z*((w+E*k*C)*Math.sinh(q)+L*C*Math.cosh(q))/L}}const V={calculatedDuration:N&&y||null,next:L=>{const U=D(L);if(N)h.done=L>=y;else{let z=L===0?w:0;E<1&&(z=L===0?Mn(w):gy(D,L,U));const q=Math.abs(z)<=l,te=Math.abs(d-U)<=c;h.done=q&&te}return h.value=h.done?d:U,h},toString:()=>{const L=Math.min(df(V),io),U=py(z=>V.next(L*z).value,L,30);return L+"ms "+U},toTransition:()=>{}};return V}lo.applyToOptions=t=>{const s=Dw(t,100,lo);return t.ease=s.ease,t.duration=Mn(s.duration),t.type="keyframes",t};function bd({keyframes:t,velocity:s=0,power:i=.8,timeConstant:l=325,bounceDamping:c=10,bounceStiffness:f=500,modifyTarget:d,min:h,max:p,restDelta:x=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},N=q=>h!==void 0&&q<h||p!==void 0&&q>p,w=q=>h===void 0?p:p===void 0||Math.abs(h-q)<Math.abs(p-q)?h:p;let E=i*s;const C=y+E,k=d===void 0?C:d(C);k!==C&&(E=k-y);const A=q=>-E*Math.exp(-q/l),D=q=>k+A(q),V=q=>{const te=A(q),ce=D(q);v.done=Math.abs(te)<=x,v.value=v.done?k:ce};let L,U;const z=q=>{N(v.value)&&(L=q,U=lo({keyframes:[v.value,w(v.value)],velocity:gy(D,q,v.value),damping:c,stiffness:f,restDelta:x,restSpeed:g}))};return z(0),{calculatedDuration:null,next:q=>{let te=!1;return!U&&L===void 0&&(te=!0,V(q),z(q)),L!==void 0&&q>=L?U.next(q-L):(!te&&V(q),v)}}}function Pw(t,s,i){const l=[],c=i||Jn.mix||hy,f=t.length-1;for(let d=0;d<f;d++){let h=c(t[d],t[d+1]);if(s){const p=Array.isArray(s)?s[d]||hn:s;h=ji(p,h)}l.push(h)}return l}function zw(t,s,{clamp:i=!0,ease:l,mixer:c}={}){const f=t.length;if(ef(f===s.length),f===1)return()=>s[0];if(f===2&&s[0]===s[1])return()=>s[1];const d=t[0]===t[1];t[0]>t[f-1]&&(t=[...t].reverse(),s=[...s].reverse());const h=Pw(s,l,c),p=h.length,x=g=>{if(d&&g<t[0])return s[0];let y=0;if(p>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=fi(t[y],t[y+1],g);return h[y](v)};return i?g=>x(Wn(t[0],t[f-1],g)):x}function Vw(t,s){const i=t[t.length-1];for(let l=1;l<=s;l++){const c=fi(0,s,l);t.push(Je(i,1,c))}}function Fw(t){const s=[0];return Vw(s,t.length-1),s}function Hw(t,s){return t.map(i=>i*s)}function $w(t,s){return t.map(()=>s||ay).splice(0,t.length-1)}function oi({duration:t=300,keyframes:s,times:i,ease:l="easeInOut"}){const c=ew(l)?l.map(_0):_0(l),f={done:!1,value:s[0]},d=Hw(i&&i.length===s.length?i:Fw(s),t),h=zw(d,s,{ease:Array.isArray(c)?c:$w(s,c)});return{calculatedDuration:t,next:p=>(f.value=h(p),f.done=p>=t,f)}}const qw=t=>t!==null;function ff(t,{repeat:s,repeatType:i="loop"},l,c=1){const f=t.filter(qw),h=c<0||s&&i!=="loop"&&s%2===1?0:f.length-1;return!h||l===void 0?f[h]:l}const Yw={decay:bd,inertia:bd,tween:oi,keyframes:oi,spring:lo};function xy(t){typeof t.type=="string"&&(t.type=Yw[t.type])}class mf{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,i){return this.finished.then(s,i)}}const Gw=t=>t/100;class hf extends mf{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:i}=this.options;i&&i.updatedAt!==$t.now()&&this.tick($t.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;xy(s);const{type:i=oi,repeat:l=0,repeatDelay:c=0,repeatType:f,velocity:d=0}=s;let{keyframes:h}=s;const p=i||oi;p!==oi&&typeof h[0]!="number"&&(this.mixKeyframes=ji(Gw,hy(h[0],h[1])),h=[0,100]);const x=p({...s,keyframes:h});f==="mirror"&&(this.mirroredGenerator=p({...s,keyframes:[...h].reverse(),velocity:-d})),x.calculatedDuration===null&&(x.calculatedDuration=df(x));const{calculatedDuration:g}=x;this.calculatedDuration=g,this.resolvedDuration=g+c,this.totalDuration=this.resolvedDuration*(l+1)-c,this.generator=x}updateTime(s){const i=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=i}tick(s,i=!1){const{generator:l,totalDuration:c,mixKeyframes:f,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return l.next(0);const{delay:x=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:N,type:w,onUpdate:E,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-c/this.speed,this.startTime)),i?this.currentTime=s:this.updateTime(s);const k=this.currentTime-x*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?k<0:k>c;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=c);let D=this.currentTime,V=l;if(y){const q=Math.min(this.currentTime,c)/h;let te=Math.floor(q),ce=q%1;!ce&&q>=1&&(ce=1),ce===1&&te--,te=Math.min(te,y+1),!!(te%2)&&(v==="reverse"?(ce=1-ce,N&&(ce-=N/h)):v==="mirror"&&(V=d)),D=Wn(0,1,ce)*h}const L=A?{done:!1,value:g[0]}:V.next(D);f&&(L.value=f(L.value));let{done:U}=L;!A&&p!==null&&(U=this.playbackSpeed>=0?this.currentTime>=c:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return z&&w!==bd&&(L.value=ff(g,this.options,C,this.speed)),E&&E(L.value),z&&this.finish(),L}then(s,i){return this.finished.then(s,i)}get duration(){return mn(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+mn(s)}get time(){return mn(this.currentTime)}set time(s){s=Mn(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime($t.now());const i=this.playbackSpeed!==s;this.playbackSpeed=s,i&&(this.time=mn(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=Aw,startTime:i}=this.options;this.driver||(this.driver=s(c=>this.tick(c))),this.options.onPlay?.();const l=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=l):this.holdTime!==null?this.startTime=l-this.holdTime:this.startTime||(this.startTime=i??l),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($t.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function Xw(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const Qs=t=>t*180/Math.PI,vd=t=>{const s=Qs(Math.atan2(t[1],t[0]));return jd(s)},Kw={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:vd,rotateZ:vd,skewX:t=>Qs(Math.atan(t[1])),skewY:t=>Qs(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jd=t=>(t=t%360,t<0&&(t+=360),t),P0=vd,z0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),V0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Zw={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:z0,scaleY:V0,scale:t=>(z0(t)+V0(t))/2,rotateX:t=>jd(Qs(Math.atan2(t[6],t[5]))),rotateY:t=>jd(Qs(Math.atan2(-t[2],t[0]))),rotateZ:P0,rotate:P0,skewX:t=>Qs(Math.atan(t[4])),skewY:t=>Qs(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function wd(t){return t.includes("scale")?1:0}function Nd(t,s){if(!t||t==="none")return wd(s);const i=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let l,c;if(i)l=Zw,c=i;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);l=Kw,c=h}if(!c)return wd(s);const f=l[s],d=c[1].split(",").map(Iw);return typeof f=="function"?f(d):d[f]}const Qw=(t,s)=>{const{transform:i="none"}=getComputedStyle(t);return Nd(i,s)};function Iw(t){return parseFloat(t.trim())}const nr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sr=new Set(nr),F0=t=>t===tr||t===Se,Ww=new Set(["x","y","z"]),Jw=nr.filter(t=>!Ww.has(t));function e4(t){const s=[];return Jw.forEach(i=>{const l=t.getValue(i);l!==void 0&&(s.push([i,l.get()]),l.set(i.startsWith("scale")?1:0))}),s}const Ws={width:({x:t},{paddingLeft:s="0",paddingRight:i="0"})=>t.max-t.min-parseFloat(s)-parseFloat(i),height:({y:t},{paddingTop:s="0",paddingBottom:i="0"})=>t.max-t.min-parseFloat(s)-parseFloat(i),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>Nd(s,"x"),y:(t,{transform:s})=>Nd(s,"y")};Ws.translateX=Ws.x;Ws.translateY=Ws.y;const Js=new Set;let Sd=!1,Cd=!1,Td=!1;function yy(){if(Cd){const t=Array.from(Js).filter(l=>l.needsMeasurement),s=new Set(t.map(l=>l.element)),i=new Map;s.forEach(l=>{const c=e4(l);c.length&&(i.set(l,c),l.render())}),t.forEach(l=>l.measureInitialState()),s.forEach(l=>{l.render();const c=i.get(l);c&&c.forEach(([f,d])=>{l.getValue(f)?.set(d)})}),t.forEach(l=>l.measureEndState()),t.forEach(l=>{l.suspendedScrollY!==void 0&&window.scrollTo(0,l.suspendedScrollY)})}Cd=!1,Sd=!1,Js.forEach(t=>t.complete(Td)),Js.clear()}function by(){Js.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Cd=!0)})}function t4(){Td=!0,by(),yy(),Td=!1}class pf{constructor(s,i,l,c,f,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=i,this.name=l,this.motionValue=c,this.element=f,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(Js.add(this),Sd||(Sd=!0,Ze.read(by),Ze.resolveKeyframes(yy))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:i,element:l,motionValue:c}=this;if(s[0]===null){const f=c?.get(),d=s[s.length-1];if(f!==void 0)s[0]=f;else if(l&&i){const h=l.readValue(i,d);h!=null&&(s[0]=h)}s[0]===void 0&&(s[0]=d),c&&f===void 0&&c.set(s[0])}Xw(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Js.delete(this)}cancel(){this.state==="scheduled"&&(Js.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const n4=t=>t.startsWith("--");function s4(t,s,i){n4(s)?t.style.setProperty(s,i):t.style[s]=i}const a4=tf(()=>window.ScrollTimeline!==void 0),r4={};function i4(t,s){const i=tf(t);return()=>r4[s]??i()}const vy=i4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ii=([t,s,i,l])=>`cubic-bezier(${t}, ${s}, ${i}, ${l})`,H0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ii([0,.65,.55,1]),circOut:ii([.55,0,1,.45]),backIn:ii([.31,.01,.66,-.59]),backOut:ii([.33,1.53,.69,.99])};function jy(t,s){if(t)return typeof t=="function"?vy()?py(t,s):"ease-out":ry(t)?ii(t):Array.isArray(t)?t.map(i=>jy(i,s)||H0.easeOut):H0[t]}function l4(t,s,i,{delay:l=0,duration:c=300,repeat:f=0,repeatType:d="loop",ease:h="easeOut",times:p}={},x=void 0){const g={[s]:i};p&&(g.offset=p);const y=jy(h,c);Array.isArray(y)&&(g.easing=y);const v={delay:l,duration:c,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:f+1,direction:d==="reverse"?"alternate":"normal"};return x&&(v.pseudoElement=x),t.animate(g,v)}function wy(t){return typeof t=="function"&&"applyToOptions"in t}function o4({type:t,...s}){return wy(t)&&vy()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class c4 extends mf{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:i,name:l,keyframes:c,pseudoElement:f,allowFlatten:d=!1,finalKeyframe:h,onComplete:p}=s;this.isPseudoElement=!!f,this.allowFlatten=d,this.options=s,ef(typeof s.type!="string");const x=o4(s);this.animation=l4(i,l,c,x,f),x.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!f){const g=ff(c,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):s4(i,l,g),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return mn(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+mn(s)}get time(){return mn(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=Mn(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:i}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&a4()?(this.animation.timeline=s,hn):i(this)}}const Ny={anticipate:ty,backInOut:ey,circInOut:sy};function u4(t){return t in Ny}function d4(t){typeof t.ease=="string"&&u4(t.ease)&&(t.ease=Ny[t.ease])}const $0=10;class f4 extends c4{constructor(s){d4(s),xy(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:i,onUpdate:l,onComplete:c,element:f,...d}=this.options;if(!i)return;if(s!==void 0){i.set(s);return}const h=new hf({...d,autoplay:!1}),p=Mn(this.finishedTime??this.time);i.setWithVelocity(h.sample(p-$0).value,h.sample(p).value,$0),h.stop()}}const q0=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Cs.test(t)||t==="0")&&!t.startsWith("url("));function m4(t){const s=t[0];if(t.length===1)return!0;for(let i=0;i<t.length;i++)if(t[i]!==s)return!0}function h4(t,s,i,l){const c=t[0];if(c===null)return!1;if(s==="display"||s==="visibility")return!0;const f=t[t.length-1],d=q0(c,s),h=q0(f,s);return!d||!h?!1:m4(t)||(i==="spring"||wy(i))&&l}function kd(t){t.duration=0,t.type="keyframes"}const p4=new Set(["opacity","clipPath","filter","transform"]),g4=tf(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function x4(t){const{motionValue:s,name:i,repeatDelay:l,repeatType:c,damping:f,type:d}=t;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:x}=s.owner.getProps();return g4()&&i&&p4.has(i)&&(i!=="transform"||!x)&&!p&&!l&&c!=="mirror"&&f!==0&&d!=="inertia"}const y4=40;class b4 extends mf{constructor({autoplay:s=!0,delay:i=0,type:l="keyframes",repeat:c=0,repeatDelay:f=0,repeatType:d="loop",keyframes:h,name:p,motionValue:x,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=$t.now();const v={autoplay:s,delay:i,type:l,repeat:c,repeatDelay:f,repeatType:d,name:p,motionValue:x,element:g,...y},N=g?.KeyframeResolver||pf;this.keyframeResolver=new N(h,(w,E,C)=>this.onKeyframesResolved(w,E,v,!C),p,x,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,i,l,c){this.keyframeResolver=void 0;const{name:f,type:d,velocity:h,delay:p,isHandoff:x,onUpdate:g}=l;this.resolvedAt=$t.now(),h4(s,f,d,h)||((Jn.instantAnimations||!p)&&g?.(ff(s,l,i)),s[0]=s[s.length-1],kd(l),l.repeat=0);const v={startTime:c?this.resolvedAt?this.resolvedAt-this.createdAt>y4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:i,...l,keyframes:s},N=!x&&x4(v)?new f4({...v,element:v.motionValue.owner.current}):new hf(v);N.finished.then(()=>this.notifyFinished()).catch(hn),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(s,i){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),t4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const v4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function j4(t){const s=v4.exec(t);if(!s)return[,];const[,i,l,c]=s;return[`--${i??l}`,c]}function Sy(t,s,i=1){const[l,c]=j4(t);if(!l)return;const f=window.getComputedStyle(s).getPropertyValue(l);if(f){const d=f.trim();return Gx(d)?parseFloat(d):d}return lf(c)?Sy(c,s,i+1):c}function gf(t,s){return t?.[s]??t?.default??t}const Cy=new Set(["width","height","top","left","right","bottom",...nr]),w4={test:t=>t==="auto",parse:t=>t},Ty=t=>s=>s.test(t),ky=[tr,Se,_n,Ns,mw,fw,w4],Y0=t=>ky.find(Ty(t));function N4(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Kx(t):!0}const S4=new Set(["brightness","contrast","saturate","opacity"]);function C4(t){const[s,i]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[l]=i.match(of)||[];if(!l)return t;const c=i.replace(l,"");let f=S4.has(s)?1:0;return l!==i&&(f*=100),s+"("+f+c+")"}const T4=/\b([a-z-]*)\(.*?\)/gu,Ed={...Cs,getAnimatableNone:t=>{const s=t.match(T4);return s?s.map(C4).join(" "):t}},G0={...tr,transform:Math.round},k4={rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:ql,scaleX:ql,scaleY:ql,scaleZ:ql,skew:Ns,skewX:Ns,skewY:Ns,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:mi,originX:R0,originY:R0,originZ:Se},xf={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...k4,zIndex:G0,fillOpacity:mi,strokeOpacity:mi,numOctaves:G0},E4={...xf,color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,filter:Ed,WebkitFilter:Ed},Ey=t=>E4[t];function Ay(t,s){let i=Ey(t);return i!==Ed&&(i=Cs),i.getAnimatableNone?i.getAnimatableNone(s):void 0}const A4=new Set(["auto","none","0"]);function D4(t,s,i){let l=0,c;for(;l<t.length&&!c;){const f=t[l];typeof f=="string"&&!A4.has(f)&&hi(f).values.length&&(c=t[l]),l++}if(c&&i)for(const f of s)t[f]=Ay(i,c)}class M4 extends pf{constructor(s,i,l,c,f){super(s,i,l,c,f,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:i,name:l}=this;if(!i||!i.current)return;super.readKeyframes();for(let p=0;p<s.length;p++){let x=s[p];if(typeof x=="string"&&(x=x.trim(),lf(x))){const g=Sy(x,i.current);g!==void 0&&(s[p]=g),p===s.length-1&&(this.finalKeyframe=x)}}if(this.resolveNoneKeyframes(),!Cy.has(l)||s.length!==2)return;const[c,f]=s,d=Y0(c),h=Y0(f);if(d!==h)if(F0(d)&&F0(h))for(let p=0;p<s.length;p++){const x=s[p];typeof x=="string"&&(s[p]=parseFloat(x))}else Ws[l]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:i}=this,l=[];for(let c=0;c<s.length;c++)(s[c]===null||N4(s[c]))&&l.push(c);l.length&&D4(s,l,i)}measureInitialState(){const{element:s,unresolvedKeyframes:i,name:l}=this;if(!s||!s.current)return;l==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ws[l](s.measureViewportBox(),window.getComputedStyle(s.current)),i[0]=this.measuredOrigin;const c=i[i.length-1];c!==void 0&&s.getValue(l,c).jump(c,!1)}measureEndState(){const{element:s,name:i,unresolvedKeyframes:l}=this;if(!s||!s.current)return;const c=s.getValue(i);c&&c.jump(this.measuredOrigin,!1);const f=l.length-1,d=l[f];l[f]=Ws[i](s.measureViewportBox(),window.getComputedStyle(s.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{s.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function _4(t,s,i){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let l=document;const c=i?.[t]??l.querySelectorAll(t);return c?Array.from(c):[]}return Array.from(t)}const Dy=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function R4(t){return Xx(t)&&"offsetHeight"in t}const X0=30,L4=t=>!isNaN(parseFloat(t));class O4{constructor(s,i={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=l=>{const c=$t.now();if(this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(l),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=i.owner}setCurrent(s){this.current=s,this.updatedAt=$t.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=L4(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,i){this.events[s]||(this.events[s]=new nf);const l=this.events[s].add(i);return s==="change"?()=>{l(),Ze.read(()=>{this.events.change.getSize()||this.stop()})}:l}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,i){this.passiveEffect=s,this.stopPassiveEffect=i}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,i,l){this.set(i),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-l}jump(s,i=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,i&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=$t.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>X0)return 0;const i=Math.min(this.updatedAt-this.prevUpdatedAt,X0);return Zx(parseFloat(this.current)-parseFloat(this.prevFrameValue),i)}start(s){return this.stop(),new Promise(i=>{this.hasAnimated=!0,this.animation=s(i),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qa(t,s){return new O4(t,s)}const{schedule:yf}=iy(queueMicrotask,!1),vn={x:!1,y:!1};function My(){return vn.x||vn.y}function U4(t){return t==="x"||t==="y"?vn[t]?null:(vn[t]=!0,()=>{vn[t]=!1}):vn.x||vn.y?null:(vn.x=vn.y=!0,()=>{vn.x=vn.y=!1})}function _y(t,s){const i=_4(t),l=new AbortController,c={passive:!0,...s,signal:l.signal};return[i,c,()=>l.abort()]}function K0(t){return!(t.pointerType==="touch"||My())}function B4(t,s,i={}){const[l,c,f]=_y(t,i),d=h=>{if(!K0(h))return;const{target:p}=h,x=s(p,h);if(typeof x!="function"||!p)return;const g=y=>{K0(y)&&(x(y),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,c)};return l.forEach(h=>{h.addEventListener("pointerenter",d,c)}),f}const Ry=(t,s)=>s?t===s?!0:Ry(t,s.parentElement):!1,bf=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,P4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function z4(t){return P4.has(t.tagName)||t.tabIndex!==-1}const Wl=new WeakSet;function Z0(t){return s=>{s.key==="Enter"&&t(s)}}function Zu(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const V4=(t,s)=>{const i=t.currentTarget;if(!i)return;const l=Z0(()=>{if(Wl.has(i))return;Zu(i,"down");const c=Z0(()=>{Zu(i,"up")}),f=()=>Zu(i,"cancel");i.addEventListener("keyup",c,s),i.addEventListener("blur",f,s)});i.addEventListener("keydown",l,s),i.addEventListener("blur",()=>i.removeEventListener("keydown",l),s)};function Q0(t){return bf(t)&&!My()}function F4(t,s,i={}){const[l,c,f]=_y(t,i),d=h=>{const p=h.currentTarget;if(!Q0(h))return;Wl.add(p);const x=s(p,h),g=(N,w)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Wl.has(p)&&Wl.delete(p),Q0(N)&&typeof x=="function"&&x(N,{success:w})},y=N=>{g(N,p===window||p===document||i.useGlobalTarget||Ry(p,N.target))},v=N=>{g(N,!1)};window.addEventListener("pointerup",y,c),window.addEventListener("pointercancel",v,c)};return l.forEach(h=>{(i.useGlobalTarget?window:h).addEventListener("pointerdown",d,c),R4(h)&&(h.addEventListener("focus",x=>V4(x,c)),!z4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),f}function Ly(t){return Xx(t)&&"ownerSVGElement"in t}function H4(t){return Ly(t)&&t.tagName==="svg"}const Mt=t=>!!(t&&t.getVelocity),$4=[...ky,mt,Cs],q4=t=>$4.find(Ty(t)),Oy=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Y4(t=!0){const s=b.useContext(Id);if(s===null)return[!0,null];const{isPresent:i,onExitComplete:l,register:c}=s,f=b.useId();b.useEffect(()=>{if(t)return c(f)},[t]);const d=b.useCallback(()=>t&&l&&l(f),[f,l,t]);return!i&&l?[!1,d]:[!0]}const Uy=b.createContext({strict:!1}),I0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ia={};for(const t in I0)Ia[t]={isEnabled:s=>I0[t].some(i=>!!s[i])};function G4(t){for(const s in t)Ia[s]={...Ia[s],...t[s]}}const X4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function oo(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||X4.has(t)}let By=t=>!oo(t);function K4(t){typeof t=="function"&&(By=s=>s.startsWith("on")?!oo(s):t(s))}try{K4(require("@emotion/is-prop-valid").default)}catch{}function Z4(t,s,i){const l={};for(const c in t)c==="values"&&typeof t.values=="object"||(By(c)||i===!0&&oo(c)||!s&&!oo(c)||t.draggable&&c.startsWith("onDrag"))&&(l[c]=t[c]);return l}const go=b.createContext({});function xo(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pi(t){return typeof t=="string"||Array.isArray(t)}const vf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jf=["initial",...vf];function yo(t){return xo(t.animate)||jf.some(s=>pi(t[s]))}function Py(t){return!!(yo(t)||t.variants)}function Q4(t,s){if(yo(t)){const{initial:i,animate:l}=t;return{initial:i===!1||pi(i)?i:void 0,animate:pi(l)?l:void 0}}return t.inherit!==!1?s:{}}function I4(t){const{initial:s,animate:i}=Q4(t,b.useContext(go));return b.useMemo(()=>({initial:s,animate:i}),[W0(s),W0(i)])}function W0(t){return Array.isArray(t)?t.join(" "):t}const gi={};function W4(t){for(const s in t)gi[s]=t[s],rf(s)&&(gi[s].isCSSVariable=!0)}function zy(t,{layout:s,layoutId:i}){return sr.has(t)||t.startsWith("origin")||(s||i!==void 0)&&(!!gi[t]||t==="opacity")}const J4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},eN=nr.length;function tN(t,s,i){let l="",c=!0;for(let f=0;f<eN;f++){const d=nr[f],h=t[d];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(d.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||i){const x=Dy(h,xf[d]);if(!p){c=!1;const g=J4[d]||d;l+=`${g}(${x}) `}i&&(s[d]=x)}}return l=l.trim(),i?l=i(s,c?"":l):c&&(l="none"),l}function wf(t,s,i){const{style:l,vars:c,transformOrigin:f}=t;let d=!1,h=!1;for(const p in s){const x=s[p];if(sr.has(p)){d=!0;continue}else if(rf(p)){c[p]=x;continue}else{const g=Dy(x,xf[p]);p.startsWith("origin")?(h=!0,f[p]=g):l[p]=g}}if(s.transform||(d||i?l.transform=tN(s,t.transform,i):l.transform&&(l.transform="none")),h){const{originX:p="50%",originY:x="50%",originZ:g=0}=f;l.transformOrigin=`${p} ${x} ${g}`}}const Nf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vy(t,s,i){for(const l in s)!Mt(s[l])&&!zy(l,i)&&(t[l]=s[l])}function nN({transformTemplate:t},s){return b.useMemo(()=>{const i=Nf();return wf(i,s,t),Object.assign({},i.vars,i.style)},[s])}function sN(t,s){const i=t.style||{},l={};return Vy(l,i,t),Object.assign(l,nN(t,s)),l}function aN(t,s){const i={},l=sN(t,s);return t.drag&&t.dragListener!==!1&&(i.draggable=!1,l.userSelect=l.WebkitUserSelect=l.WebkitTouchCallout="none",l.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(i.tabIndex=0),i.style=l,i}const rN={offset:"stroke-dashoffset",array:"stroke-dasharray"},iN={offset:"strokeDashoffset",array:"strokeDasharray"};function lN(t,s,i=1,l=0,c=!0){t.pathLength=1;const f=c?rN:iN;t[f.offset]=Se.transform(-l);const d=Se.transform(s),h=Se.transform(i);t[f.array]=`${d} ${h}`}function Fy(t,{attrX:s,attrY:i,attrScale:l,pathLength:c,pathSpacing:f=1,pathOffset:d=0,...h},p,x,g){if(wf(t,h,x),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox),s!==void 0&&(y.x=s),i!==void 0&&(y.y=i),l!==void 0&&(y.scale=l),c!==void 0&&lN(y,c,f,d,!1)}const Hy=()=>({...Nf(),attrs:{}}),$y=t=>typeof t=="string"&&t.toLowerCase()==="svg";function oN(t,s,i,l){const c=b.useMemo(()=>{const f=Hy();return Fy(f,s,$y(l),t.transformTemplate,t.style),{...f.attrs,style:{...f.style}}},[s]);if(t.style){const f={};Vy(f,t.style,t),c.style={...f,...c.style}}return c}const cN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sf(t){return typeof t!="string"||t.includes("-")?!1:!!(cN.indexOf(t)>-1||/[A-Z]/u.test(t))}function uN(t,s,i,{latestValues:l},c,f=!1){const h=(Sf(t)?oN:aN)(s,l,c,t),p=Z4(s,typeof t=="string",f),x=t!==b.Fragment?{...p,...h,ref:i}:{},{children:g}=s,y=b.useMemo(()=>Mt(g)?g.get():g,[g]);return b.createElement(t,{...x,children:y})}function J0(t){const s=[{},{}];return t?.values.forEach((i,l)=>{s[0][l]=i.get(),s[1][l]=i.getVelocity()}),s}function Cf(t,s,i,l){if(typeof s=="function"){const[c,f]=J0(l);s=s(i!==void 0?i:t.custom,c,f)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[c,f]=J0(l);s=s(i!==void 0?i:t.custom,c,f)}return s}function Jl(t){return Mt(t)?t.get():t}function dN({scrapeMotionValuesFromProps:t,createRenderState:s},i,l,c){return{latestValues:fN(i,l,c,t),renderState:s()}}function fN(t,s,i,l){const c={},f=l(t,{});for(const v in f)c[v]=Jl(f[v]);let{initial:d,animate:h}=t;const p=yo(t),x=Py(t);s&&x&&!p&&t.inherit!==!1&&(d===void 0&&(d=s.initial),h===void 0&&(h=s.animate));let g=i?i.initial===!1:!1;g=g||d===!1;const y=g?h:d;if(y&&typeof y!="boolean"&&!xo(y)){const v=Array.isArray(y)?y:[y];for(let N=0;N<v.length;N++){const w=Cf(t,v[N]);if(w){const{transitionEnd:E,transition:C,...k}=w;for(const A in k){let D=k[A];if(Array.isArray(D)){const V=g?D.length-1:0;D=D[V]}D!==null&&(c[A]=D)}for(const A in E)c[A]=E[A]}}}return c}const qy=t=>(s,i)=>{const l=b.useContext(go),c=b.useContext(Id),f=()=>dN(t,s,l,c);return i?f():Gj(f)};function Tf(t,s,i){const{style:l}=t,c={};for(const f in l)(Mt(l[f])||s.style&&Mt(s.style[f])||zy(f,t)||i?.getValue(f)?.liveStyle!==void 0)&&(c[f]=l[f]);return c}const mN=qy({scrapeMotionValuesFromProps:Tf,createRenderState:Nf});function Yy(t,s,i){const l=Tf(t,s,i);for(const c in t)if(Mt(t[c])||Mt(s[c])){const f=nr.indexOf(c)!==-1?"attr"+c.charAt(0).toUpperCase()+c.substring(1):c;l[f]=t[c]}return l}const hN=qy({scrapeMotionValuesFromProps:Yy,createRenderState:Hy}),pN=Symbol.for("motionComponentSymbol");function Ya(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gN(t,s,i){return b.useCallback(l=>{l&&t.onMount&&t.onMount(l),s&&(l?s.mount(l):s.unmount()),i&&(typeof i=="function"?i(l):Ya(i)&&(i.current=l))},[s])}const kf=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),xN="framerAppearId",Gy="data-"+kf(xN),Xy=b.createContext({});function yN(t,s,i,l,c){const{visualElement:f}=b.useContext(go),d=b.useContext(Uy),h=b.useContext(Id),p=b.useContext(Oy).reducedMotion,x=b.useRef(null);l=l||d.renderer,!x.current&&l&&(x.current=l(t,{visualState:s,parent:f,props:i,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const g=x.current,y=b.useContext(Xy);g&&!g.projection&&c&&(g.type==="html"||g.type==="svg")&&bN(x.current,i,c,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{g&&v.current&&g.update(i,h)});const N=i[Gy],w=b.useRef(!!N&&!window.MotionHandoffIsComplete?.(N)&&window.MotionHasOptimisedAnimation?.(N));return Xj(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),w.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(N)}),w.current=!1),g.enteringChildren=void 0)}),g}function bN(t,s,i,l){const{layoutId:c,layout:f,drag:d,dragConstraints:h,layoutScroll:p,layoutRoot:x,layoutCrossfade:g}=s;t.projection=new i(t.latestValues,s["data-framer-portal-id"]?void 0:Ky(t.parent)),t.projection.setOptions({layoutId:c,layout:f,alwaysMeasureLayout:!!d||h&&Ya(h),visualElement:t,animationType:typeof f=="string"?f:"both",initialPromotionConfig:l,crossfade:g,layoutScroll:p,layoutRoot:x})}function Ky(t){if(t)return t.options.allowProjection!==!1?t.projection:Ky(t.parent)}function Qu(t,{forwardMotionProps:s=!1}={},i,l){i&&G4(i);const c=Sf(t)?hN:mN;function f(h,p){let x;const g={...b.useContext(Oy),...h,layoutId:vN(h)},{isStatic:y}=g,v=I4(h),N=c(h,y);if(!y&&Qd){jN();const w=wN(g);x=w.MeasureLayout,v.visualElement=yN(t,N,g,l,w.ProjectionNode)}return a.jsxs(go.Provider,{value:v,children:[x&&v.visualElement?a.jsx(x,{visualElement:v.visualElement,...g}):null,uN(t,h,gN(N,v.visualElement,p),N,y,s)]})}f.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const d=b.forwardRef(f);return d[pN]=t,d}function vN({layoutId:t}){const s=b.useContext(Yx).id;return s&&t!==void 0?s+"-"+t:t}function jN(t,s){b.useContext(Uy).strict}function wN(t){const{drag:s,layout:i}=Ia;if(!s&&!i)return{};const l={...s,...i};return{MeasureLayout:s?.isEnabled(t)||i?.isEnabled(t)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}function NN(t,s){if(typeof Proxy>"u")return Qu;const i=new Map,l=(f,d)=>Qu(f,d,t,s),c=(f,d)=>l(f,d);return new Proxy(c,{get:(f,d)=>d==="create"?l:(i.has(d)||i.set(d,Qu(d,void 0,t,s)),i.get(d))})}function Zy({top:t,left:s,right:i,bottom:l}){return{x:{min:s,max:i},y:{min:t,max:l}}}function SN({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function CN(t,s){if(!s)return t;const i=s({x:t.left,y:t.top}),l=s({x:t.right,y:t.bottom});return{top:i.y,left:i.x,bottom:l.y,right:l.x}}function Iu(t){return t===void 0||t===1}function Ad({scale:t,scaleX:s,scaleY:i}){return!Iu(t)||!Iu(s)||!Iu(i)}function Ks(t){return Ad(t)||Qy(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Qy(t){return eg(t.x)||eg(t.y)}function eg(t){return t&&t!=="0%"}function co(t,s,i){const l=t-i,c=s*l;return i+c}function tg(t,s,i,l,c){return c!==void 0&&(t=co(t,c,l)),co(t,i,l)+s}function Dd(t,s=0,i=1,l,c){t.min=tg(t.min,s,i,l,c),t.max=tg(t.max,s,i,l,c)}function Iy(t,{x:s,y:i}){Dd(t.x,s.translate,s.scale,s.originPoint),Dd(t.y,i.translate,i.scale,i.originPoint)}const ng=.999999999999,sg=1.0000000000001;function TN(t,s,i,l=!1){const c=i.length;if(!c)return;s.x=s.y=1;let f,d;for(let h=0;h<c;h++){f=i[h],d=f.projectionDelta;const{visualElement:p}=f.options;p&&p.props.style&&p.props.style.display==="contents"||(l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Xa(t,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),d&&(s.x*=d.x.scale,s.y*=d.y.scale,Iy(t,d)),l&&Ks(f.latestValues)&&Xa(t,f.latestValues))}s.x<sg&&s.x>ng&&(s.x=1),s.y<sg&&s.y>ng&&(s.y=1)}function Ga(t,s){t.min=t.min+s,t.max=t.max+s}function ag(t,s,i,l,c=.5){const f=Je(t.min,t.max,c);Dd(t,s,i,f,l)}function Xa(t,s){ag(t.x,s.x,s.scaleX,s.scale,s.originX),ag(t.y,s.y,s.scaleY,s.scale,s.originY)}function Wy(t,s){return Zy(CN(t.getBoundingClientRect(),s))}function kN(t,s,i){const l=Wy(t,i),{scroll:c}=s;return c&&(Ga(l.x,c.offset.x),Ga(l.y,c.offset.y)),l}const rg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ka=()=>({x:rg(),y:rg()}),ig=()=>({min:0,max:0}),gt=()=>({x:ig(),y:ig()}),Md={current:null},Jy={current:!1};function EN(){if(Jy.current=!0,!!Qd)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>Md.current=t.matches;t.addEventListener("change",s),s()}else Md.current=!1}const AN=new WeakMap;function DN(t,s,i){for(const l in s){const c=s[l],f=i[l];if(Mt(c))t.addValue(l,c);else if(Mt(f))t.addValue(l,Qa(c,{owner:t}));else if(f!==c)if(t.hasValue(l)){const d=t.getValue(l);d.liveStyle===!0?d.jump(c):d.hasAnimated||d.set(c)}else{const d=t.getStaticValue(l);t.addValue(l,Qa(d!==void 0?d:c,{owner:t}))}}for(const l in i)s[l]===void 0&&t.removeValue(l);return s}const lg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MN{scrapeMotionValuesFromProps(s,i,l){return{}}constructor({parent:s,props:i,presenceContext:l,reducedMotionConfig:c,blockInitialAnimation:f,visualState:d},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=$t.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Ze.render(this.render,!1,!0))};const{latestValues:p,renderState:x}=d;this.latestValues=p,this.baseTarget={...p},this.initialValues=i.initial?{...p}:{},this.renderState=x,this.parent=s,this.props=i,this.presenceContext=l,this.depth=s?s.depth+1:0,this.reducedMotionConfig=c,this.options=h,this.blockInitialAnimation=!!f,this.isControllingVariants=yo(i),this.isVariantNode=Py(i),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(i,{},this);for(const v in y){const N=y[v];p[v]!==void 0&&Mt(N)&&N.set(p[v])}}mount(s){this.current=s,AN.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,l)=>this.bindToMotionValue(l,i)),Jy.current||EN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Md.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ss(this.notifyUpdate),Ss(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,i){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const l=sr.has(s);l&&this.onBindTransform&&this.onBindTransform();const c=i.on("change",d=>{this.latestValues[s]=d,this.props.onUpdate&&Ze.preRender(this.notifyUpdate),l&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let f;window.MotionCheckAppearSync&&(f=window.MotionCheckAppearSync(this,s,i)),this.valueSubscriptions.set(s,()=>{c(),f&&f(),i.owner&&i.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in Ia){const i=Ia[s];if(!i)continue;const{isEnabled:l,Feature:c}=i;if(!this.features[s]&&c&&l(this.props)&&(this.features[s]=new c(this)),this.features[s]){const f=this.features[s];f.isMounted?f.update():(f.mount(),f.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,i){this.latestValues[s]=i}update(s,i){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=i;for(let l=0;l<lg.length;l++){const c=lg[l];this.propEventSubscriptions[c]&&(this.propEventSubscriptions[c](),delete this.propEventSubscriptions[c]);const f="on"+c,d=s[f];d&&(this.propEventSubscriptions[c]=this.on(c,d))}this.prevMotionValues=DN(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const i=this.getClosestVariantNode();if(i)return i.variantChildren&&i.variantChildren.add(s),()=>i.variantChildren.delete(s)}addValue(s,i){const l=this.values.get(s);i!==l&&(l&&this.removeValue(s),this.bindToMotionValue(s,i),this.values.set(s,i),this.latestValues[s]=i.get())}removeValue(s){this.values.delete(s);const i=this.valueSubscriptions.get(s);i&&(i(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,i){if(this.props.values&&this.props.values[s])return this.props.values[s];let l=this.values.get(s);return l===void 0&&i!==void 0&&(l=Qa(i===null?void 0:i,{owner:this}),this.addValue(s,l)),l}readValue(s,i){let l=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return l!=null&&(typeof l=="string"&&(Gx(l)||Kx(l))?l=parseFloat(l):!q4(l)&&Cs.test(i)&&(l=Ay(s,i)),this.setBaseTarget(s,Mt(l)?l.get():l)),Mt(l)?l.get():l}setBaseTarget(s,i){this.baseTarget[s]=i}getBaseTarget(s){const{initial:i}=this.props;let l;if(typeof i=="string"||typeof i=="object"){const f=Cf(this.props,i,this.presenceContext?.custom);f&&(l=f[s])}if(i&&l!==void 0)return l;const c=this.getBaseTargetFromProps(this.props,s);return c!==void 0&&!Mt(c)?c:this.initialValues[s]!==void 0&&l===void 0?void 0:this.baseTarget[s]}on(s,i){return this.events[s]||(this.events[s]=new nf),this.events[s].add(i)}notify(s,...i){this.events[s]&&this.events[s].notify(...i)}scheduleRenderMicrotask(){yf.render(this.render)}}class eb extends MN{constructor(){super(...arguments),this.KeyframeResolver=M4}sortInstanceNodePosition(s,i){return s.compareDocumentPosition(i)&2?1:-1}getBaseTargetFromProps(s,i){return s.style?s.style[i]:void 0}removeValueFromRenderState(s,{vars:i,style:l}){delete i[s],delete l[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;Mt(s)&&(this.childSubscription=s.on("change",i=>{this.current&&(this.current.textContent=`${i}`)}))}}function tb(t,{style:s,vars:i},l,c){const f=t.style;let d;for(d in s)f[d]=s[d];c?.applyProjectionStyles(f,l);for(d in i)f.setProperty(d,i[d])}function _N(t){return window.getComputedStyle(t)}class RN extends eb{constructor(){super(...arguments),this.type="html",this.renderInstance=tb}readValueFromInstance(s,i){if(sr.has(i))return this.projection?.isProjecting?wd(i):Qw(s,i);{const l=_N(s),c=(rf(i)?l.getPropertyValue(i):l[i])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(s,{transformPagePoint:i}){return Wy(s,i)}build(s,i,l){wf(s,i,l.transformTemplate)}scrapeMotionValuesFromProps(s,i,l){return Tf(s,i,l)}}const nb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LN(t,s,i,l){tb(t,s,void 0,l);for(const c in s.attrs)t.setAttribute(nb.has(c)?c:kf(c),s.attrs[c])}class ON extends eb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(s,i){return s[i]}readValueFromInstance(s,i){if(sr.has(i)){const l=Ey(i);return l&&l.default||0}return i=nb.has(i)?i:kf(i),s.getAttribute(i)}scrapeMotionValuesFromProps(s,i,l){return Yy(s,i,l)}build(s,i,l){Fy(s,i,this.isSVGTag,l.transformTemplate,l.style)}renderInstance(s,i,l,c){LN(s,i,l,c)}mount(s){this.isSVGTag=$y(s.tagName),super.mount(s)}}const UN=(t,s)=>Sf(t)?new ON(s):new RN(s,{allowProjection:t!==b.Fragment});function Za(t,s,i){const l=t.getProps();return Cf(l,s,i!==void 0?i:l.custom,t)}const _d=t=>Array.isArray(t);function BN(t,s,i){t.hasValue(s)?t.getValue(s).set(i):t.addValue(s,Qa(i))}function PN(t){return _d(t)?t[t.length-1]||0:t}function zN(t,s){const i=Za(t,s);let{transitionEnd:l={},transition:c={},...f}=i||{};f={...f,...l};for(const d in f){const h=PN(f[d]);BN(t,d,h)}}function VN(t){return!!(Mt(t)&&t.add)}function Rd(t,s){const i=t.getValue("willChange");if(VN(i))return i.add(s);if(!i&&Jn.WillChange){const l=new Jn.WillChange("auto");t.addValue("willChange",l),l.add(s)}}function sb(t){return t.props[Gy]}const FN=t=>t!==null;function HN(t,{repeat:s,repeatType:i="loop"},l){const c=t.filter(FN),f=s&&i!=="loop"&&s%2===1?0:c.length-1;return c[f]}const $N={type:"spring",stiffness:500,damping:25,restSpeed:10},qN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YN={type:"keyframes",duration:.8},GN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XN=(t,{keyframes:s})=>s.length>2?YN:sr.has(t)?t.startsWith("scale")?qN(s[1]):$N:GN;function KN({when:t,delay:s,delayChildren:i,staggerChildren:l,staggerDirection:c,repeat:f,repeatType:d,repeatDelay:h,from:p,elapsed:x,...g}){return!!Object.keys(g).length}const Ef=(t,s,i,l={},c,f)=>d=>{const h=gf(l,t)||{},p=h.delay||l.delay||0;let{elapsed:x=0}=l;x=x-Mn(p);const g={keyframes:Array.isArray(i)?i:[null,i],ease:"easeOut",velocity:s.getVelocity(),...h,delay:-x,onUpdate:v=>{s.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:t,motionValue:s,element:f?void 0:c};KN(h)||Object.assign(g,XN(t,g)),g.duration&&(g.duration=Mn(g.duration)),g.repeatDelay&&(g.repeatDelay=Mn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(kd(g),g.delay===0&&(y=!0)),(Jn.instantAnimations||Jn.skipAnimations)&&(y=!0,kd(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!f&&s.get()!==void 0){const v=HN(g.keyframes,h);if(v!==void 0){Ze.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new hf(g):new b4(g)};function ZN({protectedKeys:t,needsAnimating:s},i){const l=t.hasOwnProperty(i)&&s[i]!==!0;return s[i]=!1,l}function ab(t,s,{delay:i=0,transitionOverride:l,type:c}={}){let{transition:f=t.getDefaultTransition(),transitionEnd:d,...h}=s;l&&(f=l);const p=[],x=c&&t.animationState&&t.animationState.getState()[c];for(const g in h){const y=t.getValue(g,t.latestValues[g]??null),v=h[g];if(v===void 0||x&&ZN(x,g))continue;const N={delay:i,...gf(f||{},g)},w=y.get();if(w!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===w&&!N.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const k=sb(t);if(k){const A=window.MotionHandoffAnimation(k,g,Ze);A!==null&&(N.startTime=A,E=!0)}}Rd(t,g),y.start(Ef(g,y,v,t.shouldReduceMotion&&Cy.has(g)?{type:!1}:N,t,E));const C=y.animation;C&&p.push(C)}return d&&Promise.all(p).then(()=>{Ze.update(()=>{d&&zN(t,d)})}),p}function rb(t,s,i,l=0,c=1){const f=Array.from(t).sort((x,g)=>x.sortNodePosition(g)).indexOf(s),d=t.size,h=(d-1)*l;return typeof i=="function"?i(f,d):c===1?f*l:h-f*l}function Ld(t,s,i={}){const l=Za(t,s,i.type==="exit"?t.presenceContext?.custom:void 0);let{transition:c=t.getDefaultTransition()||{}}=l||{};i.transitionOverride&&(c=i.transitionOverride);const f=l?()=>Promise.all(ab(t,l,i)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:x=0,staggerChildren:g,staggerDirection:y}=c;return QN(t,s,p,x,g,y,i)}:()=>Promise.resolve(),{when:h}=c;if(h){const[p,x]=h==="beforeChildren"?[f,d]:[d,f];return p().then(()=>x())}else return Promise.all([f(),d(i.delay)])}function QN(t,s,i=0,l=0,c=0,f=1,d){const h=[];for(const p of t.variantChildren)p.notify("AnimationStart",s),h.push(Ld(p,s,{...d,delay:i+(typeof l=="function"?0:l)+rb(t.variantChildren,p,l,c,f)}).then(()=>p.notify("AnimationComplete",s)));return Promise.all(h)}function IN(t,s,i={}){t.notify("AnimationStart",s);let l;if(Array.isArray(s)){const c=s.map(f=>Ld(t,f,i));l=Promise.all(c)}else if(typeof s=="string")l=Ld(t,s,i);else{const c=typeof s=="function"?Za(t,s,i.custom):s;l=Promise.all(ab(t,c,i))}return l.then(()=>{t.notify("AnimationComplete",s)})}function ib(t,s){if(!Array.isArray(s))return!1;const i=s.length;if(i!==t.length)return!1;for(let l=0;l<i;l++)if(s[l]!==t[l])return!1;return!0}const WN=jf.length;function lb(t){if(!t)return;if(!t.isControllingVariants){const i=t.parent?lb(t.parent)||{}:{};return t.props.initial!==void 0&&(i.initial=t.props.initial),i}const s={};for(let i=0;i<WN;i++){const l=jf[i],c=t.props[l];(pi(c)||c===!1)&&(s[l]=c)}return s}const JN=[...vf].reverse(),eS=vf.length;function tS(t){return s=>Promise.all(s.map(({animation:i,options:l})=>IN(t,i,l)))}function nS(t){let s=tS(t),i=og(),l=!0;const c=p=>(x,g)=>{const y=Za(t,g,p==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:N,...w}=y;x={...x,...w,...N}}return x};function f(p){s=p(t)}function d(p){const{props:x}=t,g=lb(t.parent)||{},y=[],v=new Set;let N={},w=1/0;for(let C=0;C<eS;C++){const k=JN[C],A=i[k],D=x[k]!==void 0?x[k]:g[k],V=pi(D),L=k===p?A.isActive:null;L===!1&&(w=C);let U=D===g[k]&&D!==x[k]&&V;if(U&&l&&t.manuallyAnimateOnMount&&(U=!1),A.protectedKeys={...N},!A.isActive&&L===null||!D&&!A.prevProp||xo(D)||typeof D=="boolean")continue;const z=sS(A.prevProp,D);let q=z||k===p&&A.isActive&&!U&&V||C>w&&V,te=!1;const ce=Array.isArray(D)?D:[D];let $=ce.reduce(c(k),{});L===!1&&($={});const{prevResolvedValues:G={}}=A,ae={...G,...$},ee=B=>{q=!0,v.has(B)&&(te=!0,v.delete(B)),A.needsAnimating[B]=!0;const F=t.getValue(B);F&&(F.liveStyle=!1)};for(const B in ae){const F=$[B],Q=G[B];if(N.hasOwnProperty(B))continue;let S=!1;_d(F)&&_d(Q)?S=!ib(F,Q):S=F!==Q,S?F!=null?ee(B):v.add(B):F!==void 0&&v.has(B)?ee(B):A.protectedKeys[B]=!0}A.prevProp=D,A.prevResolvedValues=$,A.isActive&&(N={...N,...$}),l&&t.blockInitialAnimation&&(q=!1);const de=U&&z;q&&(!de||te)&&y.push(...ce.map(B=>{const F={type:k};if(typeof B=="string"&&l&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:Q}=t,S=Za(Q,B);if(Q.enteringChildren&&S){const{delayChildren:M}=S.transition||{};F.delay=rb(Q.enteringChildren,t,M)}}return{animation:B,options:F}}))}if(v.size){const C={};if(typeof x.initial!="boolean"){const k=Za(t,Array.isArray(x.initial)?x.initial[0]:x.initial);k&&k.transition&&(C.transition=k.transition)}v.forEach(k=>{const A=t.getBaseTarget(k),D=t.getValue(k);D&&(D.liveStyle=!0),C[k]=A??null}),y.push({animation:C})}let E=!!y.length;return l&&(x.initial===!1||x.initial===x.animate)&&!t.manuallyAnimateOnMount&&(E=!1),l=!1,E?s(y):Promise.resolve()}function h(p,x){if(i[p].isActive===x)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(p,x)),i[p].isActive=x;const g=d(p);for(const y in i)i[y].protectedKeys={};return g}return{animateChanges:d,setActive:h,setAnimateFunction:f,getState:()=>i,reset:()=>{i=og()}}}function sS(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!ib(s,t):!1}function Xs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function og(){return{animate:Xs(!0),whileInView:Xs(),whileHover:Xs(),whileTap:Xs(),whileDrag:Xs(),whileFocus:Xs(),exit:Xs()}}class Es{constructor(s){this.isMounted=!1,this.node=s}update(){}}class aS extends Es{constructor(s){super(s),s.animationState||(s.animationState=nS(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();xo(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:i}=this.node.prevProps||{};s!==i&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rS=0;class iS extends Es{constructor(){super(...arguments),this.id=rS++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:i}=this.node.presenceContext,{isPresent:l}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===l)return;const c=this.node.animationState.setActive("exit",!s);i&&!s&&c.then(()=>{i(this.id)})}mount(){const{register:s,onExitComplete:i}=this.node.presenceContext||{};i&&i(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const lS={animation:{Feature:aS},exit:{Feature:iS}};function xi(t,s,i,l={passive:!0}){return t.addEventListener(s,i,l),()=>t.removeEventListener(s,i)}function Si(t){return{point:{x:t.pageX,y:t.pageY}}}const oS=t=>s=>bf(s)&&t(s,Si(s));function ci(t,s,i,l){return xi(t,s,oS(i),l)}const ob=1e-4,cS=1-ob,uS=1+ob,cb=.01,dS=0-cb,fS=0+cb;function Bt(t){return t.max-t.min}function mS(t,s,i){return Math.abs(t-s)<=i}function cg(t,s,i,l=.5){t.origin=l,t.originPoint=Je(s.min,s.max,t.origin),t.scale=Bt(i)/Bt(s),t.translate=Je(i.min,i.max,t.origin)-t.originPoint,(t.scale>=cS&&t.scale<=uS||isNaN(t.scale))&&(t.scale=1),(t.translate>=dS&&t.translate<=fS||isNaN(t.translate))&&(t.translate=0)}function ui(t,s,i,l){cg(t.x,s.x,i.x,l?l.originX:void 0),cg(t.y,s.y,i.y,l?l.originY:void 0)}function ug(t,s,i){t.min=i.min+s.min,t.max=t.min+Bt(s)}function hS(t,s,i){ug(t.x,s.x,i.x),ug(t.y,s.y,i.y)}function dg(t,s,i){t.min=s.min-i.min,t.max=t.min+Bt(s)}function uo(t,s,i){dg(t.x,s.x,i.x),dg(t.y,s.y,i.y)}function fn(t){return[t("x"),t("y")]}const ub=({current:t})=>t?t.ownerDocument.defaultView:null,fg=(t,s)=>Math.abs(t-s);function pS(t,s){const i=fg(t.x,s.x),l=fg(t.y,s.y);return Math.sqrt(i**2+l**2)}class db{constructor(s,i,{transformPagePoint:l,contextWindow:c=window,dragSnapToOrigin:f=!1,distanceThreshold:d=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ju(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,w=pS(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!w)return;const{point:E}=v,{timestamp:C}=Tt;this.history.push({...E,timestamp:C});const{onStart:k,onMove:A}=this.handlers;N||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,v)},this.handlePointerMove=(v,N)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Wu(N,this.transformPagePoint),Ze.update(this.updatePoint,!0)},this.handlePointerUp=(v,N)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ju(v.type==="pointercancel"?this.lastMoveEventInfo:Wu(N,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,k),E&&E(v,k)},!bf(s))return;this.dragSnapToOrigin=f,this.handlers=i,this.transformPagePoint=l,this.distanceThreshold=d,this.contextWindow=c||window;const h=Si(s),p=Wu(h,this.transformPagePoint),{point:x}=p,{timestamp:g}=Tt;this.history=[{...x,timestamp:g}];const{onSessionStart:y}=i;y&&y(s,Ju(p,this.history)),this.removeListeners=ji(ci(this.contextWindow,"pointermove",this.handlePointerMove),ci(this.contextWindow,"pointerup",this.handlePointerUp),ci(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Ss(this.updatePoint)}}function Wu(t,s){return s?{point:s(t.point)}:t}function mg(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Ju({point:t},s){return{point:t,delta:mg(t,fb(s)),offset:mg(t,gS(s)),velocity:xS(s,.1)}}function gS(t){return t[0]}function fb(t){return t[t.length-1]}function xS(t,s){if(t.length<2)return{x:0,y:0};let i=t.length-1,l=null;const c=fb(t);for(;i>=0&&(l=t[i],!(c.timestamp-l.timestamp>Mn(s)));)i--;if(!l)return{x:0,y:0};const f=mn(c.timestamp-l.timestamp);if(f===0)return{x:0,y:0};const d={x:(c.x-l.x)/f,y:(c.y-l.y)/f};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function yS(t,{min:s,max:i},l){return s!==void 0&&t<s?t=l?Je(s,t,l.min):Math.max(t,s):i!==void 0&&t>i&&(t=l?Je(i,t,l.max):Math.min(t,i)),t}function hg(t,s,i){return{min:s!==void 0?t.min+s:void 0,max:i!==void 0?t.max+i-(t.max-t.min):void 0}}function bS(t,{top:s,left:i,bottom:l,right:c}){return{x:hg(t.x,i,c),y:hg(t.y,s,l)}}function pg(t,s){let i=s.min-t.min,l=s.max-t.max;return s.max-s.min<t.max-t.min&&([i,l]=[l,i]),{min:i,max:l}}function vS(t,s){return{x:pg(t.x,s.x),y:pg(t.y,s.y)}}function jS(t,s){let i=.5;const l=Bt(t),c=Bt(s);return c>l?i=fi(s.min,s.max-l,t.min):l>c&&(i=fi(t.min,t.max-c,s.min)),Wn(0,1,i)}function wS(t,s){const i={};return s.min!==void 0&&(i.min=s.min-t.min),s.max!==void 0&&(i.max=s.max-t.min),i}const Od=.35;function NS(t=Od){return t===!1?t=0:t===!0&&(t=Od),{x:gg(t,"left","right"),y:gg(t,"top","bottom")}}function gg(t,s,i){return{min:xg(t,s),max:xg(t,i)}}function xg(t,s){return typeof t=="number"?t:t[s]||0}const SS=new WeakMap;class CS{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:i=!1,distanceThreshold:l}={}){const{presenceContext:c}=this.visualElement;if(c&&c.isPresent===!1)return;const f=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),i&&this.snapToCursor(Si(y).point)},d=(y,v)=>{const{drag:N,dragPropagation:w,onDragStart:E}=this.getProps();if(N&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U4(N),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fn(k=>{let A=this.getAxisMotionValue(k).get()||0;if(_n.test(A)){const{projection:D}=this.visualElement;if(D&&D.layout){const V=D.layout.layoutBox[k];V&&(A=Bt(V)*(parseFloat(A)/100))}}this.originPoint[k]=A}),E&&Ze.postRender(()=>E(y,v)),Rd(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:N,dragDirectionLock:w,onDirectionLock:E,onDrag:C}=this.getProps();if(!N&&!this.openDragLock)return;const{offset:k}=v;if(w&&this.currentDirection===null){this.currentDirection=TS(k),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),C&&C(y,v)},p=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},x=()=>fn(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new db(s,{onSessionStart:f,onStart:d,onMove:h,onSessionEnd:p,resumeAnimation:x},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:l,contextWindow:ub(this.visualElement)})}stop(s,i){const l=s||this.latestPointerEvent,c=i||this.latestPanInfo,f=this.isDragging;if(this.cancel(),!f||!c||!l)return;const{velocity:d}=c;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&Ze.postRender(()=>h(l,c))}cancel(){this.isDragging=!1;const{projection:s,animationState:i}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:l}=this.getProps();!l&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),i&&i.setActive("whileDrag",!1)}updateAxis(s,i,l){const{drag:c}=this.getProps();if(!l||!Yl(s,c,this.currentDirection))return;const f=this.getAxisMotionValue(s);let d=this.originPoint[s]+l[s];this.constraints&&this.constraints[s]&&(d=yS(d,this.constraints[s],this.elastic[s])),f.set(d)}resolveConstraints(){const{dragConstraints:s,dragElastic:i}=this.getProps(),l=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,c=this.constraints;s&&Ya(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&l?this.constraints=bS(l.layoutBox,s):this.constraints=!1,this.elastic=NS(i),c!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&fn(f=>{this.constraints!==!1&&this.getAxisMotionValue(f)&&(this.constraints[f]=wS(l.layoutBox[f],this.constraints[f]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:i}=this.getProps();if(!s||!Ya(s))return!1;const l=s.current,{projection:c}=this.visualElement;if(!c||!c.layout)return!1;const f=kN(l,c.root,this.visualElement.getTransformPagePoint());let d=vS(c.layout.layoutBox,f);if(i){const h=i(SN(d));this.hasMutatedConstraints=!!h,h&&(d=Zy(h))}return d}startAnimation(s){const{drag:i,dragMomentum:l,dragElastic:c,dragTransition:f,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},x=fn(g=>{if(!Yl(g,i,this.currentDirection))return;let y=p&&p[g]||{};d&&(y={min:0,max:0});const v=c?200:1e6,N=c?40:1e7,w={type:"inertia",velocity:l?s[g]:0,bounceStiffness:v,bounceDamping:N,timeConstant:750,restDelta:1,restSpeed:10,...f,...y};return this.startAxisValueAnimation(g,w)});return Promise.all(x).then(h)}startAxisValueAnimation(s,i){const l=this.getAxisMotionValue(s);return Rd(this.visualElement,s),l.start(Ef(s,l,0,i,this.visualElement,!1))}stopAnimation(){fn(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){fn(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const i=`_drag${s.toUpperCase()}`,l=this.visualElement.getProps(),c=l[i];return c||this.visualElement.getValue(s,(l.initial?l.initial[s]:void 0)||0)}snapToCursor(s){fn(i=>{const{drag:l}=this.getProps();if(!Yl(i,l,this.currentDirection))return;const{projection:c}=this.visualElement,f=this.getAxisMotionValue(i);if(c&&c.layout){const{min:d,max:h}=c.layout.layoutBox[i];f.set(s[i]-Je(d,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:i}=this.getProps(),{projection:l}=this.visualElement;if(!Ya(i)||!l||!this.constraints)return;this.stopAnimation();const c={x:0,y:0};fn(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const p=h.get();c[d]=jS({min:p,max:p},this.constraints[d])}});const{transformTemplate:f}=this.visualElement.getProps();this.visualElement.current.style.transform=f?f({},""):"none",l.root&&l.root.updateScroll(),l.updateLayout(),this.resolveConstraints(),fn(d=>{if(!Yl(d,s,null))return;const h=this.getAxisMotionValue(d),{min:p,max:x}=this.constraints[d];h.set(Je(p,x,c[d]))})}addListeners(){if(!this.visualElement.current)return;SS.set(this.visualElement,this);const s=this.visualElement.current,i=ci(s,"pointerdown",p=>{const{drag:x,dragListener:g=!0}=this.getProps();x&&g&&this.start(p)}),l=()=>{const{dragConstraints:p}=this.getProps();Ya(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:c}=this.visualElement,f=c.addEventListener("measure",l);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Ze.read(l);const d=xi(window,"resize",()=>this.scalePositionWithinConstraints()),h=c.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:x})=>{this.isDragging&&x&&(fn(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=p[g].translate,y.set(y.get()+p[g].translate))}),this.visualElement.render())}));return()=>{d(),i(),f(),h&&h()}}getProps(){const s=this.visualElement.getProps(),{drag:i=!1,dragDirectionLock:l=!1,dragPropagation:c=!1,dragConstraints:f=!1,dragElastic:d=Od,dragMomentum:h=!0}=s;return{...s,drag:i,dragDirectionLock:l,dragPropagation:c,dragConstraints:f,dragElastic:d,dragMomentum:h}}}function Yl(t,s,i){return(s===!0||s===t)&&(i===null||i===t)}function TS(t,s=10){let i=null;return Math.abs(t.y)>s?i="y":Math.abs(t.x)>s&&(i="x"),i}class kS extends Es{constructor(s){super(s),this.removeGroupControls=hn,this.removeListeners=hn,this.controls=new CS(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hn}unmount(){this.removeGroupControls(),this.removeListeners()}}const yg=t=>(s,i)=>{t&&Ze.postRender(()=>t(s,i))};class ES extends Es{constructor(){super(...arguments),this.removePointerDownListener=hn}onPointerDown(s){this.session=new db(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ub(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:i,onPan:l,onPanEnd:c}=this.node.getProps();return{onSessionStart:yg(s),onStart:yg(i),onMove:l,onEnd:(f,d)=>{delete this.session,c&&Ze.postRender(()=>c(f,d))}}}mount(){this.removePointerDownListener=ci(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function bg(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const ai={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const i=bg(t,s.target.x),l=bg(t,s.target.y);return`${i}% ${l}%`}},AS={correct:(t,{treeScale:s,projectionDelta:i})=>{const l=t,c=Cs.parse(t);if(c.length>5)return l;const f=Cs.createTransformer(t),d=typeof c[0]!="number"?1:0,h=i.x.scale*s.x,p=i.y.scale*s.y;c[0+d]/=h,c[1+d]/=p;const x=Je(h,p,.5);return typeof c[2+d]=="number"&&(c[2+d]/=x),typeof c[3+d]=="number"&&(c[3+d]/=x),f(c)}};let ed=!1;class DS extends b.Component{componentDidMount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:l,layoutId:c}=this.props,{projection:f}=s;W4(MS),f&&(i.group&&i.group.add(f),l&&l.register&&c&&l.register(f),ed&&f.root.didUpdate(),f.addEventListener("animationComplete",()=>{this.safeToRemove()}),f.setOptions({...f.options,onExitComplete:()=>this.safeToRemove()})),eo.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:i,visualElement:l,drag:c,isPresent:f}=this.props,{projection:d}=l;return d&&(d.isPresent=f,ed=!0,c||s.layoutDependency!==i||i===void 0||s.isPresent!==f?d.willUpdate():this.safeToRemove(),s.isPresent!==f&&(f?d.promote():d.relegate()||Ze.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),yf.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:i,switchLayoutGroup:l}=this.props,{projection:c}=s;ed=!0,c&&(c.scheduleCheckAfterUnmount(),i&&i.group&&i.group.remove(c),l&&l.deregister&&l.deregister(c))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function mb(t){const[s,i]=Y4(),l=b.useContext(Yx);return a.jsx(DS,{...t,layoutGroup:l,switchLayoutGroup:b.useContext(Xy),isPresent:s,safeToRemove:i})}const MS={borderRadius:{...ai,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ai,borderTopRightRadius:ai,borderBottomLeftRadius:ai,borderBottomRightRadius:ai,boxShadow:AS};function _S(t,s,i){const l=Mt(t)?t:Qa(t);return l.start(Ef("",l,s,i)),l.animation}const RS=(t,s)=>t.depth-s.depth;class LS{constructor(){this.children=[],this.isDirty=!1}add(s){Wd(this.children,s),this.isDirty=!0}remove(s){Jd(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(RS),this.isDirty=!1,this.children.forEach(s)}}function OS(t,s){const i=$t.now(),l=({timestamp:c})=>{const f=c-i;f>=s&&(Ss(l),t(f-s))};return Ze.setup(l,!0),()=>Ss(l)}const hb=["TopLeft","TopRight","BottomLeft","BottomRight"],US=hb.length,vg=t=>typeof t=="string"?parseFloat(t):t,jg=t=>typeof t=="number"||Se.test(t);function BS(t,s,i,l,c,f){c?(t.opacity=Je(0,i.opacity??1,PS(l)),t.opacityExit=Je(s.opacity??1,0,zS(l))):f&&(t.opacity=Je(s.opacity??1,i.opacity??1,l));for(let d=0;d<US;d++){const h=`border${hb[d]}Radius`;let p=wg(s,h),x=wg(i,h);if(p===void 0&&x===void 0)continue;p||(p=0),x||(x=0),p===0||x===0||jg(p)===jg(x)?(t[h]=Math.max(Je(vg(p),vg(x),l),0),(_n.test(x)||_n.test(p))&&(t[h]+="%")):t[h]=x}(s.rotate||i.rotate)&&(t.rotate=Je(s.rotate||0,i.rotate||0,l))}function wg(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const PS=pb(0,.5,ny),zS=pb(.5,.95,hn);function pb(t,s,i){return l=>l<t?0:l>s?1:i(fi(t,s,l))}function Ng(t,s){t.min=s.min,t.max=s.max}function bn(t,s){Ng(t.x,s.x),Ng(t.y,s.y)}function Sg(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function Cg(t,s,i,l,c){return t-=s,t=co(t,1/i,l),c!==void 0&&(t=co(t,1/c,l)),t}function VS(t,s=0,i=1,l=.5,c,f=t,d=t){if(_n.test(s)&&(s=parseFloat(s),s=Je(d.min,d.max,s/100)-d.min),typeof s!="number")return;let h=Je(f.min,f.max,l);t===f&&(h-=s),t.min=Cg(t.min,s,i,h,c),t.max=Cg(t.max,s,i,h,c)}function Tg(t,s,[i,l,c],f,d){VS(t,s[i],s[l],s[c],s.scale,f,d)}const FS=["x","scaleX","originX"],HS=["y","scaleY","originY"];function kg(t,s,i,l){Tg(t.x,s,FS,i?i.x:void 0,l?l.x:void 0),Tg(t.y,s,HS,i?i.y:void 0,l?l.y:void 0)}function Eg(t){return t.translate===0&&t.scale===1}function gb(t){return Eg(t.x)&&Eg(t.y)}function Ag(t,s){return t.min===s.min&&t.max===s.max}function $S(t,s){return Ag(t.x,s.x)&&Ag(t.y,s.y)}function Dg(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function xb(t,s){return Dg(t.x,s.x)&&Dg(t.y,s.y)}function Mg(t){return Bt(t.x)/Bt(t.y)}function _g(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class qS{constructor(){this.members=[]}add(s){Wd(this.members,s),s.scheduleRender()}remove(s){if(Jd(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const i=this.members[this.members.length-1];i&&this.promote(i)}}relegate(s){const i=this.members.findIndex(c=>s===c);if(i===0)return!1;let l;for(let c=i;c>=0;c--){const f=this.members[c];if(f.isPresent!==!1){l=f;break}}return l?(this.promote(l),!0):!1}promote(s,i){const l=this.lead;if(s!==l&&(this.prevLead=l,this.lead=s,s.show(),l)){l.instance&&l.scheduleRender(),s.scheduleRender(),s.resumeFrom=l,i&&(s.resumeFrom.preserveOpacity=!0),l.snapshot&&(s.snapshot=l.snapshot,s.snapshot.latestValues=l.animationValues||l.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:c}=s.options;c===!1&&l.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:i,resumingFrom:l}=s;i.onExitComplete&&i.onExitComplete(),l&&l.options.onExitComplete&&l.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function YS(t,s,i){let l="";const c=t.x.translate/s.x,f=t.y.translate/s.y,d=i?.z||0;if((c||f||d)&&(l=`translate3d(${c}px, ${f}px, ${d}px) `),(s.x!==1||s.y!==1)&&(l+=`scale(${1/s.x}, ${1/s.y}) `),i){const{transformPerspective:x,rotate:g,rotateX:y,rotateY:v,skewX:N,skewY:w}=i;x&&(l=`perspective(${x}px) ${l}`),g&&(l+=`rotate(${g}deg) `),y&&(l+=`rotateX(${y}deg) `),v&&(l+=`rotateY(${v}deg) `),N&&(l+=`skewX(${N}deg) `),w&&(l+=`skewY(${w}deg) `)}const h=t.x.scale*s.x,p=t.y.scale*s.y;return(h!==1||p!==1)&&(l+=`scale(${h}, ${p})`),l||"none"}const td=["","X","Y","Z"],GS=1e3;let XS=0;function nd(t,s,i,l){const{latestValues:c}=s;c[t]&&(i[t]=c[t],s.setStaticValue(t,0),l&&(l[t]=0))}function yb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const i=sb(s);if(window.MotionHasOptimisedAnimation(i,"transform")){const{layout:c,layoutId:f}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",Ze,!(c||f))}const{parent:l}=t;l&&!l.hasCheckedOptimisedAppear&&yb(l)}function bb({attachResizeListener:t,defaultParent:s,measureScroll:i,checkIsScrollRoot:l,resetTransform:c}){return class{constructor(d={},h=s?.()){this.id=XS++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QS),this.nodes.forEach(e3),this.nodes.forEach(t3),this.nodes.forEach(IS)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new LS)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new nf),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const p=this.eventHandlers.get(d);p&&p.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=Ly(d)&&!H4(d),this.instance=d;const{layoutId:h,layout:p,visualElement:x}=this.options;if(x&&!x.current&&x.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;Ze.read(()=>{y=window.innerWidth}),t(d,()=>{const N=window.innerWidth;N!==y&&(y=N,this.root.updateBlockedByResize=!0,g&&g(),g=OS(v,250),eo.hasAnimatedSinceResize&&(eo.hasAnimatedSinceResize=!1,this.nodes.forEach(Og)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&x&&(h||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:N})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||x.getDefaultTransition()||i3,{onLayoutAnimationStart:E,onLayoutAnimationComplete:C}=x.getProps(),k=!this.targetLayout||!xb(this.targetLayout,N),A=!y&&v;if(this.options.layoutRoot||this.resumeFrom||A||y&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...gf(w,"layout"),onPlay:E,onComplete:C};(x.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(g,A)}else y||Og(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=N})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ss(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(n3),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const x=this.getTransformTemplate();this.prevTransformTemplateValue=x?x(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Lg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JS),this.nodes.forEach(KS),this.nodes.forEach(ZS)):this.nodes.forEach(Lg),this.clearAllSnapshots();const h=$t.now();Tt.delta=Wn(0,1e3/60,h-Tt.timestamp),Tt.timestamp=h,Tt.isProcessing=!0,qu.update.process(Tt),qu.preRender.process(Tt),qu.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WS),this.sharedNodes.forEach(s3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ze.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ze.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Bt(this.snapshot.measuredBox.x)&&!Bt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const p=l(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!c)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!gb(this.projectionDelta),p=this.getTransformTemplate(),x=p?p(this.latestValues,""):void 0,g=x!==this.prevTransformTemplateValue;d&&this.instance&&(h||Ks(this.latestValues)||g)&&(c(this.instance,x),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return d&&(p=this.removeTransform(p)),l3(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return gt();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(o3))){const{scroll:x}=this.root;x&&(Ga(h.x,x.offset.x),Ga(h.y,x.offset.y))}return h}removeElementScroll(d){const h=gt();if(bn(h,d),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const x=this.path[p],{scroll:g,options:y}=x;x!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&bn(h,d),Ga(h.x,g.offset.x),Ga(h.y,g.offset.y))}return h}applyTransform(d,h=!1){const p=gt();bn(p,d);for(let x=0;x<this.path.length;x++){const g=this.path[x];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Xa(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ks(g.latestValues)&&Xa(p,g.latestValues)}return Ks(this.latestValues)&&Xa(p,this.latestValues),p}removeTransform(d){const h=gt();bn(h,d);for(let p=0;p<this.path.length;p++){const x=this.path[p];if(!x.instance||!Ks(x.latestValues))continue;Ad(x.latestValues)&&x.updateSnapshot();const g=gt(),y=x.measurePageBox();bn(g,y),kg(h,x.latestValues,x.snapshot?x.snapshot.layoutBox:void 0,g)}return Ks(this.latestValues)&&kg(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(d||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=Tt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bn(this.target,this.layout.layoutBox),Iy(this.target,this.targetDelta)):bn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Ad(this.parent.latestValues)||Qy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,h,p){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),uo(this.relativeTargetOrigin,h,p),bn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(p=!1),p)return;const{layout:x,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||g))return;bn(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;TN(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=gt());const{target:N}=d;if(!N){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sg(this.prevProjectionDelta.x,this.projectionDelta.x),Sg(this.prevProjectionDelta.y,this.projectionDelta.y)),ui(this.projectionDelta,this.layoutCorrected,N,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!_g(this.projectionDelta.x,this.prevProjectionDelta.x)||!_g(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",N))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ka(),this.projectionDelta=Ka(),this.projectionDeltaWithTransform=Ka()}setAnimationOrigin(d,h=!1){const p=this.snapshot,x=p?p.latestValues:{},g={...this.latestValues},y=Ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=gt(),N=p?p.source:void 0,w=this.layout?this.layout.source:void 0,E=N!==w,C=this.getStack(),k=!C||C.members.length<=1,A=!!(E&&!k&&this.options.crossfade===!0&&!this.path.some(r3));this.animationProgress=0;let D;this.mixTargetDelta=V=>{const L=V/1e3;Ug(y.x,d.x,L),Ug(y.y,d.y,L),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uo(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),a3(this.relativeTarget,this.relativeTargetOrigin,v,L),D&&$S(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=gt()),bn(D,this.relativeTarget)),E&&(this.animationValues=g,BS(g,x,this.latestValues,L,A,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ss(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ze.update(()=>{eo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qa(0)),this.currentAnimation=_S(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(GS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:p,layout:x,latestValues:g}=d;if(!(!h||!p||!x)){if(this!==d&&this.layout&&x&&vb(this.options.animationType,this.layout.layoutBox,x.layoutBox)){p=this.target||gt();const y=Bt(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+y;const v=Bt(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+v}bn(h,p),Xa(h,g),ui(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new qS),this.sharedNodes.get(d).add(h);const x=h.options.initialPromotionConfig;h.promote({transition:x?x.transition:void 0,preserveFollowOpacity:x&&x.shouldPreserveFollowOpacity?x.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:p}={}){const x=this.getStack();x&&x.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const x={};p.z&&nd("z",d,x,this.animationValues);for(let g=0;g<td.length;g++)nd(`rotate${td[g]}`,d,x,this.animationValues),nd(`skew${td[g]}`,d,x,this.animationValues);d.render();for(const g in x)d.setStaticValue(g,x[g]),this.animationValues&&(this.animationValues[g]=x[g]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=Jl(h?.pointerEvents)||"",d.transform=p?p(this.latestValues,""):"none";return}const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Jl(h?.pointerEvents)||""),this.hasProjected&&!Ks(this.latestValues)&&(d.transform=p?p({},""):"none",this.hasProjected=!1);return}d.visibility="";const g=x.animationValues||x.latestValues;this.applyTransformsToTarget();let y=YS(this.projectionDeltaWithTransform,this.treeScale,g);p&&(y=p(g,y)),d.transform=y;const{x:v,y:N}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${N.origin*100}% 0`,x.animationValues?d.opacity=x===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=x===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in gi){if(g[w]===void 0)continue;const{correct:E,applyTo:C,isCSSVariable:k}=gi[w],A=y==="none"?g[w]:E(g[w],x);if(C){const D=C.length;for(let V=0;V<D;V++)d[C[V]]=A}else k?this.options.visualElement.renderState.vars[w]=A:d[w]=A}this.options.layoutId&&(d.pointerEvents=x===this?Jl(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(Rg),this.root.sharedNodes.clear()}}}function KS(t){t.updateLayout()}function ZS(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:l}=t.layout,{animationType:c}=t.options,f=s.source!==t.layout.source;c==="size"?fn(g=>{const y=f?s.measuredBox[g]:s.layoutBox[g],v=Bt(y);y.min=i[g].min,y.max=y.min+v}):vb(c,s.layoutBox,i)&&fn(g=>{const y=f?s.measuredBox[g]:s.layoutBox[g],v=Bt(i[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const d=Ka();ui(d,i,s.layoutBox);const h=Ka();f?ui(h,t.applyTransform(l,!0),s.measuredBox):ui(h,i,s.layoutBox);const p=!gb(d);let x=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const N=gt();uo(N,s.layoutBox,y.layoutBox);const w=gt();uo(w,i,v.layoutBox),xb(N,w)||(x=!0),g.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=N,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:s,delta:h,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:x})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function QS(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function IS(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WS(t){t.clearSnapshot()}function Rg(t){t.clearMeasurements()}function Lg(t){t.isLayoutDirty=!1}function JS(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function Og(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function e3(t){t.resolveTargetDelta()}function t3(t){t.calcProjection()}function n3(t){t.resetSkewAndRotation()}function s3(t){t.removeLeadSnapshot()}function Ug(t,s,i){t.translate=Je(s.translate,0,i),t.scale=Je(s.scale,1,i),t.origin=s.origin,t.originPoint=s.originPoint}function Bg(t,s,i,l){t.min=Je(s.min,i.min,l),t.max=Je(s.max,i.max,l)}function a3(t,s,i,l){Bg(t.x,s.x,i.x,l),Bg(t.y,s.y,i.y,l)}function r3(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const i3={duration:.45,ease:[.4,0,.1,1]},Pg=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zg=Pg("applewebkit/")&&!Pg("chrome/")?Math.round:hn;function Vg(t){t.min=zg(t.min),t.max=zg(t.max)}function l3(t){Vg(t.x),Vg(t.y)}function vb(t,s,i){return t==="position"||t==="preserve-aspect"&&!mS(Mg(s),Mg(i),.2)}function o3(t){return t!==t.root&&t.scroll?.wasRoot}const c3=bb({attachResizeListener:(t,s)=>xi(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),sd={current:void 0},jb=bb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!sd.current){const t=new c3({});t.mount(window),t.setOptions({layoutScroll:!0}),sd.current=t}return sd.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),u3={pan:{Feature:ES},drag:{Feature:kS,ProjectionNode:jb,MeasureLayout:mb}};function Fg(t,s,i){const{props:l}=t;t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",i==="Start");const c="onHover"+i,f=l[c];f&&Ze.postRender(()=>f(s,Si(s)))}class d3 extends Es{mount(){const{current:s}=this.node;s&&(this.unmount=B4(s,(i,l)=>(Fg(this.node,l,"Start"),c=>Fg(this.node,c,"End"))))}unmount(){}}class f3 extends Es{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ji(xi(this.node.current,"focus",()=>this.onFocus()),xi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hg(t,s,i){const{props:l}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&l.whileTap&&t.animationState.setActive("whileTap",i==="Start");const c="onTap"+(i==="End"?"":i),f=l[c];f&&Ze.postRender(()=>f(s,Si(s)))}class m3 extends Es{mount(){const{current:s}=this.node;s&&(this.unmount=F4(s,(i,l)=>(Hg(this.node,l,"Start"),(c,{success:f})=>Hg(this.node,c,f?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ud=new WeakMap,ad=new WeakMap,h3=t=>{const s=Ud.get(t.target);s&&s(t)},p3=t=>{t.forEach(h3)};function g3({root:t,...s}){const i=t||document;ad.has(i)||ad.set(i,{});const l=ad.get(i),c=JSON.stringify(s);return l[c]||(l[c]=new IntersectionObserver(p3,{root:t,...s})),l[c]}function x3(t,s,i){const l=g3(s);return Ud.set(t,i),l.observe(t),()=>{Ud.delete(t),l.unobserve(t)}}const y3={some:0,all:1};class b3 extends Es{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:i,margin:l,amount:c="some",once:f}=s,d={root:i?i.current:void 0,rootMargin:l,threshold:typeof c=="number"?c:y3[c]},h=p=>{const{isIntersecting:x}=p;if(this.isInView===x||(this.isInView=x,f&&!x&&this.hasEnteredView))return;x&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",x);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=x?g:y;v&&v(p)};return x3(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:i}=this.node;["amount","margin","root"].some(v3(s,i))&&this.startObserver()}unmount(){}}function v3({viewport:t={}},{viewport:s={}}={}){return i=>t[i]!==s[i]}const j3={inView:{Feature:b3},tap:{Feature:m3},focus:{Feature:f3},hover:{Feature:d3}},w3={layout:{ProjectionNode:jb,MeasureLayout:mb}},N3={...lS,...j3,...u3,...w3},$g=NN(N3,UN),wb=({onClose:t})=>{const[s,i]=b.useState([{username:"",domain:"@gmail.com"}]),[l,c]=b.useState(["@gmail.com","@hotmail.com","@yahoo.com"]),[f,d]=b.useState(null),[h,p]=b.useState(!1),[x,g]=b.useState(""),[y,v]=b.useState(""),{authFetch:N}=Ye(),{showMessage:w}=ct(),[E,C]=b.useState(!1),[k,A]=b.useState(!1),[D,V]=b.useState(""),L=b.useRef(null),U=b.useRef(null),z=b.useRef(null),q=b.useRef(null);b.useEffect(()=>{const S=M=>{const O=U.current&&!U.current.contains(M.target)&&!M.target.closest(".role-dropdown-menu"),se=z.current&&!z.current.contains(M.target)&&!M.target.closest(".role-dropdown-menu");window.innerWidth>=640?O&&t():se&&t()};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[]);const te=["Co-Admin","Member","Client"],ce=/^[a-zA-Z0-9._]+$/,$=(S,M)=>{if(M===""||ce.test(M)){const O=[...s];O[S].username=M,i(O)}},G=(S,M)=>{const O=[...s];O[S].domain=M,i(O)},ae=S=>{d(f===S?null:S)},ee=(S,M)=>{G(S,M),d(null)},de=()=>{if(s.length>=5){w("Maximum 5 members can be added at once","message");return}i(S=>[...S,{username:"",domain:l[0]}])},R=S=>{i(M=>M.filter((O,se)=>se!==S))},B=S=>{c(M=>M.filter(O=>O!==S)),i(M=>M.map(O=>O.domain===S?{...O,domain:l[0]}:O))},F=()=>{v("");const S=x.trim().toLowerCase();if(!S.includes("@"))return v("Domain must contain '@'");if(!S.includes("."))return v("Domain must contain a dot (.)");if(l.includes(S))return v("Domain already exists");c(M=>[...M,S]),i(M=>M.map(O=>O.domain===l[0]?{...O,domain:S}:O)),g(""),p(!1)},Q=async S=>{if(S.preventDefault(),E)return;if(!D||D.trim()===""){w("Please select a role for the members","error");return}C(!0);const M=s.map(O=>O.username+O.domain);try{const O=await N(`${pe}/invite/invite/send`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({emails:M,role:D})});console.log("===========Role=========",D);const se=await O.json();if(!O.ok)throw new Error(se.error||"Failed to send invites");w("Invites sent successfully!","success"),t()}catch(O){w(`Error: ${O.message}`,"error")}finally{C(!1)}};return a.jsxs("div",{className:"fixed inset-0 bg-black/30 z-9999 flex p-4",onClick:t,children:[a.jsxs("div",{ref:U,className:"hidden sm:block theme-bg-card shadow-2xl rounded-xl p-4 absolute bottom-12 right-18 w-full max-w-md animate-slide-in-up",onClick:S=>S.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2 relative",ref:q,children:[a.jsx("h2",{className:"text-xl theme-text-primary",children:"Add Members"}),a.jsxs("button",{type:"button",onClick:()=>A(!k),className:"relative px-2 py-1 border border-gray-400 rounded-lg theme-text-secondary text-sm bg-transparent flex items-center gap-1",children:[D||"Select Role",a.jsx($g.svg,{animate:{rotate:k?180:0},transition:{duration:.25,ease:"easeInOut"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),k&&a.jsx("div",{className:"absolute right-30 top-full mt-1 w-40 theme-bg-card shadow-xl rounded-lg border z-50 bg-white role-dropdown-menu",children:te.map(S=>a.jsx("div",{className:"px-3 py-2 cursor-pointer hover:bg-gray-100 whitespace-nowrap",onClick:()=>{console.log("Selected:",S),V(S),A(!1)},children:S},S))})]}),a.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[s.map((S,M)=>a.jsxs("div",{className:"hidden sm:flex items-center gap-3 w-full",children:[a.jsx("div",{className:"flex flex-1 border border-gray-300 rounded-lg px-3 py-2",children:a.jsx("input",{type:"text",required:!0,value:S.username,onChange:O=>$(M,O.target.value),placeholder:"user-mail",className:"flex-1 outline-none"})}),a.jsxs("div",{className:"relative",ref:L,children:[a.jsx("button",{type:"button",onClick:()=>ae(M),className:"outline-none theme-text-secondary bg-transparent whitespace-nowrap",children:S.domain}),f===M&&a.jsxs("div",{className:"absolute h-30 right-0 top-full mt-1 w-48 theme-bg-card shadow-xl rounded-lg border z-50 overflow-y-auto whitespace-nowrap scrollbar-hidden",children:[l.map(O=>a.jsxs("div",{className:"flex justify-between items-center px-3 py-2 cursor-pointer",onClick:()=>ee(M,O),children:[a.jsx("span",{children:O}),!["@gmail.com","@hotmail.com","@yahoo.com"].includes(O)&&a.jsx("button",{className:"text-red-500 text-xs",onClick:se=>{se.stopPropagation(),B(O)},children:""})]},O)),a.jsx("button",{type:"button",onClick:()=>{p(!0),d(!1)},className:"w-full text-left px-3 py-2 theme-bg-card border-t",children:"+ Add custom domain"})]})]}),a.jsx("button",{type:"button",onClick:de,className:"p-2 rounded-lg theme-text-secondary",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}),s.length>1&&a.jsx("button",{type:"button",onClick:()=>R(M),className:"p-2 rounded-lg text-red-500",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]},M)),h&&a.jsxs("div",{className:"animate-fadeIn border rounded-lg p-3 theme-bg-card",children:[a.jsx("input",{type:"text",placeholder:"@example.com",value:x,onChange:S=>g(S.target.value),className:"border rounded-lg px-3 py-2 w-full"}),y&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:y}),a.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[a.jsx("button",{type:"button",onClick:()=>{p(!1),g(""),v("")},className:"px-4 py-1 text-gray-600 hover:text-gray-500",children:"Cancel"}),a.jsx("button",{type:"button",onClick:F,className:"px-4 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:E,className:`px-4 py-2 rounded-lg text-white ${E?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:E?"Sending":"Send Invite"})]})]})]}),a.jsxs("div",{ref:z,className:"block sm:hidden theme-bg-card shadow-2xl rounded-xl p-2 w-full max-w-sm mx-auto animate-slide-in-up self-center",onClick:S=>S.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2 relative",ref:q,children:[a.jsx("h2",{className:"text-xl theme-text-primary",children:"Add Members"}),a.jsxs("button",{type:"button",onClick:()=>A(!k),className:"px-2 py-1 border border-gray-400 rounded-lg theme-text-secondary text-sm bg-transparent flex items-center gap-1",children:[D||"Select Role",a.jsx($g.svg,{animate:{rotate:k?180:0},transition:{duration:.25,ease:"easeInOut"},xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),k&&a.jsx("div",{className:"absolute right-18 top-full mt-1 w-40 theme-bg-card shadow-xl rounded-lg border z-50",children:te.map(S=>a.jsx("div",{className:"px-3 py-2 cursor-pointer hover:bg-gray-100 whitespace-nowrap",onClick:()=>{console.log("Selected:",S),V(S),A(!1)},children:S},S))})]}),a.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[s.map((S,M)=>a.jsxs("div",{className:`flex items-center w-full ${s.length===1?"gap-1":"gap-2"}`,children:[a.jsx("div",{className:"flex-1 min-w-0 overflow-x-auto scrollbar-hidden",children:a.jsx("div",{className:"inline-flex items-center border border-gray-300 rounded-lg px-3 py-2 w-max",children:a.jsx("input",{type:"text",required:!0,value:S.username,onChange:O=>$(M,O.target.value),placeholder:"user-mail",className:"outline-none min-w-[120px]"})})}),a.jsxs("div",{className:"relative flex-shrink-0 max-w-[70px]",ref:L,children:[a.jsx("button",{type:"button",onClick:()=>ae(M),className:"outline-none theme-text-secondary bg-transparent px-2 truncate w-full text-left",children:S.domain}),f===M&&a.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 theme-bg-card shadow-xl rounded-lg border z-50",children:[l.map(O=>a.jsxs("div",{className:"flex justify-between items-center px-3 py-2 cursor-pointer",onClick:()=>ee(M,O),children:[a.jsx("span",{children:O}),!["@gmail.com","@hotmail.com","@yahoo.com"].includes(O)&&a.jsx("button",{className:"text-red-500 text-xs",onClick:se=>{se.stopPropagation(),B(O)},children:""})]},O)),a.jsx("button",{type:"button",onClick:()=>{p(!0),d(!1)},className:"w-full text-left px-3 py-2 theme-bg-card border-t",children:"+ Add custom domain"})]})]}),a.jsx("button",{type:"button",onClick:de,className:"p-2 flex-shrink-0 rounded-lg theme-text-secondary",children:"+"}),s.length>1&&a.jsx("button",{type:"button",onClick:()=>R(M),className:"p-2 flex-shrink-0 rounded-lg text-red-500",children:""})]},M)),h&&a.jsxs("div",{className:"animate-fadeIn border rounded-lg p-3 theme-bg-card",children:[a.jsx("input",{type:"text",placeholder:"@example.com",value:x,onChange:S=>g(S.target.value),className:"border rounded-lg px-3 py-2 w-full"}),y&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:y}),a.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[a.jsx("button",{type:"button",onClick:()=>{p(!1),g(""),v("")},className:"px-4 py-1 text-gray-600",children:"Cancel"}),a.jsx("button",{type:"button",onClick:F,className:"px-4 py-1 bg-blue-600 text-white rounded-lg",children:"Save"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:E,className:`px-4 py-2 rounded-lg text-white ${E?"bg-blue-400 cursor-not-allowed":"bg-blue-600"}`,children:E?"Sending":"Send Invite"})]})]})]})]})},S3=({onClose:t,companyId:s})=>{const[i,l]=b.useState([]),[c,f]=b.useState(!0),[d,h]=b.useState(!1),[p,x]=b.useState(""),{user:g}=Ye(),{showMessage:y,showConfirmation:v}=ct(),N=s||g?.company_id,w=async()=>{if(!N){console.warn("companyId missing, cannot fetch members"),x("Company ID not found. Cannot fetch members."),f(!1);return}try{f(!0);const C=await fetch(`${pe}/user/get_users_from_company_with_role/${N}`);if(!C.ok)throw new Error(`HTTP error! status: ${C.status}`);const k=await C.json();console.log("API Response:",k),l(k||[]),x("")}catch(C){console.error("Failed to fetch members:",C),x("Unable to load members.")}finally{f(!1)}};b.useEffect(()=>{console.log("AuthContext user:",g),console.log("Derived Company ID:",N),N?w():f(!1)},[g,N]);const E=async C=>{v(`Are you sure you want to remove ${C.user_name}?`);try{const k=await fetch(`${pe}/user/remove_member`,{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:C.user_id,company_id:N})});if(!k.ok)throw new Error(`HTTP error! status: ${k.status}`);w()}catch(k){console.error("Failed to revoke member:",k),y("Failed to remove member. Please check the API endpoint.","error")}};return b.useEffect(()=>{console.log("Members state:",i),Array.isArray(i)&&i.forEach((C,k)=>console.log(`member[${k}] keys:`,Object.keys(C),"roles:",C.roles))},[i]),a.jsxs("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center md:p-6 p-4 z-50",onClick:t,children:[a.jsxs("div",{className:"theme-bg-card shadow-2xl rounded-2xl w-full h-full md:mx-6 md:my-6 md:p-6 p-4 overflow-hidden relative animate-slide-in-up",onClick:C=>C.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-xl theme-text-primary",children:"Manage Members"}),a.jsx("button",{onClick:t,className:"text-gray-500 hover:text-gray-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),p&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:p}),c?a.jsx("div",{className:"flex justify-center items-center h-40",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):a.jsx(a.Fragment,{children:a.jsxs("div",{className:"rounded-xl theme-bg-card animate-slide-in-up overflow-hidden",children:[a.jsxs("div",{className:"hidden sm:block",children:[a.jsxs("div",{className:"grid grid-cols-4 items-center px-4 py-2 theme-bg-primary theme-text-secondary text-sm font-medium",children:[a.jsx("span",{className:"text-center",children:"Name"}),a.jsx("span",{className:"text-center",children:"Email"}),a.jsx("span",{className:"text-center",children:"Roles"}),a.jsx("span",{className:"text-center",children:"Action"})]}),a.jsx("div",{className:"max-h-[calc(100vh-300px)] overflow-y-auto",children:i.length===0?a.jsx("p",{className:"text-center py-8 text-gray-500",children:"No members found"}):i.map((C,k)=>a.jsxs("div",{className:"grid grid-cols-4 px-4 py-3 border-t theme-border theme-text-primary text-sm items-center hover:theme-bg-hover",children:[a.jsx("span",{className:"text-center overflow-auto whitespace-nowrap scrollbar-hidden px-2",children:C.user_name||""}),a.jsx("span",{className:"text-center overflow-auto whitespace-nowrap scrollbar-hidden px-2",children:C.user_email?a.jsx("a",{href:`mailto:${C.user_email}`,className:"text-blue-400 hover:underline",children:C.user_email}):""}),a.jsx("span",{className:"text-center whitespace-nowrap px-2",children:C.roles.join(", ")}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>E(C),className:"text-red-500 hover:text-red-400 p-2 rounded transition-colors",title:"Remove Member",children:"Remove"})})]},C.user_id||k))})]}),a.jsx("div",{className:"sm:hidden",children:i.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-gray-500",children:[a.jsx("svg",{className:"w-16 h-16 mb-4 opacity-50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-1.205a9 9 0 01-13.5 3.5"})}),a.jsx("p",{className:"text-base text-center",children:"No members found"}),a.jsx("p",{className:"text-sm opacity-75 mt-1 text-center",children:"Invite members to get started"})]}):a.jsx("div",{className:"max-h-[calc(100vh-250px)] overflow-y-auto",children:i.map((C,k)=>a.jsx("div",{className:"border-y theme-border p-3 hover:theme-bg-hover transition-colors duration-150",children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("div",{className:"w-4 h-4 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-xs font-medium text-green-500",children:(C.user_name||"U").charAt(0).toUpperCase()})}),a.jsx("div",{className:"min-w-0 flex-1",children:a.jsx("h3",{className:"font-medium text-sm overflow-auto theme-text-primary",children:C.user_name||"Unnamed Member"})})]}),a.jsx("p",{className:"text-xs overflow-auto scrollbar-hidden theme-text-secondary",children:C.user_email?a.jsx("a",{href:`mailto:${C.user_email}`,title:C.user_email,className:"hover:underline text-blue-400",children:C.user_email}):"No email"})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1 flex-shrink-0",children:[a.jsx("button",{onClick:()=>E(C),className:"text-red-500 hover:text-red-600 hover:bg-red-50 p-1.5 rounded transition-colors",title:"Remove Member",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:C.created_at?new Date(C.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""})]})]})},C.user_id||k))})})]})}),a.jsx("div",{className:"absolute bottom-4 right-4",children:!d&&a.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg shadow-lg hover:bg-blue-700 hover:text-lg transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Send Invite"]})})]}),d&&a.jsx("div",{className:"absolute bottom-16 right-4 w-full max-w-sm sm:max-w-md lg:max-w-lg",children:a.jsx(wb,{onClose:()=>{h(!1),w()},companyId:N})})]})},C3=({onClose:t})=>{const{user:s}=Ye(),[i,l]=b.useState(""),[c,f]=b.useState(""),[d,h]=b.useState(!1),[p,x]=b.useState(""),[g,y]=b.useState(!1),v=b.useRef(null);b.useEffect(()=>{v.current&&v.current.querySelector('input[type="password"]')?.focus()},[]),b.useEffect(()=>{const E=C=>{C.key==="Escape"&&t()};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[t]);const N=async E=>{E.preventDefault(),x("");const C=s?.user_id;if(!C){x("Cannot find user ID. Please login again.");return}if(console.log("Using user ID:",C),c.toLowerCase()!=="delete account"){x("Please type 'delete account' exactly as shown to confirm.");return}if(!i.trim()){x("Please enter your password.");return}if(i.length<6){x("Password must be at least 6 characters.");return}h(!0);try{const k=localStorage.getItem("accessToken")||localStorage.getItem("access_token")||localStorage.getItem("jwt_token")||"";console.log(" Deleting user with ID:",C),console.log("Using token:",k?k.substring(0,20)+"...":"No token"),console.log("Password length:",i.length);const A=await fetch(`${pe}/user/delete_user/${C}`,{method:"DELETE",headers:{"Content-Type":"application/json",...k&&{Authorization:`Bearer ${k}`}},body:JSON.stringify({user_password:i,user_id:C})});console.log("Response status:",A.status);let D;try{D=await A.json(),console.log("Response data:",D)}catch{console.error("Failed to parse response as JSON"),D={message:"Server returned invalid JSON"}}if(!A.ok){if(A.status===401)throw new Error(D.message||"Invalid password or unauthorized access");if(A.status===404)throw new Error("User not found");if(A.status===400)throw new Error(D.message||"Invalid request");if(A.status===500){const V=D.message||D.error||D.detail||"Internal server error";throw console.error("Backend error details:",D),new Error("Server error:")}else throw new Error(D.message||`Failed to delete account (Status: ${A.status})`)}console.log(" Account deletion successful:",D),alert("Account deleted successfully. You will be logged out."),localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(V=>{document.cookie=V.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}),window.location.href="/"}catch(k){console.error(" Delete account error:",k),console.error("Error stack:",k.stack),x(k.message||"Failed to delete account. Please try again."),(k.message.includes("500")||k.message.includes("Server error"))&&x(A=>A+" Please try again later ")}finally{h(!1)}},w=i.length>=6&&c.toLowerCase()==="delete account";return a.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center p-4 z-100",onClick:t,children:a.jsxs("div",{ref:v,className:"theme-bg-card shadow-2xl rounded-xl w-full max-w-md animate-slide-in-up",onClick:E=>E.stopPropagation(),children:[a.jsx("div",{className:"p-3 pb-3 border-b theme-border",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-semibold text-red-700",children:"Delete Account"}),a.jsx("button",{onClick:t,className:"p-1.5 rounded-lg transition-colors theme-text-secondary",disabled:d,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]})}),a.jsx("div",{className:"p-4 bg-red-100 border-l-4 border-red-500 mx-4 mt-4 rounded-r",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 text-red-500 mr-2 mt-0.5 shrink-0",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-red-800",children:"Warning: Account Deletion"}),a.jsx("p",{className:"text-xs text-red-700 mt-0.5",children:"All projects, templates, and member data associated with this account will be permanently removed."})]})]})}),a.jsxs("form",{onSubmit:N,className:"p-3 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Confirm Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:g?"text":"password",value:i,onChange:E=>{l(E.target.value),x("")},onPaste:E=>{E.preventDefault()},onCopy:E=>E.preventDefault(),onCut:E=>E.preventDefault(),placeholder:"Enter your password",className:"w-full border theme-border rounded-lg px-3 py-2.5 pr-10 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all",disabled:d,required:!0}),a.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:d,children:g?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0 01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0 0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"})}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Type confirmation text"}),a.jsx("div",{className:"mb-2 p-3 bg-gray-50 rounded-lg border theme-border",children:a.jsx("p",{className:"text-lg font-mono text-red-600 text-center",children:"delete account"})}),a.jsx("input",{type:"text",value:c,onChange:E=>{f(E.target.value),x("")},onPaste:E=>E.preventDefault(),onCopy:E=>E.preventDefault(),onCut:E=>E.preventDefault(),placeholder:"Type 'delete account' here",className:"w-full border theme-border rounded-lg px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-all",disabled:d,required:!0})]}),p&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-4 h-4 mr-2 shrink-0",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"})}),p]})}),a.jsxs("div",{className:"flex items-start space-x-2 p-3 bg-red-100 rounded-lg",children:[a.jsx("input",{type:"checkbox",id:"confirmDelete",checked:w,readOnly:!0,className:"mt-0.5 w-4 h-4 text-red-600 border-red-300 rounded focus:ring-red-500"}),a.jsxs("label",{htmlFor:"confirmDelete",className:"text-sm text-gray-700",children:["I understand that this action is"," ",a.jsx("span",{className:"font-semibold text-red-600",children:"permanent"})," and"," ",a.jsx("span",{className:"font-semibold text-red-600",children:"cannot be undone"}),". All my data will be permanently deleted from the system."]})]}),a.jsx("div",{className:"flex gap-3",children:a.jsx("button",{type:"submit",disabled:!w||d,className:`flex-1 py-2.5 px-4 text-sm font-medium text-white rounded-lg transition-colors ${!w||d?"bg-red-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:d?a.jsxs("span",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):"Delete Account"})})]}),a.jsx("div",{className:"px-3 pb-3 pt-2 bg-blue-50 rounded-b-lg border-t theme-border",children:a.jsx("p",{className:"text-xs text-gray-800 text-center",children:"Need help? Contact support before proceeding."})})]})})};function T3({title:t,titleId:s,...i},l){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},i),t?b.createElement("title",{id:s},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const qg=b.forwardRef(T3);function k3({title:t,titleId:s,...i},l){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},i),t?b.createElement("title",{id:s},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const rd=b.forwardRef(k3);function E3({title:t,titleId:s,...i},l){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},i),t?b.createElement("title",{id:s},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const A3=b.forwardRef(E3);function D3({title:t,titleId:s,...i},l){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},i),t?b.createElement("title",{id:s},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const id=b.forwardRef(D3);function M3({title:t,titleId:s,...i},l){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},i),t?b.createElement("title",{id:s},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Yg=b.forwardRef(M3);function _3({title:t,titleId:s,...i},l){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:l,"aria-labelledby":s},i),t?b.createElement("title",{id:s},t):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const ld=b.forwardRef(_3),R3=()=>{const[t,s]=b.useState([]),[i,l]=b.useState([]),[c,f]=b.useState(!0),[d,h]=b.useState(""),[p,x]=b.useState("all"),[g,y]=b.useState(null),{authFetch:v}=Ye(),N=$d.useMemo(()=>{const C=new Set;return t.forEach(k=>{Array.isArray(k.tags)&&k.tags.filter(A=>A&&A!=="null").forEach(A=>C.add(A.trim()))}),["all",...Array.from(C).sort()]},[t]),w=async()=>{try{const C=await v(`${pe}/vendors/vendors`);if(!C.ok)throw new Error("Failed to fetch vendors");const k=await C.json();s(k.vendors||[]),l(k.vendors||[])}catch(C){console.error("Fetch Vendors Error:",C)}finally{f(!1)}};b.useEffect(()=>{let C=t;if(d){const k=d.toLowerCase();C=C.filter(A=>{const D=(A.company_name||"").toLowerCase(),V=(A.contact_person||"").toLowerCase(),L=(A.vendor_email||"").toLowerCase(),U=Array.isArray(A.tags)?A.tags.map(z=>z.toLowerCase()):[];return D.includes(k)||V.includes(k)||L.includes(k)||U.some(z=>z.includes(k))})}p!=="all"&&(C=C.filter(k=>(Array.isArray(k.tags)?k.tags.map(D=>D&&D.trim()):[]).includes(p))),l(C)},[t,d,p]),b.useEffect(()=>{w()},[]);const E=C=>{y(g===C?null:C)};return a.jsxs("div",{className:" bg-gradient-to-br from-theme-bg-primary to-theme-bg-secondary dark:from-theme-bg-primary dark:to-theme-bg-secondary py-4 px-4 md:px-10",children:[a.jsxs("div",{className:"mx-auto",children:[a.jsxs(ks,{to:"/",className:"inline-flex items-center theme-text-secondary hover:theme-text-primary",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),a.jsxs("div",{className:"mb-10 text-center",children:[a.jsx("h1",{className:"text-3xl font-bold theme-text-primary",children:"Vendor Directory"}),a.jsx("p",{className:"text-lg theme-text-secondary max-w-3xl mx-auto",children:"Find and connect with our trusted network of vendors and partners"})]}),a.jsxs("div",{className:"mb-2 theme-bg-primary rounded-2xl shadow-xl p-3",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsxs("div",{className:"relative flex-1 max-w-2xl",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(A3,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{type:"text",placeholder:"Search vendors by name, contact, or tag...",className:"w-full pl-10 pr-4 py-3 border border-blue-500 rounded-xl theme-bg-secondary theme-text-secondary focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:d,onChange:C=>h(C.target.value)})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("select",{className:"border border-gray-500 theme-bg-secondary rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",value:p,onChange:C=>x(C.target.value),children:N.map(C=>a.jsx("option",{value:C,children:C==="all"?"All Vendors":`#${C}`},C))})})]}),a.jsxs("div",{className:"mt-1 flex items-center justify-between text-sm text-gray-600 dark:text-gray-400",children:[a.jsxs("span",{children:["Showing ",a.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:i.length})," of ",a.jsx("span",{className:"font-semibold",children:t.length})," vendors"]}),p!=="all"&&a.jsx("button",{onClick:()=>x("all"),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 transition flex items-center gap-1",children:"Clear filter"})]})]}),c&&a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 dark:text-gray-300",children:"Loading vendors..."})]})}),!c&&i.length===0&&a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-12 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full mb-6",children:a.jsx(qg,{className:"h-10 w-10 text-gray-400"})}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No vendors found"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-300 max-w-md mx-auto mb-6",children:d||p!=="all"?"Try adjusting your search or filter to find what you're looking for.":"No vendors are currently available in the directory."}),(d||p!=="all")&&a.jsx("button",{onClick:()=>{h(""),x("all")},className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition font-medium",children:"Clear all filters"})]}),!c&&i.length>0&&a.jsx("div",{className:"space-y-4 overflow-y-auto max-h-[calc(90vh-200px)] scrollbar-hidden",children:i.map(C=>{const k=C.company_name,A=C.contact_person,D=C.vendor_email,V=C.contact_number;C.address,C.website;const L=Array.isArray(C.tags)?C.tags.filter(z=>z&&z!=="null").map(z=>z.trim()):[],U=g===C.vendor_id;return a.jsxs("div",{className:"theme-bg-secondary rounded-2xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden border border-gray-500",children:[a.jsx("div",{className:"p-3 cursor-pointer",onClick:()=>E(C.vendor_id),children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center",children:a.jsx(qg,{className:"h-7 w-7 text-blue-600 dark:text-blue-400"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h2",{className:"text-xl font-bold theme-text-primary mb-1 truncate",children:k}),A&&A!=="null"&&a.jsxs("div",{className:"flex items-center gap-2 theme-text-secondary mb-2",children:[a.jsx(ld,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:A})]}),L.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[L.slice(0,3).map((z,q)=>a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium theme-bg-card text-blue-500 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:z},q)),L.length>3&&a.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300",children:["+",L.length-3," more"]})]})]})]})}),a.jsx("div",{className:"flex flex-col sm:flex-row md:flex-col lg:flex-row items-start md:items-end lg:items-start gap-4",children:a.jsxs("div",{className:"flex flex-col gap-2",children:[V&&V!=="null"&&a.jsxs("a",{href:`tel:${V}`,className:"flex items-center gap-2 theme-text-secondary hover:underline transition text-sm whitespace-nowrap",children:[a.jsx(id,{className:"h-4 w-4"}),V]}),D&&D!=="null"&&a.jsxs("a",{href:`mailto:${D}`,className:"flex items-center gap-2 theme-text-secondary hover:underline transition text-sm truncate",title:D,children:[a.jsx(rd,{className:"h-4 w-4"}),a.jsx("span",{className:"truncate max-w-[200px]",children:D})]})]})})]})}),U&&a.jsxs("div",{className:"px-3 pb-3 border-t border-gray-500 pt-3 animate-slideDown",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold theme-text-secondary flex items-center gap-2",children:[a.jsx(ld,{className:"h-5 w-5"}),"Contact Information"]}),a.jsxs("div",{className:"space-y-3",children:[A&&A!=="null"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",children:a.jsx(ld,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm theme-text-primary",children:"Contact Person"}),a.jsx("p",{className:"font-medium theme-text-secondary",children:A})]})]}),V&&V!=="null"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",children:a.jsx(id,{className:"h-4 w-4 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm theme-text-primary",children:"Phone"}),a.jsx("a",{href:`tel:${V}`,className:"font-medium theme-text-secondary hover:underline transition",children:V})]})]}),D&&D!=="null"&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",children:a.jsx(rd,{className:"h-4 w-4 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm theme-text-primary",children:"Email"}),a.jsx("a",{href:`mailto:${D}`,className:"font-medium theme-text-secondary hover:underline transition truncate block",children:D})]})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"font-semibold theme-text-secondary flex items-center gap-2",children:[a.jsx(Yg,{className:"h-5 w-5"}),"Additional Details"]}),a.jsx("div",{className:"space-y-3",children:L.length>0&&a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Yg,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm theme-text-secondary mb-2",children:"Tags & Categories"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((z,q)=>a.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium  text-blue-700 dark:text-blue-300 border border-blue-200 dark:border-blue-700",children:z},q))})]})]})})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-500 flex justify-end space-x-4",children:[V&&V!=="null"&&a.jsxs("a",{href:`tel:${V}`,className:"px-5 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition font-medium flex items-center gap-2",children:[a.jsx(id,{className:"h-4 w-4"}),"Call Vendor"]}),D&&D!=="null"&&a.jsxs("a",{href:`mailto:${D}`,className:"px-5 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-400 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition font-medium flex items-center gap-2",children:[a.jsx(rd,{className:"h-4 w-4"}),"Send Email"]})]})]})]},C.vendor_id)})})]}),a.jsx("style",{jsx:!0,children:`
        @keyframes slideDown {
          from {
            opacity: 0;
            transform: translateY(-10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        .animate-slideDown {
          animation: slideDown 0.3s ease-out;
        }
      `})]})},od=({onNewProjectClick:t,onLoginClick:s,activeProjectsCount:i=0,onClose:l,closeModal:c,companyId:f})=>{const{user:d,logout:h,openAuthModal:p,authFetch:x}=Ye(),[g,y]=b.useState(null),{isDark:v,toggleTheme:N,isAnimating:w}=Zd(),[E,C]=b.useState(!1),[k,A]=b.useState(!1),[D,V]=b.useState(!1),L=ho(),[U,z]=b.useState(!1),[q,te]=b.useState(!1),[ce,$]=b.useState(!1),[G,ae]=b.useState(!1),ee=b.useRef(null),de=b.useRef(null);b.useEffect(()=>{if(d){const M={name:d.pendingLoginData?.name||"User",email:d.pendingLoginData?.email||"",companyId:d.company_id||d.pendingLoginData?.company_id||""};y(M)}else y(null)},[d]),b.useEffect(()=>{const M=O=>{ee.current&&!ee.current.contains(O.target)&&de.current&&!de.current.contains(O.target)&&(A(!1),V(!1))};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const R=()=>{w||(C(!0),N())},B=()=>{C(!1)},F=()=>{L("/templates")},Q=()=>{L("/vendors")},S=async()=>{try{const M=await x(`${pe}/pinterest/start`,{method:"GET",credentials:"include"});if(!M.ok){console.error("Backend error:",M.status);return}const O=await M.json();O.auth_url?window.location.href=O.auth_url:console.error("auth_url missing from response")}catch(M){console.error("Pinterest link failed:",M)}};return a.jsxs(a.Fragment,{children:[E&&a.jsx(Vj,{isDark:v,onAnimationComplete:B}),a.jsxs("div",{className:"flex justify-between items-center mb-8 theme-bg-primary theme-text-primary header",children:[a.jsxs("div",{children:[a.jsx(ks,{to:"/",className:"md:text-2xl text-xl font-bold theme-text-primary hover:opacity-70 transition-opacity duration-200",children:"SiteCards"}),a.jsxs("p",{className:"theme-text-secondary mt-1",children:[i," active project",i!==1?"s":""]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[g?a.jsxs("div",{ref:de,className:"relative",children:[a.jsxs("button",{onClick:()=>V(!D),className:"flex items-center gap-2 px-3 py-2 rounded-lg theme-border theme-text-primary theme-bg-secondary border hover:opacity-80 transition-all duration-200",children:[a.jsx("div",{className:"w-8 h-8 rounded-full theme-bg-primary flex items-center justify-center border theme-border",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),a.jsx("span",{className:"max-w-24 truncate",children:g.name})]}),D&&a.jsx("div",{className:" animate-fadeInUp absolute right-0 top-12 mt-2 w-48 rounded-lg theme-border theme-bg-card border theme-shadow z-50",children:a.jsxs("div",{className:"p-2",children:[a.jsx("div",{className:"px-3 py-2 theme-text-secondary overflow-x-auto whitespace-nowrap scrollbar-hidden text-sm border-b theme-border",children:g.email}),a.jsxs("button",{onClick:()=>{h(),V(!1),y(null)},className:"w-full px-3 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200 mt-1 border-b theme-border",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]}),a.jsxs("button",{onClick:()=>{ae(!0),V(!1)},className:"w-full px-2.5 py-2 rounded-md text-left flex items-center gap-3 text-red-500 transition-all duration-200 mt-1",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Account"]})]})})]}):a.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 hover:opacity-80 theme-border theme-text-primary theme-bg-secondary border",children:"Login"}),a.jsxs("div",{ref:ee,className:"relative",children:[a.jsx("button",{onClick:()=>A(!k),className:"p-2 rounded-lg theme-border theme-text-primary theme-bg-secondary border hover:opacity-80 transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),k&&a.jsx("div",{className:"animate-fadeInUp absolute right-0 top-12 mt-2 w-48 rounded-lg theme-border theme-bg-card border shadow-2xl z-50",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{onClick:()=>{t(),A(!1)},className:"w-full px-3 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Project"]}),a.jsxs("button",{onClick:()=>{F(),A(!1)},className:"w-full px-3 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})}),"Templates"]}),a.jsxs("button",{onClick:()=>{$(!0),A(!1)},className:"w-full px-3 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200",children:[a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("circle",{cx:"9",cy:"7",r:"4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M3 20c0-3.3 2.7-6 6-6s6 2.7 6 6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Teams"]}),a.jsxs("button",{onClick:()=>{Q(),A(!1)},className:"w-full px-2 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200",children:[a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:["  ",a.jsx("path",{d:"M3 6h18l-2 3H5L3 6z",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"7",cy:"13",r:"3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M4 20c0-2.2 1.8-4 4-4s4 1.8 4 4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("circle",{cx:"17",cy:"13",r:"3",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M14 20c0-2.2 1.8-4 4-4s4 1.8 4 4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Vendors"]}),a.jsxs("button",{onClick:()=>{S(),A(!1)},className:`w-full flex items-center gap-3 px-2 py-2 rounded-lg text-white font-medium\r
                             bg-[#E60023] hover:bg-[#AD001A] active:bg-[#8A0014]\r
                               transition-all duration-200`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"22",height:"22",fill:"currentColor",className:"text-white",children:a.jsx("path",{d:`M12 2C6.48 2 2 6.26 2 11.64c0 3.71 2.21 6.92 5.56 \r
                      8.29-.07-.66-.13-1.67.03-2.39.14-.6.92-3.84.92-3.84s-.23-.47-.23-1.17c0-1.1.64-1.91 1.43-1.91.68 \r
                      0 1 .51 1 1.12 0 .68-.43 1.69-.66 2.63-.19.79.39 1.44 1.15 1.44 1.38 0 2.44-1.46 2.44-3.56 0-1.86-1.34-3.15-3.25-3.15-2.22 \r
                      0-3.52 1.66-3.52 3.38 0 .67.26 1.39.58 1.78a.23.23 0 0 1 .05.22c-.06.24-.21.79-.24.9-.04.17-.13.2-.3.12-1.11-.52-1.8-2.17-1.8-3.5 \r
                      0-2.85 2.07-5.47 5.98-5.47 3.14 0 5.59 2.24 5.59 5.23 0 3.12-1.96 5.62-4.68 5.62-0.91 0-1.77-.47-2.07-1.02 0 0-.49 1.86-.6 2.31-.18.7-.67 \r
                      1.58-.99 2.12.74.23 1.53.36 2.35.36 5.52 0 10-4.26 10-9.64C22 6.26 17.52 2 12 2z`})}),"Link Pinterest"]}),a.jsx("button",{onClick:()=>{R(),A(!1)},disabled:w,className:`w-full px-3 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200 ${w?"opacity-50 cursor-not-allowed":""}`,children:v?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),"Light Mode"]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})}),"Dark Mode"]})})]})})]})]})]}),U&&a.jsx(wb,{onClose:()=>z(!1)}),ce&&a.jsx(S3,{onClose:()=>$(!1),companyId:g?.companyId}),G&&a.jsx(C3,{onClose:()=>ae(!1)})]})},L3=({status:t,dueDate:s})=>{const l=(()=>{if(!s)return null;const d=new Date,p=new Date(s).getTime()-d.getTime(),x=Math.ceil(p/(1e3*3600*24));return{days:Math.abs(x),isOverdue:x<0,isDueSoon:x>=0&&x<=7}})(),c={progress:{label:l?l.isOverdue?`Overdue by ${l.days} days`:l.isDueSoon?`Due in ${l.days} days`:"In Progress":"In Progress",color:l?l.isOverdue?"bg-red-100 text-red-800":l.isDueSoon?"bg-orange-100 text-orange-800":"bg-blue-200 text-blue-900":"bg-blue-200 text-blue-900"},completed:{label:"Completed",color:"bg-green-100 text-green-800"},review:{label:l?l.isOverdue?`Review - Overdue by ${l.days} days`:l.isDueSoon?`Review - Due in ${l.days} days`:"Review":"Review",color:l?l.isOverdue?"bg-red-100 text-red-800":l.isDueSoon?"bg-orange-100 text-orange-800":"bg-purple-100 text-purple-800":"bg-purple-100 text-purple-800"},Planning:{label:l?l.isOverdue?`Planning - Overdue by ${l.days} days`:l.isDueSoon?`Planning - Due in ${l.days} days`:"Planning":"Planning",color:l?l.isOverdue?"bg-red-100 text-red-800":l.isDueSoon?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800":"bg-yellow-100 text-yellow-800"}},f=c[t]||c.progress;return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.color}`,children:f.label})},O3=({project:t,isOpen:s,onClose:i,position:l={right:0,top:0}})=>{const{isDark:c}=Zd(),{authFetch:f,user:d}=Ye(),[h,p]=b.useState([]),[x,g]=b.useState([]),[y,v]=b.useState(""),[N,w]=b.useState(!1),[E,C]=b.useState({}),[k,A]=b.useState({}),D=b.useRef(null);b.useEffect(()=>{const G=ae=>{D.current&&!D.current.contains(ae.target)&&i()};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[i]),b.useEffect(()=>{s&&t?.id&&V()},[s,t?.id]),b.useEffect(()=>{if(y.trim()==="")g(h);else{const G=y.toLowerCase(),ae=h.filter(ee=>ee.user_name?.toLowerCase().includes(G)||ee.user_email?.toLowerCase().includes(G));g(ae)}},[y,h]);const V=async()=>{if(!d?.company_id||!t?.id){console.error(" No company_id or project_id found");return}w(!0);try{const G=`${pe}/user/get_users_by_company/${d.company_id}/${t.id}`,ae=await f(G);if(!ae.ok)throw new Error(`API failed with status: ${ae.status}`);const ee=await ae.json(),de=Array.isArray(ee)?ee:[];p(de),g(de);const R={};de.forEach(B=>{B.assigned&&(R[B.user_id]=!0)}),A(R)}catch(G){console.error(" Error fetching members:",G);try{const ae=localStorage.getItem("accessToken"),ee=`${pe}/user/get_users_by_company/${d.company_id}/${t.id}`,de=await fetch(ee,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(de.ok){const R=await de.json(),B=Array.isArray(R)?R:[];p(B),g(B);const F={};B.forEach(Q=>{Q.assigned&&(F[Q.user_id]=!0)}),A(F)}}catch(ae){console.error(" Fallback also failed:",ae),p([]),g([]),A({})}}finally{w(!1)}},L=async G=>{try{const ae=await f(`${pe}/companies/projects/${t.id}/members`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_ids:G,role:"member"})});if(!ae.ok)throw new Error("Failed to add members");const ee=await ae.json(),de={...k};return G.forEach(R=>{de[R]=!0}),A(de),p(R=>R.map(B=>G.includes(B.user_id)?{...B,assigned:!0}:B)),ee}catch(ae){throw console.error("Error adding members:",ae),ae}},U=async G=>{try{const ae=await f(`${pe}/companies/projects/${t.id}/members/${G}`,{method:"DELETE"});if(!ae.ok)throw new Error("Failed to remove member");const ee=await ae.json();return p(de=>de.map(R=>R.user_id===G?{...R,assigned:!1}:R)),ee}catch(ae){throw console.error("Error removing member:",ae),ae}},z=async G=>{if(k[G.user_id]){C(ee=>({...ee,[G.user_id]:!0}));try{await U(G.user_id),A(ee=>{const de={...ee};return delete de[G.user_id],de}),C(ee=>({...ee,[G.user_id]:"success"})),setTimeout(()=>{C(ee=>({...ee,[G.user_id]:!1}))},1e3)}catch{C(de=>({...de,[G.user_id]:"error"})),setTimeout(()=>{C(de=>({...de,[G.user_id]:!1}))},1e3)}return}C(ee=>({...ee,[G.user_id]:!0}));try{await L([G.user_id]),C(ee=>({...ee,[G.user_id]:"success"})),setTimeout(()=>{C(ee=>({...ee,[G.user_id]:!1}))},2e3)}catch{C(de=>({...de,[G.user_id]:"error"})),setTimeout(()=>{C(de=>({...de,[G.user_id]:!1}))},1e3)}},q=G=>{if(k[G]||h.find(de=>de.user_id===G)?.assigned)return"added";const ee=E[G];return ee===!0?"loading":ee==="success"?"success":ee==="error"?"error":"default"},te=G=>{const ae=q(G.user_id),ee=ae==="added",de=`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-300 ${ae==="loading"?"bg-blue-100 text-blue-600 cursor-wait":ae==="success"?"bg-green-100 text-green-600":ae==="error"?"bg-red-100 text-red-600":ee?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-600 hover:bg-blue-100 hover:text-blue-600"}`;return a.jsx("button",{onClick:R=>{R.preventDefault(),R.stopPropagation(),z(G)},disabled:ae==="loading",className:de,title:ae==="success"?"Added":ae==="error"?"Failed":ee?"Remove from project":"Add to project",children:ae==="loading"?a.jsxs("svg",{className:"animate-spin w-4 h-4",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):ee?a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 12H4"})}):ae==="success"?a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}):ae==="error"?a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})})})},ce=x.filter(G=>k[G.user_id]||G.assigned),$=x.filter(G=>!k[G.user_id]&&!G.assigned);return s?a.jsxs("div",{ref:D,className:`fixed animate-fadeInUp rounded-md shadow-2xl py-2 z-50 overflow-y-auto whitespace-nowrap scrollbar-hidden
        ${c?"theme-bg-primary theme-border":"bg-white border border-gray-200"}`,style:{width:"260px",right:l.right,top:l.top,maxHeight:"80vh"},onClick:G=>G.stopPropagation(),children:[a.jsx("div",{className:"px-3 py-2 border-b border-gray-200",children:a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",placeholder:"Search members...",value:y,onChange:G=>v(G.target.value),className:`w-full px-3 py-2 text-sm rounded border focus:outline-none focus:ring-2 focus:ring-blue-500 ${c?"theme-bg-card theme-border theme-text-primary":"bg-white border-gray-300 text-gray-700"}`,onClick:G=>G.stopPropagation()}),a.jsx("svg",{className:`absolute right-3 top-2.5 w-4 h-4 ${c?"text-gray-400":"text-gray-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),a.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"calc(80vh - 120px)"},children:N?a.jsx("div",{className:"py-8 flex justify-center",children:a.jsxs("svg",{className:"animate-spin w-6 h-6 text-blue-500",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):x.length===0?a.jsx("div",{className:`py-8 text-center text-sm ${c?"theme-text-secondary":"text-gray-500"}`,children:y?"No members found":"No members available"}):a.jsxs(a.Fragment,{children:[ce.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:`px-4 py-2 ${c?"theme-text-primary":"text-gray-700"}`,children:a.jsxs("div",{className:"text-xs font-medium uppercase tracking-wider",children:["Added to Project (",ce.length,")"]})}),a.jsx("div",{className:"space-y-1 px-2 mb-3",children:ce.map(G=>a.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded transition-colors duration-200 ${c?"hover:theme-bg-hover":"hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:`font-medium text-sm truncate ${c?"theme-text-primary":"text-gray-700"}`,children:G.user_name}),a.jsx("div",{className:`text-xs truncate ${c?"theme-text-secondary":"text-gray-500"}`,children:G.user_email})]}),te(G)]},G.user_id))})]}),ce.length>0&&$.length>0&&a.jsxs("div",{className:"relative py-2",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("div",{className:`w-full border-t ${c?"theme-border":"border-gray-200"}`})}),a.jsx("div",{className:"relative flex justify-center",children:a.jsx("span",{className:`px-3 text-xs font-medium ${c?"theme-bg-card theme-text-secondary":"bg-white text-gray-500"}`,children:"Not Added"})})]}),$.length>0&&a.jsx("div",{className:"space-y-1 px-2 mt-3",children:$.map(G=>a.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded transition-colors duration-200 ${c?"hover:theme-bg-hover":"hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:`font-medium text-sm truncate ${c?"theme-text-primary":"text-gray-700"}`,children:G.user_name}),a.jsx("div",{className:`text-xs truncate ${c?"theme-text-secondary":"text-gray-500"}`,children:G.user_email})]}),te(G)]},G.user_id))})]})}),a.jsx("div",{className:`px-4 py-3 border-t text-xs ${c?"theme-border theme-text-secondary":"border-gray-200 text-gray-500"}`,children:a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["Added: ",ce.length]}),a.jsxs("span",{children:["Not Added: ",$.length]}),a.jsxs("span",{children:["Total: ",x.length]})]})})]}):null},U3=({project:t,onEdit:s,onDelete:i})=>{const{isDark:l}=Zd(),[c,f]=b.useState(!1),[d,h]=b.useState(!1),[p,x]=b.useState({right:0,top:0}),g=b.useRef(null),y=b.useRef(null);b.useEffect(()=>{const E=C=>{g.current&&!g.current.contains(C.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const v=E=>{E.preventDefault(),E.stopPropagation(),f(!1),s?.(t)},N=E=>{E.preventDefault(),E.stopPropagation(),f(!1),i?.(t.id)},w=E=>{if(E.preventDefault(),E.stopPropagation(),y.current){const C=y.current.getBoundingClientRect(),k=E.currentTarget.closest(".project-card-container")?.getBoundingClientRect();x({top:C.bottom-(k?.top||0)+8,left:C.right-(k?.left||0)-260})}f(!1),h(!0)};return a.jsxs("div",{className:"relative",children:[a.jsx(ks,{to:`/project/${t.id}`,className:"rounded-lg shadow-sm border hover:shadow-2xl transition-all duration-200 h-full flex flex-col relative theme-bg-card theme-border hover:theme-bg-hover",children:a.jsxs("div",{className:"flex-1 p-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h3",{className:"text-lg font-semibold line-clamp-2 flex-1 mr-2 theme-text-primary",children:t.title}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(L3,{status:t.status,dueDate:t.due_date||t.end_date||t.docDate}),a.jsxs("div",{className:"relative",ref:g,children:[a.jsx("button",{ref:y,onClick:E=>{E.preventDefault(),E.stopPropagation(),f(!c)},className:"p-1 rounded transition-colors duration-200 hover:theme-bg-hover text-gray-400 hover:text-gray-600",children:a.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("circle",{cx:"12",cy:"12",r:"1"}),a.jsx("circle",{cx:"12",cy:"5",r:"1"}),a.jsx("circle",{cx:"12",cy:"19",r:"1"})]})}),c&&a.jsxs("div",{className:"animate-fadeInUp absolute right-0 top-6 mt-1 w-40 rounded-md shadow-lg py-1 z-20 theme-bg-card theme-border",children:[a.jsxs("button",{onClick:w,className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 flex items-center gap-2 hover:bg-gray-100 theme-text-primary",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add Members"]}),a.jsxs("button",{onClick:v,className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 flex items-center gap-2 hover:bg-gray-100 theme-text-primary",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),a.jsxs("button",{onClick:N,className:"block w-full text-left px-4 py-2 text-sm transition-colors duration-200 flex items-center gap-2 hover:bg-gray-100 text-red-600",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})]})]}),a.jsxs("p",{className:"flex items-center gap-1 text-md mb-4 theme-text-secondary",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),a.jsx("circle",{cx:"8.5",cy:"7",r:"4"})]}),t.assignee]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium theme-text-secondary",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[a.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),a.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),a.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),a.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})," Due Date"]}),a.jsxs("span",{className:`text-sm font-medium ${t.isOverdue?"text-red-600":"theme-text-secondary"}`,children:[t.docDate," ",t.isOverdue&&"(Overdue)"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"flex items-center gap-1 text-sm theme-text-secondary",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M21 10c0 6-9 13-9 13S3 16 3 10a9 9 0 0 1 18 0Z"}),a.jsx("circle",{cx:"12",cy:"10",r:"3"})]})," Location"]}),a.jsx("span",{className:"text-sm font-medium theme-text-secondary",children:t.location})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm theme-text-secondary",children:"Cards:"}),a.jsx("span",{className:"text-sm font-medium theme-text-primary",children:t.cardsCount})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-sm theme-text-secondary",children:"Updated:"}),a.jsx("span",{className:"text-sm theme-text-secondary",children:t.updated})]})]})]})}),a.jsx(O3,{project:t,isOpen:d,onClose:()=>h(!1),position:p})]})},cd=({onSearch:t,onFilter:s,currentFilter:i,onClose:l})=>{const[c,f]=b.useState(""),[d,h]=b.useState(!1),p=b.useRef(null),x=[{value:"all",label:"All Projects",color:"gray"},{value:"Planning",label:"Planning",color:"yellow"},{value:"In Progress",label:"In Progress",color:"blue"},{value:"review",label:"Review",color:"purple"},{value:"completed",label:"Completed",color:"green"}];b.useEffect(()=>{const w=E=>{p.current&&!p.current.contains(E.target)&&h(!1)};return document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[]);const g=w=>{const E=w.target.value;f(E),t&&t(E)},y=w=>{h(!1),s&&s(w)},v=()=>{s&&s("all")},N=w=>({gray:"bg-gray-500",yellow:"bg-yellow-500",blue:"bg-blue-500",purple:"bg-purple-500",green:"bg-green-500"})[w]||"bg-gray-500";return a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 theme-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("input",{type:"text",placeholder:"Search projects...",value:c,onChange:g,className:"block w-full pl-10 pr-3 py-2 theme-border rounded-lg theme-bg-card theme-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a.jsxs("div",{className:"relative",ref:p,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>h(!d),className:`p-2 theme-border rounded-lg transition-colors duration-200 flex items-center justify-center ${i!=="all"?"bg-blue-100 border-blue-300 text-blue-700":"theme-bg-card theme-text-primary hover:gray-500"}`,children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:`M3 4a1 1 0 011-1h16a1 \r
              1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 \r
              7.207A1 1 0 013 6.5V4z`})})}),i!=="all"&&a.jsx("button",{onClick:v,className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Clear filter",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),d&&a.jsxs("div",{className:"animate-fadeInUp absolute top-full right-0 mt-1 w-48 theme-bg-card theme-border rounded-lg shadow-lg z-10 border",children:[a.jsx("div",{className:"p-2 border-b theme-border",children:a.jsx("h3",{className:"text-sm font-medium theme-text-primary",children:"Filter by Status"})}),x.map(w=>a.jsxs("button",{onClick:()=>y(w.value),className:`w-full text-left px-4 py-3 transition-all duration-200 flex items-center gap-3 group ${i===w.value?"bg-blue-50 dark:bg-blue-200/30 text-blue-700 dark:text-blue-300 border-l-2 border-blue-500":"hover:bg-gray-100 dark:hover:bg-gray-500 hover:text-gray-900 dark:hover:text-gray-100 theme-text-primary"}`,children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${N(w.color)}`}),a.jsx("span",{className:"flex-1 text-sm",children:w.label}),i===w.value&&a.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},w.value))]})]})]})},B3=({isOpen:t,onClose:s,onCreate:i,projectId:l,isInline:c=!1,onCancel:f,onTaskCreated:d})=>{const{showMessage:h,showFailed:p,showConfirmation:x}=ct(),{authFetch:g}=Ye(),[y,v]=b.useState({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:""}),[N,w]=b.useState(!1),[E,C]=b.useState(!1),[k,A]=b.useState(!1),D=b.useRef(null),V=b.useRef(null);b.useEffect(()=>{const B=F=>{D.current&&!D.current.contains(F.target)&&w(!1),V.current&&!V.current.contains(F.target)&&C(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]);const L=["Simple Task","Site Visits","Meeting","Design Review","Client Meeting","Documentation"],U=["Sarah Johnson","The Martinez Family","TechCorp Inc.","John Doe","Jane Smith","Mike Wilson","Coci"],z=async B=>{if(B.preventDefault(),!y.title.trim()){h("Task title is required","error");return}A(!0);try{const F=new FormData;if(F.append("task_name",y.title.trim()),F.append("description",y.description||""),F.append("task_type",y.task_type),F.append("project_id",String(l)),y.date){const[S,M]=y.date.split("T"),[O,se,J]=S.split("-"),[ie,fe]=M.split(":"),Le=`${J}-${se}-${O}T${ie}:${fe}`;F.append("date",Le)}y.location&&F.append("location",y.location.trim()),y.assigned_to&&y.assigned_to!=="Unassigned"&&F.append("assigned_to",y.assigned_to),y.files.forEach(S=>F.append("uploads",S));for(let[S,M]of F.entries())console.log(`${S}:`,M);const Q=await g(`${pe}/tasks/tasks`,{method:"POST",body:F});if(!Q.ok){let S="Failed to create task";try{const M=await Q.json();S=M.error||M.message||`HTTP ${Q.status}`}catch{S=`HTTP ${Q.status}: ${Q.statusText}`}throw new Error(S)}h("Task created successfully!","success"),v({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:""}),typeof d=="function"&&d(),!c&&s&&s()}catch(F){console.error("Error creating task:",F),h(`Failed to create task: ${F.message}`,"error")}finally{A(!1)}},q=B=>{v({...y,[B.target.name]:B.target.value})},te=B=>{v({...y,task_type:B,date:B==="Site Visits"||B==="Meeting"?y.date:"",location:B==="Meeting"?y.location:""}),w(!1)},ce=B=>{v({...y,assigned_to:B}),C(!1)},$=()=>{w(!N),C(!1)},G=()=>{C(!E),w(!1)},ae=B=>{const F=Array.from(B.target.files);if(y.files.length+F.length>5){h("Maximum 5 files allowed","error");return}if(F.filter(S=>S.size>25*1024*1024).length>0){h("Some files exceed 25MB limit. Please select smaller files.","error");return}v({...y,files:[...y.files,...F]})},ee=B=>{const F=y.files.filter((Q,S)=>S!==B);v({...y,files:F})},de=()=>{v({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:""}),c&&f?f():s&&s()};if(!c&&!t)return null;const R={taskData:y,uploading:k,showtask_typeDropdown:N,showAssigneeDropdown:E,task_typeDropdownRef:D,assigneeDropdownRef:V,task_typeOptions:L,assigneeOptions:U,handleChange:q,handleSubmit:z,handletask_typeSelect:te,handleAssigneeSelect:ce,toggletask_typeDropdown:$,toggleAssigneeDropdown:G,handleFileChange:ae,removeFile:ee,handleCancel:de,isInline:c};return c?a.jsx("div",{className:"mb-6 theme-bg-card rounded-lg border border-gray-200 p-4 shadow-sm",children:a.jsx(Ig,{...R})}):a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-80 backdrop-blur-[1px]",onClick:s}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 border border-gray-200 flex flex-col max-h-[80vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold  theme-text-primary",children:"Create New Task"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none",children:""})]}),a.jsx(Ig,{...R})]})]})},Gg=({label:t,name:s,value:i,onChange:l,required:c,placeholder:f,isInline:d,autoFocus:h})=>a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${d?"theme-text-secondary":"theme-text-primary"} mb-${d?"1":"2"}`,children:[t," ",c&&a.jsx("span",{className:"text-red-500"})]}),a.jsx("input",{type:"text",name:s,value:i,onChange:l,required:c,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${d?"text-sm":""}`,placeholder:f,autoFocus:h})]}),Gl=({label:t,value:s,options:i,isOpen:l,dropdownRef:c,onToggle:f,onSelect:d,isInline:h})=>a.jsxs("div",{className:"relative",ref:c,children:[a.jsx("label",{className:`block text-sm font-medium ${h?"theme-text-secondary":"text-gray-700"} mb-${h?"1":"2"}`,children:t}),a.jsxs("button",{type:"button",onClick:f,className:`w-full flex items-center justify-between p-${h?"2":"3"} border border-gray-300 rounded-lg ${h?"theme-bg-card hover:bg-gray-50":"bg-white hover:bg-gray-50"} transition-colors duration-200 ${h?"text-sm":""}`,children:[a.jsx("span",{className:h?"text-gray-500 truncate":"text-gray-700",children:s}),a.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&a.jsx("div",{className:`absolute z-20 w-full mt-1 ${h?"theme-bg-card":"bg-white"} border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto scrollbar-hidden`,children:i.map(p=>a.jsx("button",{type:"button",onClick:()=>d(p),className:`w-full text-left px-${h?"3":"4"} py-2 hover:bg-gray-500 transition-colors duration-200 text-sm ${s===p?"bg-blue-50 text-blue-600":h?"theme-text-primary":"text-gray-700"}`,children:p},p))})]}),Xg=({label:t,name:s,value:i,onChange:l,placeholder:c,isInline:f})=>a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${f?"theme-text-secondary":"text-gray-700"} mb-${f?"1":"2"}`,children:t}),a.jsx("textarea",{name:s,value:i,onChange:l,rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${f?"text-sm":""}`,placeholder:c})]}),Kg=({files:t,onFileChange:s,onRemoveFile:i,isInline:l})=>a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`,children:"Add Files (Max 5 files, 25MB each)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center relative",children:[a.jsx("input",{type:"file",multiple:!0,onChange:s,id:"file-upload",accept:"*/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.jsxs("div",{className:"pointer-events-none",children:[a.jsx("p",{className:"text-blue-600 font-medium text-sm",children:"Click to upload files"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 5 files, 25MB each"})]}),t.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:t.map((c,f)=>a.jsxs("div",{className:"flex items-center justify-between text-xs theme-bg-primary p-2 rounded",children:[a.jsx("span",{className:"truncate flex-1 theme-text-secondary",children:c.name}),a.jsxs("span",{className:"text-gray-500 ml-2",children:["(",(c.size/(1024*1024)).toFixed(2)," MB)"]}),a.jsx("button",{type:"button",onClick:()=>i(f),className:"text-red-500 hover:text-red-700 ml-2",children:""})]},f))})]})]}),Zg=({uploading:t,onCancel:s,taskTitle:i,isInline:l})=>a.jsxs("div",{className:`flex items-end mt-10 gap-2 ${l?"":"p-4 border-t border-gray-100 bg-white flex justify-end space-x-3 mt-6"}`,children:[a.jsx("button",{type:"button",onClick:s,disabled:t,className:`px-${l?"3":"4"} py-2 text-gray-600 hover:text-gray-800 font-medium ${l?"border border-gray-300 rounded-lg hover:bg-gray-50":""} transition-colors duration-200 disabled:opacity-50 ${l?"flex-1":""}`,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:t||!i.trim(),className:`px-${l?"3":"4"} py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${l?"flex-1":""}`,children:t?"Creating...":"Add Task"})]}),Qg=({task_type:t,taskData:s,handleChange:i,isInline:l})=>{const c=b.useRef(null),f=()=>{c.current&&typeof c.current.showPicker=="function"&&c.current.showPicker()};return t==="Site Visits"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`}),a.jsx("input",{type:"datetime-local",name:"date",value:s.date,onChange:i,ref:c,onFocus:f,required:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${l?"text-sm":""}`})]}),a.jsx("div",{})]}):t==="Meeting"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`}),a.jsx("input",{type:"datetime-local",name:"date",value:s.date,onChange:i,ref:c,onFocus:f,required:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${l?"text-sm":""}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`}),a.jsx("input",{type:"text",name:"location",value:s.location,onChange:i,required:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${l?"text-sm":""}`,placeholder:"Enter meeting location"})]})]}):null},Ig=t=>{const{isInline:s,taskData:i,uploading:l,showtask_typeDropdown:c,showAssigneeDropdown:f}=t;return a.jsxs("form",{onSubmit:t.handleSubmit,className:s?"":"p-6 overflow-y-auto scrollbar-hidden flex-1",children:[!s&&a.jsx("div",{className:"mb-6",children:a.jsx("h3",{className:"text-lg font-semibold theme-text-primary mb-4",children:"Task Details"})}),a.jsx("div",{className:"space-y-4",children:s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-start",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx(Gg,{name:"title",value:i.title,onChange:t.handleChange,required:!0,placeholder:"Enter task title",isInline:!0,autoFocus:!0})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(Gl,{value:i.task_type,options:t.task_typeOptions,isOpen:c,dropdownRef:t.task_typeDropdownRef,onToggle:t.toggletask_typeDropdown,onSelect:t.handletask_typeSelect,isInline:!0})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(Gl,{required:!0,value:i.assigned_to,options:t.assigneeOptions,isOpen:f,dropdownRef:t.assigneeDropdownRef,onToggle:t.toggleAssigneeDropdown,onSelect:t.handleAssigneeSelect,isInline:!0})})]}),a.jsx(Qg,{task_type:i.task_type,taskData:i,handleChange:t.handleChange,isInline:!0}),a.jsx("div",{children:a.jsx(Xg,{name:"description",value:i.description,onChange:t.handleChange,placeholder:"Enter task description",isInline:!0})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-start",children:[a.jsx(Kg,{files:i.files,onFileChange:t.handleFileChange,onRemoveFile:t.removeFile,isInline:!0}),a.jsx(Zg,{uploading:l,onCancel:t.handleCancel,taskTitle:i.title,isInline:!0})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Gg,{label:"Task title",name:"title",value:i.title,onChange:t.handleChange,required:!0,placeholder:"Enter task title",isInline:!1}),a.jsx(Gl,{label:"Task Type",value:i.task_type,options:t.task_typeOptions,isOpen:c,dropdownRef:t.task_typeDropdownRef,onToggle:t.toggletask_typeDropdown,onSelect:t.handletask_typeSelect,isInline:!1}),a.jsx(Gl,{label:"Assigned to",required:!0,value:i.assigned_to,options:t.assigneeOptions,isOpen:f,dropdownRef:t.assigneeDropdownRef,onToggle:t.toggleAssigneeDropdown,onSelect:t.handleAssigneeSelect,isInline:!1}),a.jsx(Xg,{label:"Description",name:"description",value:i.description,onChange:t.handleChange,placeholder:"Enter task description",isInline:!1}),a.jsx(Qg,{task_type:i.task_type,taskData:i,handleChange:t.handleChange,isInline:!1}),a.jsx(Kg,{files:i.files,onFileChange:t.handleFileChange,onRemoveFile:t.removeFile,isInline:!1})]})}),!s&&a.jsx(Zg,{uploading:l,onCancel:t.handleCancel,taskTitle:i.title,isInline:!1})]})},P3=({onClose:t,onSubmit:s,isUploading:i})=>{const{showConfirmation:l,showMessage:c}=ct(),[f,d]=b.useState({name:"",category:"",description:"",file:null}),h=["Custom","Floor Plan","Electrical","Plumbing","Structural","Landscape"],p=g=>{const{name:y,value:v}=g.target;d(N=>({...N,[y]:v}))},x=g=>{g.preventDefault(),!(!f.name.trim()||!f.category)&&s(f)};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute modal-enter modal-enter-active inset-0 bg-opacity-50 backdrop-blur-[1px]",onClick:t}),a.jsxs("div",{className:"relative theme-bg-secondary rounded-lg w-full max-w-md mx-4 shadow-2xl animate-fadeInUp",children:[a.jsxs("div",{className:"flex justify-between items-center md:p-4 p-2 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold theme-text-primary",children:"Upload Site Map"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none",children:""})]}),a.jsxs("form",{onSubmit:x,className:"p-2 md:p-4",children:[a.jsxs("div",{className:"space-y-4 pb-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Site Map Name"}),a.jsx("input",{type:"text",name:"name",value:f.name,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter site map name"})]}),a.jsxs("div",{className:"w-[120px]",children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Category"}),a.jsxs("select",{name:"category",value:f.category,onChange:p,required:!0,size:1,className:"w-full px-3 py-2 theme-bg-card theme-text-secondary border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent hover:bg-gray-500 transition-colors duration-200 overflow-y-auto max-h-20",children:[a.jsx("option",{value:"",children:"Category"}),h.map(g=>a.jsx("option",{value:g,className:"theme-bg-card theme-text-secondary",children:g},g))]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-2 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:t,disabled:i,className:"px-4 py-2 text-gray-600 hover:text-gray-700 font-medium transition-colors duration-200 disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Uploading...":"Upload"})]})]})]})]})},z3=({spaceId:t,projectId:s,onClose:i,onAdd:l})=>{const{showConfirmation:c,showMessage:f}=ct(),[d,h]=b.useState("manual"),[p,x]=b.useState(null),[g,y]=b.useState(!1),{authFetch:v}=Ye(),[N,w]=b.useState({name:"",company_name:"",phone:"",email:"",tags:[],notes:""}),[E,C]=b.useState(!1),[k,A]=b.useState(""),D=["supplier","contractor","service-provider","furniture","paint","tiles","hardware","kitchen","sanitaryware","lighting","glass","interior-design","plumbing","electrical","carpentry"],V=$=>{w(G=>({...G,tags:G.tags.includes($)?G.tags.filter(ae=>ae!==$):[...G.tags,$]}))},L=[{id:1,name:"ABC Construction",description:"General building contractor",tags:"contractor,construction",company:"ABC Builders Ltd.",phone:"+91 98765 43210",email:"contact@aabcconstruction.com"},{id:2,name:"XYZ Electrical",description:"Electrical works specialist",tags:"electrical,lighting",company:"XYZ Electric",phone:"+91 98765 43211",email:"info@xayzelectrical.com"},{id:3,name:"Premium Paints",description:"Painting and coating services",tags:"paint,interior",company:"Premium Paints Co.",phone:"+91 98765 43212",email:"sales@paremiumpaints.com"},{id:4,name:"Winds",description:"Turbines and Energy",tags:"Turbines,Mills,Wheels",company:"Winders",phone:"+91 65545 78945",email:"winds@hoatmail.com"},{id:5,name:"Reserve Construction",description:"Construction of Dams",tags:"Dams,Reservoirs,Bridges,Hanging Bridges",company:"Reserv Construction",phone:"+91 55584 55947",email:"reserv@reaservconstructions.ac.in"}],U=async $=>{if(!$.email){f("Vendor email is required","error");return}if(!$.company){f("Vendor company is required","error");return}const G=Array.isArray($.tags)?$.tags.join(","):$.tags||"",ae={contact_person:$.name||"",company_name:$.company||"",vendor_email:$.email,contact_number:$.phone||"",tags:G,trade:""};try{C(!0);const ee=await v(`${pe}/vendors/vendors/post/space/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(ee.ok){const R={id:(await ee.json()).vendor_id,name:$.company,contact:$.email,phone:$.phone,tags:G};l(R),f(`${$.name} added successfully!`,"success"),i()}else{const de=await ee.text();console.error("DEBUG - Full error response:",de);try{const R=JSON.parse(de);console.error("DEBUG - Parsed error JSON:",R),f(`Failed to add vendor: ${R.error||R.message||"Unknown error"}`,"error")}catch{console.error("DEBUG - Raw error text:",de),f("Failed to add vendor: "+de,"error")}}}catch(ee){console.error("Network error adding vendor:",ee),f("Failed to add vendor: "+ee.message,"error")}finally{C(!1)}},z=()=>{k.trim()&&!N.tags.includes(k.trim())&&(w($=>({...$,tags:[...$.tags,k.trim()]})),A(""))},q=$=>{w(G=>({...G,tags:G.tags.filter(ae=>ae!==$)}))};b.useEffect(()=>{"contacts"in navigator&&"select"in navigator.contacts&&y(!0)},[]);const te=async()=>{try{const $=await navigator.contacts.select(["name","email","tel","organization"],{multiple:!1});if($&&$.length>0){const G=$[0],ae={name:G.name?G.name[0]:"",phone:G.tel?G.tel[0]:"",email:G.email?G.email[0]:"",company:G.organization?G.organization[0]:""};x(ae),w(ee=>({...ee,name:ae.name,company_name:ae.company,phone:ae.phone,email:ae.email})),h("manual"),f("Contact imported successfully!","success")}}catch($){console.error("Error accessing contacts:",$),f("Failed to access contacts. Please check permissions.","error")}},ce=async $=>{$.preventDefault(),C(!0);try{const G={contact_person:N.name,company_name:N.company_name,vendor_email:N.email,contact_number:N.phone,tags:N.tags.join(","),notes:N.notes,space_id:t,project_id:s},ae=await v(`${pe}/vendors/vendors/post/space/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(ae.ok){const ee=await ae.json(),de={id:ee.vendor_id,name:ee.company_name,category:ee.trade,contact:ee.vendor_email,phone:ee.contact_number,space_id:ee.space_id||t};l(de),f("Vendor added successfully!","success")}else{const ee=await ae.text();throw console.error("Server error response:",ee),new Error(`Failed to add vendor: ${ae.status} - ${ee}`)}}catch(G){console.error("Error adding vendor:",G),f("Failed to add vendor: "+G.message,"error")}finally{C(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:i,children:a.jsxs("div",{className:"overflow-y-scroll animate-fadeInUp shadow-2xl whitespace-nowrap scrollbar-hidden theme-bg-secondary rounded-lg max-w-md w-full p-6",onClick:$=>$.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold mb-4 theme-text-primary",children:"Add Vendor"}),a.jsxs("form",{onSubmit:ce,children:[a.jsxs("div",{className:"flex mb-6 border-b theme-border-primary",children:[a.jsx("button",{type:"button",className:`pb-2 px-4 w-full ${d==="manual"?"border-b-2 border-blue-500 text-blue-500 font-medium":"theme-text-secondary hover:theme-text-primary"}`,onClick:()=>h("manual"),children:"Manual"}),a.jsx("button",{type:"button",className:`pb-2 px-4 w-full ${d==="fromList"?"border-b-2 border-blue-500 text-blue-500 font-medium":"theme-text-secondary hover:theme-text-primary"}`,onClick:()=>h("fromList"),children:"From List"}),a.jsx("button",{type:"button",className:`pb-2 px-4 w-full ${d==="contacts"?"border-b-2 border-blue-500 text-blue-500 font-medium":"theme-text-secondary hover:theme-text-primary"}`,onClick:()=>h("contacts"),children:"Contacts"})]}),d==="manual"&&a.jsxs("div",{className:"space-y-4 h-[400px]",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Name *"}),a.jsx("input",{type:"text",required:!0,value:N.name,onChange:$=>w(G=>({...G,name:$.target.value})),placeholder:"Vendor name",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Company"}),a.jsx("input",{type:"text",value:N.company_name,onChange:$=>w(G=>({...G,company_name:$.target.value})),placeholder:"Company name",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:N.phone,onChange:$=>w(G=>({...G,phone:$.target.value})),placeholder:"+91 XXXXX XXXXX",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Email"}),a.jsx("input",{type:"email",value:N.email,onChange:$=>w(G=>({...G,email:$.target.value})),placeholder:"vendor@example.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:N.tags.map($=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs theme-bg-blue theme-text-blue border border-blue-200",children:[$,a.jsx("button",{type:"button",onClick:()=>q($),className:"ml-2 hover:text-blue-800",children:""})]},$))}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:D.map($=>a.jsx("button",{type:"button",onClick:()=>V($),className:`px-3 py-1 rounded-full text-xs border ${N.tags.includes($)?"theme-bg-blue theme-text-blue border-blue-200":"theme-bg-secondary theme-text-secondary border-gray-300 hover:border-blue-300"}`,children:$},$))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:k,onChange:$=>A($.target.value),placeholder:"Add custom tag...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary text-sm",onKeyPress:$=>{$.key==="Enter"&&($.preventDefault(),z())}}),a.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 border border-gray-300 rounded-lg hover:border-blue-500 theme-bg-secondary theme-text-primary text-sm",children:"Add"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Notes"}),a.jsx("textarea",{value:N.notes,onChange:$=>w(G=>({...G,notes:$.target.value})),placeholder:"Additional notes about the vendor...",rows:"3",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-3 pb-4",children:[a.jsx("button",{type:"button",onClick:i,disabled:E,className:"px-4 py-2 theme-text-secondary hover:theme-text-primary disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:E?"Adding...":"Add Vendor"})]})]}),d==="fromList"&&a.jsxs("div",{className:"h-[400px] space-y-4 overflow-y-auto whitespace-nowrap scrollbar-hidden",children:[a.jsx("div",{children:a.jsx("p",{className:"theme-text-secondary font-medium",children:"Select from commonly used vendors"})}),L.map($=>a.jsxs("div",{onClick:()=>U($),className:"w-full text-left p-3 rounded-lg border border-gray-300 hover:bg-blue-220 hover:border-blue-300 transition-colors cursor-pointer",children:[a.jsx("div",{className:"font-medium theme-text-primary",children:$.name}),a.jsx("div",{className:"text-xs theme-text-secondary mt-0.5",children:$.description}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1.5",children:$.tags.split(",").map(G=>a.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs theme-bg-blue theme-text-blue border border-blue-200",children:[G.trim()," "]},G))})]},$.id))]}),d==="contacts"&&a.jsxs("div",{className:"space-y-4 border border-dashed rounded-lg border-gray-500",children:[a.jsxs("div",{className:"text-center flex flex-col items-center py-8",children:[a.jsx("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:" flex justify-center w-12 h-12",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),a.jsx("p",{className:"theme-text-secondary mb-4",children:"Import vendor from your contacts"}),a.jsx("button",{type:"button",onClick:te,disabled:!g,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Choose from Contacts"}),!g&&a.jsx("p",{className:"text-sm theme-text-secondary mt-3",children:"Contact picker not supported in your browser"})]}),p&&a.jsxs("div",{className:"p-4 border border-green-300 rounded-lg bg-green-50",children:[a.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Selected Contact:"}),a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Name:"})," ",p.name]}),a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Phone:"})," ",p.phone]}),a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Email:"})," ",p.email]}),a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Company:"})," ",p.company]})]})]})]})]})})},V3=({spaceId:t,projectId:s,onClose:i,onAdd:l})=>{const{showMessage:c}=ct(),{authFetch:f}=Ye(),[d,h]=b.useState({title:"",file:null,description:"",pinterestUrl:"",tags:[]}),[p,x]=b.useState(!1),[g,y]=b.useState(""),[v,N]=b.useState(""),[w,E]=b.useState(""),[C,k]=b.useState(null),[A,D]=b.useState([]),[V,L]=b.useState(!1),[U,z]=b.useState(null),[q,te]=b.useState([]),[ce,$]=b.useState(!1),[G,ae]=b.useState([]),[ee,de]=b.useState("selectBoard");b.useEffect(()=>()=>{C&&URL.revokeObjectURL(C)},[C]),b.useEffect(()=>{v==="board"&&R()},[v]);const R=async()=>{L(!0);try{const fe=await(await f(`${pe}/pinterest/boards`)).json();Array.isArray(fe.items)?D(fe.items):D([])}catch(ie){console.error("Error loading boards:",ie),c("Failed to load Pinterest boards","failed"),D([])}finally{L(!1)}},B=async ie=>{$(!0);try{const Le=await(await f(`${pe}/pinterest/boards/${ie}/pins`)).json();Array.isArray(Le.items)?te(Le.items):(te([]),c("No pins found in this board","info"))}catch(fe){console.error("Error loading board pins:",fe),c("Failed to load board pins","failed"),te([])}finally{$(!1)}},F=ie=>ie.includes("pinterest.com/")&&(ie.includes("/board/")||ie.match(/pinterest\.com\/[^/]+\/[^/]+\/?$/)),Q=ie=>{const fe=ie.target.files[0];if(fe){h(he=>({...he,file:fe}));const Le=URL.createObjectURL(fe);k(Le)}},S=ie=>{if(!ie)return null;const fe=ie.match(/pinterest\.com\/([^/]+\/[^/]+)/);return fe?fe[1]:ie},M=async ie=>{if(ie.preventDefault(),g==="upload"&&!d.file){c("Please select an image to upload","failed");return}if(g==="pinterest"&&v==="pin"&&!d.pinterestUrl){c("Please enter a Pinterest URL","failed");return}x(!0);try{const fe=new FormData;if(fe.append("space_id",t),fe.append("title",d.title||"Untitled Inspiration"),g==="upload")fe.append("uploads",d.file);else if(g==="pinterest"&&v==="pin"){const he=S(d.pinterestUrl);fe.append("url",d.pinterestUrl),fe.append("board_id",he),fe.append("isBoard",F(d.pinterestUrl))}d.description&&fe.append("description",d.description),d.tags.length>0&&fe.append("tags",d.tags.join(","));const Le=await f(`${pe}/inspiration/post`,{method:"POST",body:fe});if(Le.ok){const he=await Le.json();g==="pinterest"&&(he.pinterestUrl=d.pinterestUrl),l(he),c("Inspiration added successfully!","success"),i()}else{const he=await Le.text();throw new Error(`Failed to add inspiration: ${Le.status} - ${he}`)}}catch(fe){console.error("Error adding inspiration:",fe),c("Failed to add image: "+fe.message,"failed")}finally{x(!1)}},O=()=>{w.trim()&&!d.tags.includes(w.trim())&&(h(ie=>({...ie,tags:[...ie.tags,w.trim()]})),E(""))},se=ie=>{h(fe=>({...fe,tags:fe.tags.filter(Le=>Le!==ie)}))},J=async ie=>{z(ie),de("selectPins"),await B(ie.id)};return g===""&&!v?a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:i,children:a.jsxs("div",{className:"shadow-2xl animate-fadeInUp theme-bg-secondary rounded-lg max-w-md w-full p-6",onClick:ie=>ie.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Add Inspiration Images"}),a.jsx("p",{className:"theme-text-secondary mb-6",children:"Upload images or import from Pinterest to build your inspiration board"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>y("upload"),children:[a.jsx("svg",{className:"w-6 h-6 mx-auto mb-2 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("div",{className:"text-sm font-semibold mb-2",children:"Upload from Device"}),a.jsx("p",{className:"text-xs theme-text-secondary",children:"Choose images from your device or storage"})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>y("pinterest"),children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2 text-red-500",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.042-3.441.219-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017 0z"})}),a.jsx("div",{className:"text-sm font-medium mb-1",children:"Import from Pinterest"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Import pins or entire boards"})]})]})]})}):g==="pinterest"&&!v?a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:i,children:a.jsxs("div",{className:"shadow-2xl animate-fadeInUp theme-bg-secondary rounded-lg max-w-md w-full p-6",onClick:ie=>ie.stopPropagation(),children:[a.jsxs("button",{type:"button",onClick:()=>y(""),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 mb-4",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("h2",{className:"text-xl font-bold mb-2",children:"Import from Pinterest"}),a.jsx("p",{className:"theme-text-secondary mb-6",children:"Choose what you want to import from Pinterest"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>N("pin"),children:[a.jsx("div",{className:"flex justify-center items-center mb-2",children:a.jsx("svg",{className:"w-6 h-6 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12 2L4 12l8 10 8-10L12 2zm0 15a3 3 0 110-6 3 3 0 010 6z"})})}),a.jsx("div",{className:"text-sm font-semibold mb-1",children:"Import Individual Pins"}),a.jsx("p",{className:"text-xs theme-text-secondary",children:"Import single pins using URLs"})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition-colors",onClick:()=>N("board"),children:[a.jsx("div",{className:"flex justify-center items-center mb-2",children:a.jsx("svg",{className:"w-6 h-6 text-red-500",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M4 4h7v7H4zm0 9h7v7H4zm9 0h7v7h-7zm0-9h7v7h-7z"})})}),a.jsx("div",{className:"text-sm font-semibold mb-1",children:"Import Boards"}),a.jsx("p",{className:"text-xs theme-text-secondary",children:"Import entire Pinterest boards"})]})]})]})}):v==="board"?a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px] overflow-auto",onClick:i,children:a.jsxs("div",{className:"theme-bg-secondary rounded-lg max-w-4xl w-full max-h-[80vh] overflow-y-auto p-6 shadow-2xl scrollbar-hidden",onClick:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>N(""),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("h2",{className:"text-xl font-bold mt-2",children:"Select a Pinterest Board"}),a.jsx("p",{className:"theme-text-secondary text-sm",children:"Choose a board to import"})]}),a.jsx("button",{type:"button",onClick:i,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),V?a.jsxs("div",{className:"flex justify-center items-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3",children:"Loading boards..."})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"theme-text-secondary",children:"No Pinterest boards found"}),a.jsx("button",{onClick:R,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(ie=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow cursor-pointer theme-bg-primary",onClick:()=>J(ie),children:[ie.image_cover_url?a.jsx("div",{className:"h-40 overflow-hidden",children:a.jsx("img",{src:ie.image_cover_url,alt:ie.name,className:"w-full h-full object-cover"})}):a.jsx("div",{className:"h-40 bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center",children:a.jsx("svg",{className:"w-12 h-12 text-red-300",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.042-3.441.219-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017 0z"})})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold truncate",children:ie.name}),ie.description&&a.jsx("p",{className:"text-sm theme-text-secondary truncate mt-1",children:ie.description}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[ie.pin_count||0," pins"]}),a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Import"})]})]})]},ie.id))})]})}):a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:i,children:a.jsxs("div",{className:"theme-bg-secondary rounded-lg max-w-md w-full p-6 shadow-2xl",onClick:ie=>ie.stopPropagation(),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsxs("button",{type:"button",onClick:()=>{g==="pinterest"?N(""):y("")},className:"flex items-center gap-2 text-gray-600 hover:text-gray-800",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),"Back"]}),a.jsx("h2",{className:"text-sm font-bold mt-2",children:g==="upload"?"Upload from Device":"Import Individual Pin"})]}),a.jsx("button",{type:"button",onClick:i,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("form",{onSubmit:M,children:[a.jsxs("div",{className:"space-y-4",children:[g==="upload"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Image"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition-colors relative",children:[a.jsx("input",{type:"file",required:!0,accept:".jpg,.jpeg,.png,.webp",onChange:Q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),C?a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("img",{src:C,alt:"Preview",className:"max-h-48 max-w-full rounded-lg mb-2"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click to change image"})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-10 h-10 mx-auto mb-2 text-gray-400",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm theme-text-secondary",children:"Click to upload image"})]})]})]}),g==="pinterest"&&v==="pin"&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Pinterest URL"}),a.jsx("input",{type:"url",required:!0,value:d.pinterestUrl,onChange:ie=>h(fe=>({...fe,pinterestUrl:ie.target.value})),placeholder:"https://pinterest.com/pin/...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:["Title ",a.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),a.jsx("input",{type:"text",value:d.title,onChange:ie=>h(fe=>({...fe,title:ie.target.value})),placeholder:"e.g., Modern Kitchen Design",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:d.tags.map(ie=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs theme-bg-blue theme-text-blue border border-blue-200",children:[ie,a.jsx("button",{type:"button",onClick:()=>se(ie),className:"ml-2 hover:text-blue-800",children:""})]},ie))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:w,onChange:ie=>E(ie.target.value),placeholder:"Add a tag",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary text-sm",onKeyPress:ie=>{ie.key==="Enter"&&(ie.preventDefault(),O())}}),a.jsx("button",{type:"button",onClick:O,className:"px-4 py-2 border border-gray-300 rounded-lg hover:border-blue-500 theme-bg-secondary theme-text-primary text-sm",children:"Add"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:["Notes ",a.jsx("span",{className:"text-gray-400",children:"(Optional)"})]}),a.jsx("textarea",{value:d.description,onChange:ie=>h(fe=>({...fe,description:ie.target.value})),placeholder:"Add any notes about this image...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:i,disabled:p,className:"px-4 py-2 text-gray-600 hover:text-gray-500 disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:p,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:p?"Adding...":"Add Image"})]})]})]})})},F3=({spaceId:t,projectId:s,onClose:i,onAdd:l})=>{const{showMessage:c,showConfirmation:f}=ct(),{authFetch:d}=Ye(),[h,p]=b.useState({name:"",file:null,description:""}),[x,g]=b.useState(!1),[y,v]=b.useState(null),[N,w]=b.useState(!1),E=A=>{const D=A.target.files[0];if(D){p(L=>({...L,file:D}));const V=URL.createObjectURL(D);v(V)}},C=()=>{w(!0),setTimeout(()=>i(),200)};b.useEffect(()=>()=>{y&&URL.revokeObjectURL(y)},[y]);const k=async A=>{A.preventDefault(),g(!0);const D={id:`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,drawing_name:h.name,space_id:t,project_id:s,description:h.description||"",created_at:new Date().toISOString(),isOptimistic:!0,status:"uploading",file:h.file,preview_url:y};try{l(D);const V=new FormData;V.append("drawing_name",h.name),V.append("space_id",t),V.append("project_id",s),V.append("uploads",h.file),h.description&&V.append("description",h.description);for(let[U,z]of V.entries());const L=await d(`${pe}/drawings/post`,{method:"POST",body:V});if(L.ok){const U=await L.json();l({...U,status:"success",preview_url:y}),C(),c("Drawing added successfully!","success")}else{const U=await L.text();throw console.error("Server error response:",U),l({...D,status:"error",error:`Failed to add drawing: ${L.status}`}),new Error(`Failed to add drawing: ${L.status} - ${U}`)}}catch(V){console.error("Error adding drawing:",V),l({...D,status:"error",error:V.message}),c("Failed to add drawing: "+V.message,"failed")}finally{g(!1)}};return a.jsx("div",{className:"fixed inset-0  bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:i,children:a.jsxs("div",{className:`theme-bg-secondary shadow-2xl rounded-lg max-w-md w-full p-6 ${N?"animate-fadeOutDown ":"animate-fadeInUp"}`,onClick:A=>A.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Add New Drawing"}),a.jsxs("form",{onSubmit:k,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:["Drawing Name",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",required:!0,value:h.name,onChange:A=>p(D=>({...D,name:A.target.value})),placeholder:"Enter Drawing Name...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:["File",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center cursor-pointer hover:border-blue-400 transition-colors relative",children:[a.jsx("input",{type:"file",required:!0,accept:".jpg,.jpeg,.png",onChange:E,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),y?a.jsxs("div",{className:"flex flex-col items-center",children:[y.match(/\.(jpg|jpeg|png)$/i)||y.startsWith("blob:")?a.jsx("img",{src:y,alt:"Preview",className:"max-h-48 max-w-full rounded-lg mb-2"}):a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mb-2",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click to change file"})]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-10 h-10 mx-auto mb-2 text-gray-400",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1M12 12V4m0 0l-4 4m4-4l4 4"})}),a.jsx("p",{className:"text-sm theme-text-secondary",children:"Click to upload or drag and drop"}),a.jsx("p",{className:"text-xs theme-text-secondary mt-1",children:"JPG, PNG"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Description"}),a.jsx("textarea",{value:h.description,onChange:A=>p(D=>({...D,description:A.target.value})),placeholder:"Enter Description here",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-600 hover:text-gray-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:x?"Uploading...":"Add Drawing"})]})]})]})})},H3=({siteMap:t,onDelete:s,onClick:i,onEdit:l})=>{const[c,f]=b.useState(!1),d=h=>{const p={Custom:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Floor Plan":a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),Electrical:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),Plumbing:a.jsxs("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 2v4m0 4v4m0 4v4m8-12h-4m4 4h-4m4 4h-4M4 6h4m-4 4h4m-4 4h4"}),a.jsx("circle",{cx:"12",cy:"2",r:"1",fill:"currentColor"})]}),Structural:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),Landscape:a.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 3v18m-8-6l4-4 4 4m8 0l-4-4 4 4M7 8l5-5 5 5M7 16l5 5 5-5"})})};return p[h]||p.Custom};return a.jsxs("div",{className:"theme-bg-card rounded-lg theme-border overflow-hidden md:hover:shadow-2xl shadow-md transition-shadow duration-300 group cursor-pointer relative",onClick:()=>i(t),onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),children:[a.jsxs("div",{className:"aspect-video bg-gradient-to-br from-blue-100 to-purple-100 relative overflow-hidden flex items-center justify-center",children:[a.jsx("div",{className:"text-gray-600",children:d(t.category)}),a.jsx("div",{className:`absolute top-2 right-2 flex gap-1 transition-opacity duration-200 ${c?"md:opacity-100":"md:opacity-0 opacity-100"}`,children:a.jsx("button",{onClick:h=>{h.stopPropagation(),s(t)},className:"bg-red-600 text-white p-1.5 rounded hover:bg-red-700 transition-colors duration-200",title:"Delete",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),a.jsxs("div",{className:"md:p-4 p-2",children:[a.jsx("h3",{className:"font-semibold theme-text-primary md:text-lg mb-1 truncate",children:t.space_name||t.name||t.title||"Untitled Site Map"}),a.jsx("div",{className:"flex items-center gap-2 mb-2",children:a.jsx("span",{className:"text-xs theme-text-secondary theme-bg-primary px-2 rounded",children:t.category||"Uncategorized"})})]})]})},$3=({onUpload:t})=>a.jsxs("div",{className:"text-center py-12 theme-bg-card rounded-lg border-2 border-dashed theme-border",children:[a.jsx("div",{className:"theme-text-muted mb-3",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),a.jsx("h3",{className:"text-lg font-medium theme-text-primary mb-2",children:"No site maps yet"}),a.jsx("p",{className:"theme-text-secondary text-sm mb-4",children:"Upload site maps to visualize your project"}),a.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"+ Upload your first site map"})]}),q3=({drawing:t,onClose:s})=>{if(!t)return null;const i=f=>{const d=f.files?.[0]||f;let h=d.file_path||d.file_url||"";return h=h.replace(/\\/g,"/"),h&&!h.startsWith("http")?`${pe}/${h}`:h},l=f=>f?new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown date",c=i(t);return a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:s,children:a.jsxs("div",{className:"theme-bg-card rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:f=>f.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-3",children:[a.jsx("h2",{className:"md:text-2xl text-xl font-bold",children:t.drawing_name||t.name}),a.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"h-px bg-gray-500 w-full"}),a.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("img",{src:c,alt:t.drawing_name||t.name,className:"max-w-full max-h-96 object-contain mx-auto rounded-lg",onError:f=>{f.target.style.display="none",f.target.nextSibling.style.display="block"}}),a.jsxs("div",{className:"hidden text-center p-8 border border-dashed border-gray-500 rounded-lg",children:[a.jsx("span",{className:"text-6xl",children:""}),a.jsx("p",{className:"mt-2 text-gray-600",children:"File preview not available"})]})]}),t.description&&a.jsx("div",{className:"mb-2",children:a.jsx("p",{className:"flex theme-text-secondary text-lg whitespace-pre-wrap",children:t.description})}),a.jsx("div",{className:"text-sm text-gray-500",children:l(t.created_at||t.uploaded_at)})]})]})})},Y3=({file:t,onEdit:s,onDelete:i,onClick:l})=>{t.files?.[0];const{showConfirmation:c}=ct(),f=()=>{const g=t.drawing_id||t.id||t.file_id,y=t.drawing_name;if(!g){console.error("No valid ID found for deletion");return}c("Delete Drawing",`Are you sure you want to delete "${y}"? This action cannot be undone`,()=>i(g))},d=g=>{const y=g.files?.[0]||g,v=y.filename||y.drawing_name||"",N=y.file_path||y.file_url||"";return v.match(/\.(jpg|jpeg|png|gif|webp|bmp)$/i)||N.match(/\.(jpg|jpeg|png|gif|webp|bmp)$/i)?"image":v.match(/\.pdf$/i)||N.match(/\.pdf$/i)?"pdf":"other"},h=g=>{const y=g.files?.[0]||g;let v=y.file_path||y.file_url||"";return v=v.replace(/\\/g,"/"),v&&!v.startsWith("http")?`${pe}/${v}`:v},p=g=>g?.includes("image")?"":g?.includes("pdf")?"":"",x=g=>g?new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date";return a.jsxs("div",{className:"theme-border-light rounded-lg overflow-hidden shadow-sm hover:shadow-2xl transition-shadow duration-300 group cursor-pointer",onClick:()=>l&&l(t),children:[a.jsxs("div",{className:"aspect-video bg-gray-100 relative overflow-hidden",children:[d(t)==="image"?a.jsx("img",{src:h(t),alt:t.drawing_name||t.name,className:"w-full h-full object-cover cursor-pointer",onError:g=>{g.target.style.display="none"}}):a.jsx("div",{className:"w-full h-full bg-linear-to-br from-blue-50 to-purple-50 flex items-center justify-center",children:a.jsx("span",{className:"text-4xl",children:p(d(t))})}),a.jsxs("div",{className:"absolute top-2 right-2 md:opacity-0 md:group-hover:opacity-100 opacity-100 transition-opacity duration-200 flex gap-1",children:[a.jsx("button",{onClick:g=>{g.stopPropagation(),s(t)},className:"bg-blue-600 text-white p-1.5 rounded hover:bg-blue-700 transition-colors duration-200",title:"Edit",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:`M11 5H6a2 2 0 00-2 2v11a2 \r
              2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z`})})}),a.jsx("button",{onClick:g=>{g.stopPropagation(),f()},className:"bg-red-600 text-white p-1.5 rounded hover:bg-red-700 transition-colors duration-200",title:"Delete",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),a.jsxs("div",{className:"md:p-4 p-2",children:[a.jsx("h3",{className:"font-semibold theme-text-primary text-lg mb-1 truncate",children:t.drawing_name||t.name||t.filename}),a.jsxs("div",{className:"flex justify-start gap-1 items-center text-xs text-gray-500 mb-2",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",viewBox:"0 0 24 24",children:[a.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),a.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),a.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),a.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]}),a.jsx("span",{className:"mr-2",children:x(t.uploaded_at)}),t.description&&a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"16",height:"16",children:a.jsx("path",{d:"M4 2h12l4 4v16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm12 1.5V6h2.5L16 3.5zM4 4v16h14V8h-4V4H4z"})}),a.jsx("span",{children:"Note"})]})]})]})]})},G3=({drawing:t,spaceId:s,projectId:i,onClose:l,onUpdate:c,drawingId:f,onClick:d})=>{const{showMessage:h,showFailed:p}=ct(),[x,g]=b.useState(),[y,v]=b.useState({name:"",file:null,description:""}),[N,w]=b.useState(!1),[E,C]=b.useState(null),{authFetch:k}=Ye();b.useEffect(()=>()=>{E&&URL.revokeObjectURL(E)},[E]);const A=V=>{const L=V.target.files[0];if(L){v(z=>({...z,file:L}));const U=URL.createObjectURL(L);C(U)}};b.useEffect(()=>{t&&v({name:t.drawing_name||"",file:null,description:t.description||""})},[t]);const D=async V=>{V.preventDefault(),w(!0),g(!0);try{const L=t.drawing_id,U=new FormData;U.append("drawing_id",L),U.append("drawing_name",y.name),U.append("space_id",s),U.append("project_id",i),y.file&&U.append("uploads",y.file),y.description&&U.append("description",y.description);for(let[ce,$]of U.entries())console.log(`   ${ce}:`,$,`(type: ${typeof $})`);const z=await k(`${pe}/drawings/update/drawing/${L}`,{method:"PUT",body:U});if(!z.ok){const ce=await z.text();throw new Error(`Failed to update drawing: ${z.status} - ${ce}`)}const q=await z.json(),te={...t,drawing_name:y.name,description:y.description,...y.file&&{files:[{filename:y.file.name,file_path:y.file.name,file_size:y.file.size,file_type:y.file.type,uploaded_at:new Date().toISOString()}]},updated_at:new Date().toISOString(),...q.new_revision&&{revision:q.new_revision}};c(te),h("Drawing updated successfully!","success"),l()}catch(L){console.error(" Error updating drawing:",L),p("Failed to update drawing: "+L.message)}finally{w(!1),g(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:l,children:a.jsxs("div",{className:"theme-bg-secondary animate-fadeInUp shadow-2xl rounded-lg max-w-md w-full p-6",onClick:V=>V.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Drawing"}),a.jsxs("form",{onSubmit:D,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Drawing Name"}),a.jsx("input",{type:"text",required:!0,value:y.name,onChange:V=>v(L=>({...L,name:V.target.value})),placeholder:"Enter Drawing Name...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"File (Leave empty to keep current file)"}),a.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.dwg",onChange:A,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current file: ",t.files?.[0]?.filename||t.drawing_name]}),t.files?.[0]?.file_path&&a.jsxs("p",{className:"text-xs text-gray-500",children:["File path: ",t.files[0].file_path]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Description"}),a.jsx("textarea",{value:y.description,onChange:V=>v(L=>({...L,description:V.target.value})),placeholder:"Enter Description here",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-600 hover:text-gray-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:N,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:N?"Updating...":"Update Drawing"})]})]})]})}):null},X3=({inspiration:t,spaceId:s,projectId:i,onClose:l,onUpdate:c,onClick:f})=>{const{showMessage:d,showFailed:h}=ct(),[p,x]=b.useState({title:"",description:"",file:null,tags:[]}),[g,y]=b.useState(!1),[v,N]=b.useState(""),[w,E]=b.useState(!1),{authFetch:C}=Ye(),k=["contractor","supplier","service-provider","furniture","paint","tiles","hardware","kitchen","sanitaryware","lighting","glass","interior-design","plumbing","electrical","carpentry"];b.useEffect(()=>{t&&x({title:t.title||t.name||"",description:t.description||"",file:null,tags:t.tags||[]})},[t]);const A=U=>{x(z=>{const q=z.tags||[];return q.includes(U)?{...z,tags:q.filter(te=>te!==U)}:{...z,tags:[...q,U]}})},D=()=>{v.trim()&&!p.tags.includes(v.trim())&&(x(U=>({...U,tags:[...U.tags,v.trim()]})),N(""),E(!1))},V=U=>{x(z=>({...z,tags:z.tags.filter(q=>q!==U)}))},L=async U=>{U.preventDefault(),y(!0);try{const z=new FormData,q=t.inspiration_id||t.isnpiration_id||t.id;if(!q)throw new Error("No inspiration ID found!");z.append("isnpiration_id",q),z.append("title",p.title),z.append("space_id",s),z.append("project_id",i),z.append("description",p.description),z.append("tags",p.tags.join(",")),p.file&&z.append("uploads",p.file);const te=`${pe}/inspiration/update_inspirations/${q}`,ce=new AbortController,$=setTimeout(()=>{ce.abort()},1e4),G=Date.now(),ae=await C(te,{method:"PUT",body:z,signal:ce.signal});clearTimeout($);const ee=Date.now(),de=await ae.text();if(ae.ok){let R;if(de&&de.trim()!=="")try{R=JSON.parse(de)}catch{R={message:de}}else R={message:"Update successful"};const B={...t,inspiration_id:q,isnpiration_id:q,title:p.title,description:p.description,tags:p.tags,updated_at:new Date().toISOString()};c(B),d("Inspiration updated successfully!","success"),l()}else throw new Error(`Server returned ${ae.status}: ${de||"No error message"}`)}catch(z){console.error(" Fetch error:",z),z.name==="AbortError"?h("Request timed out. Please try again."):z.name==="TypeError"?h("Network error. Please check your connection."):h(z.message)}finally{y(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:l,children:a.jsxs("div",{className:"theme-bg-secondary animate-fadeInUp shadow-2xl rounded-lg max-w-md w-full p-6 max-h-[90vh] overflow-y-auto",onClick:U=>U.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Inspiration"}),a.jsxs("form",{onSubmit:L,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Title"}),a.jsx("input",{type:"text",required:!0,value:p.title,onChange:U=>x(z=>({...z,title:U.target.value})),placeholder:"Enter inspiration title...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Image (Leave empty to keep current image)"}),a.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.gif,.webp",onChange:U=>x(z=>({...z,file:U.target.files[0]})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Current file: ",t.filename||t.title]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tags"}),p.tags.length>0&&a.jsx("div",{className:"mb-3",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(U=>a.jsxs("span",{className:"inline-flex items-center gap-1 border border-blue-100 theme-bg-card theme-text-secondary px-2 py-1 rounded-full text-sm",children:[U,a.jsx("button",{type:"button",onClick:()=>V(U),className:"text-blue-600 hover:text-blue-800 text-xs",children:""})]},U))})}),a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Select from predefined tags:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(U=>a.jsx("button",{type:"button",onClick:()=>A(U),className:`px-3 py-1 rounded-full text-sm border ${p.tags.includes(U)?"theme-bg-card theme-text-secondary border-blue-500":"theme-bg-card theme-text-secondary "}`,children:U},U))})]}),a.jsxs("div",{className:"mt-3",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Add custom tag:"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:U=>N(U.target.value),placeholder:"Enter custom tag...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",onKeyPress:U=>U.key==="Enter"&&(U.preventDefault(),D())}),a.jsx("button",{type:"button",onClick:D,className:"theme-bg-card theme-text-secondary border border-dashed px-4 py-2 rounded-lg hover:bg-green-600 text-sm",children:"Add"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:U=>x(z=>({...z,description:U.target.value})),placeholder:"Enter description...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3"})]})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:l,className:"px-4 py-2 text-gray-600 hover:text-gray-500",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:g,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:g?"Updating...":"Update Inspiration"})]})]})]})}):null},K3=({vendor:t,spaceId:s,projectId:i,onClose:l,onClick:c,onUpdate:f})=>{const{showMessage:d,showFailed:h}=ct(),[p,x]=b.useState(0),[g,y]=b.useState({name:"",company_name:"",phone:"",email:"",tags:[],notes:""}),[v,N]=b.useState(""),[w,E]=b.useState(!1),{authFetch:C}=Ye(),k=["supplier","contractor","service-provider","furniture","paint","tiles","hardware","kitchen","sanitaryware","lighting","glass","interior-design","plumbing","electrical","carpentry"];b.useEffect(()=>{if(t){const U={name:t.name||"",company_name:t.company_name||t.name||"",phone:t.phone||"",email:t.email||t.contact||"",tags:t.tags||[],notes:t.notes||""};y(U)}},[t]),b.useEffect(()=>{if(t){const U={name:t.name||"",company_name:t.company_name||t.name||"",phone:t.phone||"",email:t.email||t.contact||"",tags:t.tags||[],notes:t.notes||""};y(U)}},[t]);const A=U=>{y(z=>({...z,tags:z.tags.includes(U)?z.tags.filter(q=>q!==U):[...z.tags,U]}))},D=()=>{v.trim()&&!g.tags.includes(v.trim())&&(y(U=>({...U,tags:[...U.tags,v.trim()]})),N(""))},V=U=>{y(z=>({...z,tags:z.tags.filter(q=>q!==U)}))},L=async U=>{U.preventDefault(),E(!0);try{const z=t.vendor_id||t.id,q=Array.isArray(g.tags)?g.tags.join(", "):g.tags,te={contact_person:g.name,company_name:g.company_name,vendor_email:g.email,contact_number:g.phone,tags:q},ce=await C(`${pe}/vendors/vendors/${z}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});if(ce.ok){x(ae=>ae+1);let $;try{$=await ce.json()}catch{$=await ce.text()}const G={id:z,name:g.company_name,contact:g.email,phone:g.phone,tags:g.tags};f(G),d("Vendor updated successfully!","success")}else{const $=await ce.text();throw console.error("7. Error response:",$),new Error(`Failed to update vendor: ${ce.status} - ${$}`)}}catch(z){console.error("8. Catch block error:",z),h("Failed to update vendor: "+z.message)}finally{E(!1)}};return t?a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:l,children:a.jsxs("div",{className:"theme-bg-secondary animate-fadeInUp shadow-2xl rounded-lg max-w-md w-full p-6",onClick:U=>U.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Vendor"}),a.jsx("form",{onSubmit:L,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Name *"}),a.jsx("input",{type:"text",required:!0,value:g.name,onChange:U=>y(z=>({...z,name:U.target.value})),placeholder:"Vendor name",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Company"}),a.jsx("input",{type:"text",value:g.company_name,onChange:U=>y(z=>({...z,company_name:U.target.value})),placeholder:"Company name",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:g.phone,onChange:U=>y(z=>({...z,phone:U.target.value})),placeholder:"+91 XXXXX XXXXX",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Email"}),a.jsx("input",{type:"email",value:g.email,onChange:U=>y(z=>({...z,email:U.target.value})),placeholder:"vendor@example.com",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:g.tags.map(U=>a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs theme-bg-blue theme-text-blue border border-blue-200",children:[U,a.jsx("button",{type:"button",onClick:()=>V(U),className:"ml-2 hover:text-blue-800",children:""})]},U))}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:k.map(U=>a.jsx("button",{type:"button",onClick:()=>A(U),className:`px-3 py-1 rounded-full text-xs border ${g.tags.includes(U)?"theme-bg-blue theme-text-blue border-blue-200":"theme-bg-secondary theme-text-secondary border-gray-300 hover:border-blue-300"}`,children:U},U))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:v,onChange:U=>N(U.target.value),placeholder:"Add custom tag...",className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary text-sm",onKeyPress:U=>{U.key==="Enter"&&(U.preventDefault(),D())}}),a.jsx("button",{type:"button",onClick:D,className:"px-4 py-2 border border-gray-300 rounded-lg hover:border-blue-500 theme-bg-secondary theme-text-primary text-sm",children:"Add"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Notes"}),a.jsx("textarea",{value:g.notes,onChange:U=>y(z=>({...z,notes:U.target.value})),placeholder:"Additional notes about the vendor...",rows:"3",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary theme-text-primary resize-none"})]}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:l,disabled:w,className:"px-4 py-2 theme-text-secondary hover:theme-text-primary disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:w?"Updating...":"Update Vendor"})]})]})})]})}):null},Z3=({item:t,onEdit:s,onDelete:i,onClick:l})=>a.jsx("div",{className:"rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300 group cursor-pointer bg-white",onClick:()=>l&&l(t),children:a.jsxs("div",{className:"aspect-video bg-gradient-to-br from-blue-200 to-purple-200 relative overflow-hidden",children:[t.tags&&t.tags.length>0&&a.jsxs("div",{className:"absolute top-2 left-2 z-10 flex flex-wrap gap-1 max-w-[70%]",children:[t.tags.slice(0,3).map((c,f)=>a.jsx("span",{className:"bg-gray-500 bg-opacity-70 text-white px-2 py-1 rounded-2xl text-xs font-medium backdrop-blur-sm",children:c},f)),t.tags.length>3&&a.jsxs("span",{className:"bg-gray-500 bg-opacity-70 text-white px-2 py-1 rounded text-xs font-medium backdrop-blur-sm",children:["+",t.tags.length-3]})]}),a.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[a.jsx("img",{src:t.files?.[0]?.file_path?`${pe}/${t.files[0].file_path}`:t.file_url||t.pinterestUrl,alt:t.title||t.name,className:"w-full h-full object-cover transition-transform duration-300 md:group-hover:scale-110"}),a.jsx("div",{className:"absolute inset-0 bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-end",children:a.jsx("div",{className:"w-full p-4 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:a.jsxs("div",{className:" bg-opacity-70 theme-text-secondary p-3 rounded-lg backdrop-blur-sm",children:[a.jsx("h3",{className:"text-gray-700 text-lg line-clamp-1",children:t.title||t.name||"Untitled Inspiration"}),t.description&&a.jsx("p",{className:"text-gray-700 text-sm opacity-90 line-clamp-2",children:t.description})]})})})]}),a.jsxs("div",{className:"absolute top-2 right-2 md:opacity-0 md:group-hover:opacity-100 opacity-100 transition-opacity duration-200 flex gap-1 z-20",children:[a.jsx("button",{onClick:c=>{c.stopPropagation(),s&&s(t)},className:"bg-blue-600 text-white p-1.5 rounded hover:bg-blue-700 transition-colors duration-200",title:"Edit",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:c=>{c.stopPropagation(),i&&i(t.inspiration_id||t.isnpiration_id||t.id)},className:"bg-red-600 text-white p-1.5 rounded hover:bg-red-700 transition-colors duration-200",title:"Delete",children:a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})}),Q3=({vendor:t,onEdit:s,onDelete:i})=>{const l=t.company_name||t.name,c=t.contact_person,f=t.vendor_email||t.contact,d=t.contact_number||t.phone,h=Array.isArray(t.tags)?t.tags.filter(p=>p&&p!=="null"):[];return a.jsx("div",{className:"border theme-bg-primary rounded-lg p-4 hover:shadow-md transition-shadow duration-200 group overflow-x-auto whitespace-nowrap scrollbar-hidden",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold theme-text-primary text-lg mb-1",children:l}),c&&c!=="null"&&a.jsx("p",{className:"text-sm theme-text-secondary mb-1",children:c}),h.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:h.map((p,x)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs theme-bg-blue theme-text-blue border border-blue-200",children:p},x))}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[d&&d!=="null"&&d!=="No phone"&&a.jsxs("a",{href:`tel:${d}`,className:"flex items-center gap-1 theme-text-primary hover:text-blue-600 transition-colors duration-200",onClick:p=>p.stopPropagation(),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 5a2 2 0 012-2h2a2 2 0 012 2v3a2 2 0 01-2 2H5v3a11 11 0 0011 11h3a2 2 0 002-2v-2a2 2 0 00-2-2h-1a2 2 0 01-2-2v-1a2 2 0 012-2h3a2 2 0 012 2v2a5 5 0 01-5 5h-3a13 13 0 01-13-13V5z"})}),d]}),f&&f!=="null"&&a.jsxs("a",{href:`mailto:${f}`,className:"flex items-center gap-1 theme-text-secondary hover:text-blue-600 transition-colors duration-200",onClick:p=>p.stopPropagation(),children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8m0 8a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h14a2 2 0 012 2v8z"})}),f]})]})]}),a.jsxs("div",{className:"flex gap-1 ml-4 md:opacity-0 md:group-hover:opacity-100 opacity-100 transition-opacity duration-200",children:[a.jsx("button",{onClick:()=>s&&s(t),className:"text-blue-600 hover:text-blue-800 p-1.5 rounded hover:bg-blue-50 transition-colors duration-200",title:"Edit",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:()=>i&&i(t.vendor_id||t.id),className:"text-red-600 hover:text-red-800 p-1.5 rounded hover:bg-red-50 transition-colors duration-200",title:"Delete",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})})},I3=({task:t,onToggle:s,onEdit:i,onDelete:l,onFilesOpen:c})=>{const[f,d]=b.useState(!1),h=()=>{d(!f)},p=()=>{s(t.id)},x=v=>{v.preventDefault(),v.stopPropagation(),l(t)},g=v=>{v.preventDefault(),v.stopPropagation(),c&&c(t.files,t.title||t.task_name)},y=v=>{if(!v)return"";try{if(v.includes("T")){const[N,w]=v.split("T");if(N.includes("-")){const E=N.split("-");if(E[0].length===4){const[C,k,A]=E,D=w?w.substring(0,5):"";return D?`${A}-${k}-${C} ${D}`:`${A}-${k}-${C}`}else{const[C,k,A]=E,D=w?w.substring(0,5):"";return D?`${C}-${k}-${A} ${D}`:`${C}-${k}-${A}`}}}return v}catch(N){return console.error("Error formatting date:",N),v}};return a.jsxs("div",{className:`theme-bg-primary overflow-x-auto scrollbar-hidden whitespace-nowrap rounded-lg border border-gray-500 p-4 flex items-center justify-between group hover:shadow-md transition-all duration-200 ${t.completed||t.status==="completed"?"opacity-60 scale-[0.98]":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("button",{onClick:p,className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-200 ${t.completed||t.status==="completed"?"bg-green-500 border-green-500 text-white shadow-sm":"border-gray-300 hover:border-green-500 hover:bg-green-50"}`,children:(t.completed||t.status==="completed")&&a.jsx("svg",{className:"w-3 h-3 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:h,children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`block font-medium theme-text-secondary transition-all duration-200 ${t.completed||t.status==="completed"?"text-gray-400 line-through":"theme-text-primary"}`,children:t.title||t.task_name}),a.jsx("div",{className:"flex items-center gap-2 ml-4",children:a.jsx("span",{className:"theme-bg-secondary px-2 py-1 rounded text-xs",children:t.task_type})})]}),(t.assigned_to||t.location||t.date||t.files)&&a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[t.assigned_to&&t.assigned_to!=="Unassigned"&&a.jsxs("span",{className:`text-xs flex items-center gap-1 ${t.completed||t.status==="completed"?"text-gray-400":"theme-text-secondary"} `,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),t.assigned_to]}),t.location&&a.jsxs("span",{className:`text-xs flex items-center gap-1 ${t.completed||t.status==="completed"?"text-gray-400":"theme-text-secondary"}`,children:[a.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),t.location]}),t.date&&a.jsxs("span",{className:`text-xs flex items-center gap-1 ${t.completed||t.status==="completed"?"text-gray-400":"theme-text-secondary"}`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),y(t.date)]}),t.files&&t.files.length>0&&a.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),g(v)},className:`text-xs flex items-center gap-1 ${t.completed||t.status==="completed"?"text-gray-400":"text-gray-500"} hover:text-blue-500 transition-colors duration-200`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),t.files.length]})]}),t.description&&f&&a.jsx("p",{className:`text-sm theme-bg-secondary theme-text-secondary mt-2 transition-all duration-200 ${t.completed||t.status==="completed"?"text-gray-400":""}`,children:t.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx("span",{className:`text-xs whitespace-nowrap transition-all duration-200 ${t.completed||t.status==="completed"?"text-gray-400":"text-gray-500"}`,children:t.createdAt||t.created_at}),a.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),i(t.id||t.task_id)},className:"text-gray-400 hover:text-blue-500 md:opacity-0 md:group-hover:opacity-100 opacity-100 transition-all duration-200",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),x(v)},className:"text-gray-400 hover:text-red-500 md:opacity-0 md:group-hover:opacity-100 opacity-100 transition-all duration-200",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},Wg=({inspiration:t,onClose:s})=>{if(!t)return null;const i=d=>{if(d.files&&d.files.length>0&&d.files[0].file_path){let h=d.files[0].file_path;return`${pe}/${h}`}return d.pinterest_url||d.url?d.pinterest_url||d.url:""},l=t.source==="pinterest"||t.pinterest_url||t.url&&t.url.includes("pinterest"),c=i(t),f=()=>{if(l){const d=t.pinterest_url||t.url;window.open(d,"_blank")}};return a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:s,children:a.jsx("div",{className:"theme-bg-card shadow-2xl rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:d=>d.stopPropagation(),children:a.jsxs("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[a.jsxs("div",{className:"mb-6 relative",children:[a.jsx("img",{src:c,alt:t.title||t.name,className:"max-w-full max-h-96 object-contain mx-auto rounded-lg",onError:d=>{d.target.style.display="none",d.target.nextSibling.style.display="block"}}),a.jsxs("div",{className:"hidden text-center p-8 bg-gray-100 rounded-lg",children:[a.jsx("span",{className:"text-6xl",children:""}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Image not available"})]}),l&&a.jsx("div",{className:"absolute bottom-4 right-4",children:a.jsxs("button",{onClick:f,className:"bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-red-700 transition-colors duration-200 shadow-lg",title:"Open on Pinterest",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.042-3.441.219-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017 0z"})}),a.jsx("span",{className:"font-medium",children:"View on Pinterest"})]})})]}),a.jsx("h2",{className:"text-md theme-text-primary",children:t.title||t.name||"Untitled Inspiration"}),t.description&&a.jsx("div",{className:"mb-2",children:a.jsx("p",{className:"theme-text-secondary whitespace-pre-wrap",children:t.description})}),t.tags&&t.tags.length>0&&a.jsx("div",{className:"",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((d,h)=>a.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:d},h))})}),a.jsx("div",{className:"flex justify-between items-center text-sm text-gray-500",children:l&&a.jsxs("div",{className:"text-red-600 font-medium",children:[a.jsx("svg",{className:"w-4 h-4 inline mr-1",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.042-3.441.219-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017 0z"})}),"From Pinterest"]})})]})})})},W3=({isOpen:t,onClose:s,onSiteMapsCreated:i,projectId:l,setRefreshTrigger:c})=>{const[f,d]=b.useState([]),[h,p]=b.useState(null),[x,g]=b.useState(!1),[y,v]=b.useState(!1),{showMessage:N}=ct(),{authFetch:w}=Ye(),E=k=>{const A={};return k.forEach(D=>{A[D.preset_id]||(A[D.preset_id]={preset_id:D.preset_id,preset_name:D.preset_name,preset_description:D.preset_description,spaces:[]}),A[D.preset_id].spaces.push(D.space_details.space_name)}),Object.values(A)};b.useEffect(()=>{(async()=>{const D=await(await w(`${pe}/preset/presets`)).json(),V=E(D);d(V)})()},[]);const C=async()=>{if(h){v(!0);try{const k=await w(`${pe}/spaces/projects/${l}/apply-preset`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({preset_id:h.preset_id})}),A=await k.json();k.ok?(N("Preset applied successfully!","success"),c(D=>D+1),A.spaces&&i(A.spaces),s()):N(A.message||"Failed to apply preset","error")}catch(k){console.error("Error applying preset:",k),N("Failed to apply preset","error")}finally{v(!1)}}};return t?a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-[1px]",onClick:s,children:a.jsxs("div",{className:"theme-bg-card rounded-lg shadow-xl w-full max-w-xl animate-fadeInUp",onClick:k=>k.stopPropagation(),children:[a.jsx("div",{className:"px-3 py-3 border-b border-gray-500",children:a.jsx("h2",{className:"text-xl font-semibold theme-text-primary",children:"Choose Preset"})}),a.jsx("div",{className:"px-3 py-3 max-h-96 overflow-y-auto scrollbar-hidden",children:x?a.jsx("p",{className:"text-gray-400",children:"Loading presets..."}):f.map(k=>a.jsxs("div",{className:"mb-6 last:mb-0",children:[a.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${h?.preset_id===k.preset_id?"border-green-500":"border-gray-200 hover:border-gray-300"}`,onClick:()=>p(k),children:[a.jsx("h3",{className:"text-lg font-medium theme-text-primary mb-1",children:k.preset_name}),a.jsx("p",{className:"text-sm theme-text-secondary mb-3",children:k.preset_description||"No description"})]}),a.jsx("div",{className:"flex items-center my-4",children:a.jsx("div",{className:"flex-1 border-t border-gray-500"})})]},k.preset_id))}),a.jsx("div",{className:"px-3 py-3 border-t border-gray-500 theme-bg-secondary rounded-b-lg",children:a.jsxs("div",{className:"flex justify-end gap-4 items-center",children:[a.jsx("button",{onClick:s,disabled:y,className:"px-4 py-2 text-gray-400 hover:text-gray-500 font-medium transition-colors duration-200 disabled:opacity-50",children:"Cancel"}),a.jsx("button",{onClick:C,disabled:!h||y,className:"px-6 py-2 bg-blue-600 text-white font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 hover:bg-blue-700 flex items-center gap-2",children:y?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Loading..."]}):"Apply Preset"})]})})]})}):null},J3=({task:t,spaceId:s,projectId:i,onClose:l,onUpdate:c,isInline:f=!1})=>{const{showMessage:d,showFailed:h}=ct(),[p,x]=b.useState({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:"",status:"pending"}),[g,y]=b.useState(!1),[v,N]=b.useState(!1),[w,E]=b.useState(!1),{authFetch:C}=Ye(),k=b.useRef(null),A=b.useRef(null);b.useEffect(()=>{t&&x({title:t.title||t.task_name||"",description:t.description||"",task_type:t.task_type||"Simple Task",assigned_to:t.assignee||t.assigned_team||t.assigned_vendor||"Unassigned",files:t.files||[],date:t.date||t.due_date||"",location:t.location||"",status:t.status||"pending"})},[t]),b.useEffect(()=>{const ae=ee=>{k.current&&!k.current.contains(ee.target)&&y(!1),A.current&&!A.current.contains(ee.target)&&N(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]);const D=["Simple Task","Site Visits","Meeting","Design Review","Client Meeting","Documentation"],V=["Unassigned","Sarah Johnson","The Martinez Family","TechCorp Inc.","John Doe","Jane Smith","Mike Wilson","Coci"],L=ae=>{const ee=Array.from(ae.target.files);if(p.files.length+ee.length>5){d("Maximum 5 files allowed","error");return}if(ee.filter(R=>R.size>25*1024*1024).length>0){d("Some files exceed 25MB limit. Please select smaller files.","error");return}x({...p,files:[...p.files,...ee]})},U=ae=>{const ee=p.files.filter((de,R)=>R!==ae);x({...p,files:ee})},z=async ae=>{ae.preventDefault(),E(!0);try{const ee=t.id||t.task_id;if(!p.title.trim()){d("Task title is required","error"),E(!1);return}const de=new FormData;de.append("task_name",p.title.trim()),de.append("description",p.description||""),de.append("task_type",p.task_type),p.date&&de.append("date",p.date),p.location&&p.location.trim()&&de.append("location",p.location.trim());const R=[],B=[];p.files.forEach(Q=>{Q instanceof File?(R.push(Q),de.append("uploads",Q)):B.push(Q)});for(let[Q,S]of de.entries())S instanceof File?console.log(`${Q}:`,S.name,`(File: ${S.size} bytes)`):console.log(`${Q}:`,S);const F=await C(`${pe}/tasks/tasks/${ee}`,{method:"PUT",body:de});if(F.ok){const Q=await F.json();c(Q),d("Task updated successfully!","success"),l()}else{const Q=await F.text();throw console.error("DEBUG - Edit error response:",Q),new Error(`Failed to update task: ${F.status}`)}}catch(ee){console.error("Error updating task:",ee),h("Failed to update task: "+ee.message)}finally{E(!1)}},q=ae=>{x({...p,[ae.target.name]:ae.target.value})},te=ae=>{x({...p,task_type:ae,date:ae==="Site Visits"||ae==="Meeting"?p.date:"",location:ae==="Meeting"?p.location:""}),y(!1)},ce=ae=>{x({...p,assigned_to:ae}),N(!1)},$=()=>{y(!g),N(!1)},G=()=>{N(!v),y(!1)};return t?a.jsxs("div",{className:"mb-6 theme-bg-card rounded-lg border border-gray-200 p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold theme-text-primary mb-4",children:"Edit Task"}),a.jsxs("form",{onSubmit:z,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-start",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx("div",{children:a.jsx("input",{type:"text",name:"title",value:p.title,onChange:q,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm",placeholder:"Enter task title",autoFocus:!0})})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(Jg,{value:p.task_type,options:D,isOpen:g,dropdownRef:k,onToggle:$,onSelect:te})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(Jg,{value:p.assigned_to,options:V,isOpen:v,dropdownRef:A,onToggle:G,onSelect:ce})})]}),a.jsx(t5,{task_type:p.task_type,formData:p,handleChange:q}),a.jsx("div",{className:"mt-3",children:a.jsx("div",{children:a.jsx("textarea",{name:"description",value:p.description,onChange:q,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm",placeholder:"Enter task description"})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-start mt-3",children:[a.jsx(e5,{files:p.files,onFileChange:L,onRemoveFile:U}),a.jsx("div",{className:"mt-6",children:a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("button",{type:"button",onClick:l,disabled:w,className:"px-4 py-2 w-full text-gray-600 hover:text-gray-800 font-medium border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:w||!p.title.trim(),className:"px-4 py-2 w-full bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:w?"Updating...":"Update Task"})]})})]})]})]}):null},Jg=({label:t,value:s,options:i,isOpen:l,dropdownRef:c,onToggle:f,onSelect:d})=>a.jsxs("div",{className:"relative",ref:c,children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:t}),a.jsxs("button",{type:"button",onClick:f,className:"w-full flex items-center justify-between p-2 border border-gray-300 rounded-lg theme-bg-card hover:bg-gray-50 transition-colors duration-200 text-sm",children:[a.jsx("span",{className:"truncate",children:s}),a.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&a.jsx("div",{className:"absolute z-20 w-full mt-1 theme-bg-card border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:i.map(h=>a.jsx("button",{type:"button",onClick:()=>d(h),className:`w-full text-left px-3 py-2 hover:bg-gray-100 transition-colors duration-200 text-sm ${s===h?"bg-blue-50 text-blue-600":"theme-text-primary"}`,children:h},h))})]}),e5=({files:t,onFileChange:s,onRemoveFile:i})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Add Files (Max 5 files, 25MB each)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center relative",children:[a.jsx("input",{type:"file",multiple:!0,onChange:s,id:"file-upload",accept:"*/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.jsxs("div",{className:"pointer-events-none",children:[a.jsx("p",{className:"text-blue-600 font-medium text-sm",children:"Click to upload files"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 5 files, 25MB each"})]}),t.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:t.map((l,c)=>a.jsxs("div",{className:"flex items-center justify-between text-xs theme-bg-primary p-2 rounded",children:[a.jsx("span",{className:"truncate flex-1 theme-text-secondary",children:l.name}),a.jsxs("span",{className:"text-gray-500 ml-2",children:["(",(l.size/(1024*1024)).toFixed(2)," MB)"]}),a.jsx("button",{type:"button",onClick:()=>i(c),className:"text-red-500 hover:text-red-700 ml-2",children:""})]},c))})]})]}),t5=({task_type:t,formData:s,handleChange:i})=>{const l=b.useRef(null),c=()=>{l.current&&typeof l.current.showPicker=="function"&&l.current.showPicker()},f=d=>{if(!d)return"";if(d.includes("T"))return d;const h=new Date(d);return isNaN(h.getTime())?"":h.toISOString().slice(0,16)};return t==="Site Visits"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Visit Date & Time"}),a.jsx("input",{type:"datetime-local",name:"date",value:f(s.date),onChange:i,ref:l,onFocus:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm"})]}),a.jsx("div",{})]}):t==="Meeting"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Meeting Date & Time"}),a.jsx("input",{type:"datetime-local",name:"date",value:f(s.date),onChange:i,ref:l,onFocus:c,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Meeting Location"}),a.jsx("input",{type:"text",name:"location",value:s.location||"",onChange:i,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm",placeholder:"Enter meeting location"})]})]}):null},n5=({isOpen:t,onClose:s,onCreate:i,projectId:l,spaceId:c,isInline:f=!1,onCancel:d})=>{const{showMessage:h,showFailed:p,showConfirmation:x}=ct(),[g,y]=b.useState({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:""}),[v,N]=b.useState(!1),[w,E]=b.useState(!1),[C,k]=b.useState(!1),A=b.useRef(null),D=b.useRef(null),{authFetch:V}=Ye();b.useEffect(()=>{const B=F=>{A.current&&!A.current.contains(F.target)&&N(!1),D.current&&!D.current.contains(F.target)&&E(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]);const L=["Simple Task","Site Visits","Meeting","Design Review","Client Meeting","Documentation"],U=["Unassigned","Sarah Johnson","The Martinez Family","TechCorp Inc.","John Doe","Jane Smith","Mike Wilson","Coci"],z=async B=>{if(B.preventDefault(),!g.title.trim()){h("Task title is required","error");return}k(!0);try{const F=new FormData;if(F.append("task_name",g.title.trim()),F.append("description",g.description||""),F.append("task_type",g.task_type),F.append("space_id",String(c)),g.date){const[M,O]=g.date.split("T"),[se,J,ie]=M.split("-"),[fe,Le]=O.split(":"),he=`${ie}-${J}-${se}T${fe}:${Le}`;F.append("date",he),F.append("visit_date",he)}g.location&&g.location.trim()&&F.append("location",g.location.trim()),g.assigned_to&&g.assigned_to!=="Unassigned"&&F.append("assigned_to",g.assigned_to),g.files.forEach(M=>{F.append("uploads",M)});for(let[M,O]of F.entries())O instanceof File?console.log(`${M}:`,O.name,`(File: ${O.size} bytes)`):console.log(`${M}:`,O);const Q=await V(`${pe}/tasks/tasks`,{method:"POST",body:F});if(!Q.ok){let M="Failed to create task";try{const O=await Q.json();M=O.error||O.message||`HTTP ${Q.status}`,console.error("Task creation error details:",O)}catch{M=`HTTP ${Q.status}: ${Q.statusText}`}throw new Error(M)}const S=await Q.json();y({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:""}),i(S,l,c),!f&&s&&s()}catch(F){console.error("Error creating task:",F),p(`Failed to create task: ${F.message}`)}finally{k(!1)}},q=B=>{y({...g,[B.target.name]:B.target.value})},te=B=>{y({...g,task_type:B,date:B==="Site Visits"||B==="Meeting"?g.date:"",location:B==="Meeting"?g.location:""}),N(!1)},ce=B=>{y({...g,assigned_to:B}),E(!1)},$=()=>{N(!v),E(!1)},G=()=>{E(!w),N(!1)},ae=B=>{const F=Array.from(B.target.files);if(g.files.length+F.length>5){h("Maximum 5 files allowed","error");return}if(F.filter(S=>S.size>25*1024*1024).length>0){h("Some files exceed 25MB limit. Please select smaller files.","error");return}y({...g,files:[...g.files,...F]})},ee=B=>{const F=g.files.filter((Q,S)=>S!==B);y({...g,files:F})},de=()=>{y({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:""}),f&&d?d():s&&s()};if(!f&&!t)return null;const R={taskData:g,uploading:C,showtask_typeDropdown:v,showAssigneeDropdown:w,task_typeDropdownRef:A,assigneeDropdownRef:D,task_typeOptions:L,assigneeOptions:U,handleChange:q,handleSubmit:z,handletask_typeSelect:te,handleAssigneeSelect:ce,toggletask_typeDropdown:$,toggleAssigneeDropdown:G,handleFileChange:ae,removeFile:ee,handleCancel:de,isInline:f};return f?a.jsx("div",{className:"mb-6 theme-bg-card rounded-lg border border-gray-200 p-4 shadow-sm",children:a.jsx(rx,{...R})}):a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-80 backdrop-blur-[1px]",onClick:s}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md mx-4 border border-gray-200 flex flex-col max-h-[80vh]",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold  theme-text-primary",children:"Create New Task"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none",children:""})]}),a.jsx(rx,{...R})]})]})},ex=({label:t,name:s,value:i,onChange:l,required:c,placeholder:f,isInline:d,autoFocus:h})=>a.jsxs("div",{children:[a.jsxs("label",{className:`block text-sm font-medium ${d?"theme-text-secondary":"theme-text-primary"} mb-${d?"1":"2"}`,children:[t," ",c&&a.jsx("span",{className:"text-red-500"})]}),a.jsx("input",{type:"text",name:s,value:i,onChange:l,required:c,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${d?"text-sm":""}`,placeholder:f,autoFocus:h})]}),Xl=({label:t,value:s,options:i,isOpen:l,dropdownRef:c,onToggle:f,onSelect:d,isInline:h})=>a.jsxs("div",{className:"relative",ref:c,children:[a.jsx("label",{className:`block text-sm font-medium ${h?"theme-text-secondary":"text-gray-700"} mb-${h?"1":"2"}`,children:t}),a.jsxs("button",{type:"button",onClick:f,className:`w-full flex items-center justify-between p-${h?"2":"3"} border border-gray-300 rounded-lg ${h?"theme-bg-card hover:bg-gray-50":"bg-white hover:bg-gray-50"} transition-colors duration-200 ${h?"text-sm":""}`,children:[a.jsx("span",{className:h?"text-gray-500 truncate":"text-gray-700",children:s}),a.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&a.jsx("div",{className:`absolute z-20 w-full mt-1 ${h?"theme-bg-card":"bg-white"} border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto scrollbar-hidden`,children:i.map(p=>a.jsx("button",{type:"button",onClick:()=>d(p),className:`w-full text-left px-${h?"3":"4"} py-2 hover:bg-gray-500 transition-colors duration-200 text-sm ${s===p?"bg-blue-50 text-blue-600":h?"theme-text-primary":"text-gray-700"}`,children:p},p))})]}),tx=({label:t,name:s,value:i,onChange:l,placeholder:c,isInline:f})=>a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${f?"theme-text-secondary":"text-gray-700"} mb-${f?"1":"2"}`,children:t}),a.jsx("textarea",{name:s,value:i,onChange:l,rows:3,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${f?"text-sm":""}`,placeholder:c})]}),nx=({files:t,onFileChange:s,onRemoveFile:i,isInline:l})=>a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`,children:"Add Files (Max 5 files, 25MB each)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center relative",children:[a.jsx("input",{type:"file",multiple:!0,onChange:s,id:"file-upload",accept:"*/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.jsxs("div",{className:"pointer-events-none",children:[a.jsx("p",{className:"text-blue-600 font-medium text-sm",children:"Click to upload files"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 5 files, 25MB each"})]}),t.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:t.map((c,f)=>a.jsxs("div",{className:"flex items-center justify-between text-xs theme-bg-primary p-2 rounded",children:[a.jsx("span",{className:"truncate flex-1 theme-text-secondary",children:c.name}),a.jsxs("span",{className:"text-gray-500 ml-2",children:["(",(c.size/(1024*1024)).toFixed(2)," MB)"]}),a.jsx("button",{type:"button",onClick:()=>i(f),className:"text-red-500 hover:text-red-700 ml-2",children:""})]},f))})]})]}),sx=({uploading:t,onCancel:s,taskTitle:i,isInline:l})=>a.jsxs("div",{className:`flex items-end mt-10 gap-2 ${l?"":"p-4 border-t border-gray-100 bg-white flex justify-end space-x-3 mt-6"}`,children:[a.jsx("button",{type:"button",onClick:s,disabled:t,className:`px-${l?"3":"4"} py-2 text-gray-600 hover:text-gray-800 font-medium ${l?"border border-gray-300 rounded-lg hover:bg-gray-50":""} transition-colors duration-200 disabled:opacity-50 ${l?"flex-1":""}`,children:"Cancel"}),a.jsx("button",{type:"submit",disabled:t||!i.trim(),className:`px-${l?"3":"4"} py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${l?"flex-1":""}`,children:t?"Creating...":"Add Task"})]}),ax=({task_type:t,taskData:s,handleChange:i,isInline:l})=>{const c=b.useRef(null),f=()=>{c.current&&typeof c.current.showPicker=="function"&&c.current.showPicker()};return t==="Site Visits"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`}),a.jsx("input",{type:"datetime-local",name:"date",value:s.date,onChange:i,ref:c,onFocus:f,required:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${l?"text-sm":""}`})]}),a.jsx("div",{})]}):t==="Meeting"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`}),a.jsx("input",{type:"datetime-local",name:"date",value:s.date,onChange:i,ref:c,onFocus:f,required:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${l?"text-sm":""}`})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${l?"theme-text-secondary":"text-gray-700"} mb-${l?"1":"2"}`}),a.jsx("input",{type:"text",name:"location",value:s.location,onChange:i,required:!0,className:`w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 ${l?"text-sm":""}`,placeholder:"Enter meeting location"})]})]}):null},rx=t=>{const{isInline:s,taskData:i,uploading:l,showtask_typeDropdown:c,showAssigneeDropdown:f}=t;return a.jsxs("form",{onSubmit:t.handleSubmit,className:s?"":"p-6 overflow-y-auto scrollbar-hidden flex-1",children:[!s&&a.jsx("div",{className:"mb-6",children:a.jsx("h3",{className:"text-lg font-semibold theme-text-primary mb-4",children:"Task Details"})}),a.jsx("div",{className:"space-y-4",children:s?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-start",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx(ex,{name:"title",value:i.title,onChange:t.handleChange,required:!0,placeholder:"Enter task title",isInline:!0,autoFocus:!0})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(Xl,{value:i.task_type,options:t.task_typeOptions,isOpen:c,dropdownRef:t.task_typeDropdownRef,onToggle:t.toggletask_typeDropdown,onSelect:t.handletask_typeSelect,isInline:!0})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(Xl,{value:i.assigned_to,options:t.assigneeOptions,isOpen:f,dropdownRef:t.assigneeDropdownRef,onToggle:t.toggleAssigneeDropdown,onSelect:t.handleAssigneeSelect,isInline:!0})})]}),a.jsx(ax,{task_type:i.task_type,taskData:i,handleChange:t.handleChange,isInline:!0}),a.jsx("div",{children:a.jsx(tx,{name:"description",value:i.description,onChange:t.handleChange,placeholder:"Enter task description",isInline:!0})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-start",children:[a.jsx(nx,{files:i.files,onFileChange:t.handleFileChange,onRemoveFile:t.removeFile,isInline:!0}),a.jsx(sx,{uploading:l,onCancel:t.handleCancel,taskTitle:i.title,isInline:!0})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(ex,{label:"Task title",name:"title",value:i.title,onChange:t.handleChange,required:!0,placeholder:"Enter task title",isInline:!1}),a.jsx(Xl,{label:"Task Type",value:i.task_type,options:t.task_typeOptions,isOpen:c,dropdownRef:t.task_typeDropdownRef,onToggle:t.toggletask_typeDropdown,onSelect:t.handletask_typeSelect,isInline:!1}),a.jsx(Xl,{label:"Assigned to",value:i.assigned_to,options:t.assigneeOptions,isOpen:f,dropdownRef:t.assigneeDropdownRef,onToggle:t.toggleAssigneeDropdown,onSelect:t.handleAssigneeSelect,isInline:!1}),a.jsx(tx,{label:"Description",name:"description",value:i.description,onChange:t.handleChange,placeholder:"Enter task description",isInline:!1}),a.jsx(ax,{task_type:i.task_type,taskData:i,handleChange:t.handleChange,isInline:!1}),a.jsx(nx,{files:i.files,onFileChange:t.handleFileChange,onRemoveFile:t.removeFile,isInline:!1})]})}),!s&&a.jsx(sx,{uploading:l,onCancel:t.handleCancel,taskTitle:i.title,isInline:!1})]})},s5=({board:t,posts:s,loadingBoard:i,boardError:l,onClose:c,onImageClick:f,fetchBoardPosts:d,selectedBoard:h})=>t?a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",onClick:c,children:a.jsxs("div",{className:"theme-bg-card shadow-2xl rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden",onClick:p=>p.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold theme-text-primary",children:t.title||"Pinterest Board"}),a.jsx("p",{className:"theme-text-secondary mt-1",children:i?"Loading pins...":`${s.length} pins`})]}),a.jsx("button",{onClick:c,className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:i?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(8)].map((p,x)=>a.jsx("div",{className:"bg-gray-200 rounded-lg aspect-square animate-pulse"},x))}):l?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-red-500 font-medium",children:l}),a.jsx("button",{onClick:()=>d(h),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]}):s.length===0?a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"theme-text-secondary",children:"This board doesn't contain any pins."})}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map((p,x)=>a.jsxs("div",{className:"relative group cursor-pointer overflow-hidden rounded-lg aspect-square",onClick:()=>f(p),children:[a.jsx("img",{src:p.imageUrl||p.url,alt:p.description||`Pin ${x+1}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-30 transition-all duration-300 flex items-end",children:a.jsx("div",{className:"w-full p-3 transform translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:a.jsx("div",{className:"bg-black bg-opacity-70 text-white p-2 rounded text-sm line-clamp-2",children:p.description||`Pin ${x+1}`})})})]},p.id||x))})})]})}):null,a5=({projectId:t,siteMaps:s=[]})=>{const[i,l]=b.useState(!1),[c,f]=b.useState(s),[d,h]=b.useState(!1),[p,x]=b.useState(null),[g,y]=b.useState(()=>localStorage.getItem("activeTab")||"Drawings");b.useEffect(()=>{localStorage.setItem("activeTab",g)},[g]);const[v,N]=b.useState(),[w,E]=b.useState(!1),[C,k]=b.useState(!1),[A,D]=b.useState(),[V,L]=b.useState(0),{authFetch:U}=Ye(),z=b.useRef(null),{showConfirmation:q,showMessage:te,showFailed:ce}=ct(),$=["Drawings","Vendors","Inspiration","Tasks"];b.useEffect(()=>{t&&(async()=>{try{const Q=await U(`${pe}/spaces/get/project/${t}`);if(Q.ok){const M=(await Q.json()).filter(O=>(O.project_id||O.projectId)?.toString()===t);f(M)}else{console.error("Fetch failed with status:",Q.status);try{const S=await Q.json();console.error("Fetch error details:",S)}catch{const M=await Q.text();console.error("Fetch error text:",M)}}}catch(Q){console.error("Network error fetching site maps:",Q)}})()},[t,V]),b.useEffect(()=>{const F=Q=>{z.current&&!z.current.contains(Q.target)&&k(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]);const G=F=>{x(F),y("Drawings")},ae=()=>{x(null),y("Drawings")},ee=async F=>{l(!0),D(!0);const Q=`temp_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,S={id:Q,space_name:F.name||F.space_name||"Untitled Space",category:F.category||"general",project_id:t,created_at:new Date().toISOString(),isOptimistic:!0,status:"uploading"};try{f(se=>[S,...se]);const M=new FormData;M.append("space_name",F.name||F.space_name||"Untitled Space"),M.append("category",F.category||"general"),M.append("project_id",t);for(let[se,J]of M.entries())console.log(`${se}:`,J);const O=await U(`${pe}/spaces/post`,{method:"POST",body:M});if(O.ok){const se=await O.json();f(J=>J.map(ie=>ie.id===Q?{...se,status:"success"}:ie)),h(!1),te("Site map uploaded successfully!","success"),setTimeout(()=>{f(J=>J.map(ie=>ie.id===se.id?{...ie,status:void 0,isOptimistic:void 0}:ie))},1e3)}else{f(J=>J.map(ie=>ie.id===Q?{...ie,status:"error"}:ie));let se=`Upload failed: ${O.status}`;try{const J=await O.json();se+=` - ${JSON.stringify(J)}`,console.error("Upload error details:",J)}catch{const ie=await O.text();se+=` - ${ie}`,console.error("Upload error text:",ie)}throw new Error(se)}}catch(M){console.error("Upload error:",M),f(O=>O.map(se=>se.id===Q?{...se,status:"error"}:se)),setTimeout(()=>{f(O=>O.filter(se=>se.id!==Q))},3e3)}finally{l(!1),D(!1)}},de=async F=>{q("Delete Site Map","Are you sure you want to delete site map? This action cannot be undone.",async()=>{try{const Q=F.space_id||F.id,S=await U(`${pe}/spaces/delete/${Q}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(S.ok)f(M=>M.filter(O=>O.space_id!==Q)),te("Site map deleted successfully!","success");else{const M=await S.text();let O=`Delete failed: ${S.status}`;try{const se=JSON.parse(M);O+=` - ${JSON.stringify(se)}`,console.error("Delete error details:",se)}catch{O+=` - ${M}`,console.error("Delete error text:",M)}throw new Error(O)}}catch(Q){console.error("Error deleting site map:",Q),ce("Failed to delete site map: "+Q.message)}})},R=F=>{v("siteMap")},B=F=>{f(Q=>[...Q,...F])};return a.jsxs("div",{className:"theme-bg-secondary rounded-lg md:p-6 p-2 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"md:text-2xl text-xl font-semibold theme-text-primary",children:"Site Maps"}),a.jsx("p",{className:"theme-text-secondary mt-1",children:p?"Site Map Details":`${c?.length||0} site maps`})]}),!p&&a.jsxs("div",{ref:z,className:"relative",children:[a.jsx("button",{onClick:()=>k(!C),className:"p-2 rounded-lg theme-border theme-text-primary theme-bg-secondary border hover:opacity-80 transition-all duration-200",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),C&&a.jsx("div",{className:"animate-fadeInUp absolute right-0 top-12 mt-2 w-48 rounded-lg theme-border theme-bg-card border theme-shadow z-50",children:a.jsxs("div",{className:"p-2",children:[a.jsxs("button",{onClick:()=>{E(!0),k(!1)},className:"w-full px-3 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),"Bulk Preset"]}),a.jsxs("button",{onClick:()=>{h(!0),k(!1)},disabled:i,className:"w-full px-3 py-2 rounded-md text-left flex items-center gap-3 theme-text-primary hover:theme-bg-hover transition-all duration-200 disabled:opacity-50",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Upload Site Map"]})]})})]})]}),a.jsx("div",{className:`${p?"hidden":"block"}`,children:c?.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6 overflow-y-auto max-h-[calc(100vh-200px)] scrollbar-hidden",children:c.map(F=>a.jsx(H3,{siteMap:F,onDelete:de,onEdit:R,onClick:G},F.space_id||F.id||`sitemap-${F.name}`))}):a.jsx($3,{onUpload:()=>h(!0)})}),p&&a.jsx("div",{className:"theme-bg-card rounded-lg border theme-border p-3 md:p-6",children:a.jsx(r5,{siteMap:p,onClose:ae,tabs:$,projectId:t,activeTab:g,onTabChange:y})}),w&&a.jsx(W3,{isOpen:w,onClose:()=>E(!1),onSiteMapsCreated:B,projectId:t,setRefreshTrigger:L}),d&&a.jsx(P3,{onClose:()=>h(!1),onSubmit:ee,isUploading:i})]})},r5=({siteMap:t,onClose:s,tabs:i,activeTab:l,onTabChange:c})=>{const[f,d]=b.useState([]),[h,p]=b.useState([]),[x,g]=b.useState([]),[y,v]=b.useState({vendors:!1,tasks:!1,drawings:!1,inspiration:!1}),[N,w]=b.useState(!1),[E,C]=b.useState(!1),[k,A]=b.useState(!1),[D,V]=b.useState(!1),[L,U]=b.useState(0),[z,q]=b.useState([]),[te,ce]=b.useState(0),[$,G]=b.useState(),[ae,ee]=b.useState(),[de,R]=b.useState(),[B,F]=b.useState(),[Q,S]=b.useState(null),[M,O]=b.useState(null),[se,J]=b.useState(0),[ie,fe]=b.useState(null),[Le,he]=b.useState([]),[Re,ut]=b.useState(!1),[xt,rt]=b.useState(null),[wt,en]=b.useState(1),[Ai,ir]=b.useState(!0),{authFetch:Qe}=Ye(),{showConfirmation:Gt,showMessage:W,showFailed:be}=ct(),Ce=ne=>{const ue=ne.pinterestUrl&&(ne.pinterestUrl.includes("/board/")||ne.isBoard||ne.type==="pinterest_board")?"board":ne.pinterestUrl&&(ne.pinterestUrl.includes("/pin/")||ne.type==="pinterest_pin")?"pin":ne.files&&ne.files.length>0?"image":"unknown";ue==="board"?(fe(ne),As(ne)):ue==="pin"||ue==="image"?O(ne):console.warn("Unknown Pinterest item type:",ne)},Be=()=>{O(null)},Ie=ne=>{S(ne)},ze=()=>{S(null)},pn=ne=>{const ue=x.find(me=>me.id===ne||me.task_id===ne);ue&&F(ue)},_t=async ne=>{const ue=x.find(ge=>ge.id===ne),me=ue?.task_name||ue?.task_title||ue?.title||ue?.name||"this task";Gt("Delete Task",`Are you sure you want to delete "${me}"? This action cannot be undone.`,async()=>{try{const ge=await Qe(`${pe}/tasks/tasks/${ne}`,{method:"DELETE"});if(ge.ok)g(Ae=>Ae.filter(ve=>ve.id!==ne)),W(`Task "${me}" deleted successfully!`,"success");else{const Ae=await ge.text();throw new Error(`Failed to delete task: ${Ae}`)}}catch(ge){console.error("Error deleting task:",ge),W("Failed to delete task: "+ge.message,"error")}})},Rt=ne=>{G(ne)},Nn=async ne=>{try{const ue=await Qe(`${pe}/drawings/delete/${ne}`,{method:"DELETE"});if(ue.ok)d(me=>me.filter(ge=>ge.drawing_id!==ne)),W("Drawing deleted successfully!","success");else{const me=await ue.text();throw new Error(`Failed to delete drawing: ${me}`)}}catch(ue){console.error("Error deleting drawing:",ue),be("Failed to delete drawing: "+ue.message)}},Lt=ne=>{ee(ne)},So=ne=>{p(ue=>ue.map(ge=>ge.id===ne.id?ne:ge)),ee(null)},Co=async ne=>{const ue=h.find(ge=>ge.id===ne),me=ue?.vendor_name||ue?.vendorname||ue?.company_name||ue?.name||"Fallback";Gt("Delete Vendor",`Are you sure you want to delete "${me}"? This action cannot be undone`,async()=>{try{const ge=await Qe(`${pe}/vendors/del_vendors/${ne}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(ge.ok)p(Ae=>Ae.filter(ve=>ve.id!==ne)),W("Vendor deleted successfully!","success");else{const Ae=await ge.text();throw new Error(`Failed to delete vendor: ${Ae}`)}}catch(ge){console.error("Error deleting vendor:",ge),be("Failed to delete vendor: "+ge.message)}})},To=ne=>{console.log("Edit inspiration:",ne),R(ne)},na=async(ne,ue)=>{const me=ue?.title||ue?.name||ue?.filename||"this inspiration";Gt("Delete Inspiration",`Are you sure you want to delete "${me}"? This action cannot be undone`,async()=>{try{const ge=Array.isArray(z)?[...z]:[];q(ve=>Array.isArray(ve)?ve.filter(Ot=>Ot.id!==ne):ve);const Ae=await Qe(`${pe}/inspiration/del_inspirations/${ne}`,{method:"DELETE"});if(Ae.ok)W(`Inspiration "${me}" deleted successfully!`,"success"),ce(ve=>ve+1);else{const ve=await Ae.text();throw new Error(`Failed to delete inspiration: ${ve}`)}}catch(ge){console.error("Error deleting inspiration:",ge),q(originalData),be("Failed to delete inspiration: "+ge.message)}})},sa=ne=>ne.pinterestUrl?.includes("/pin/")||ne.type==="pinterest_pin"?{id:ne.id||ne.pin_id,title:ne.description||"Untitled Pin",description:ne.description||"",file_url:ne.media?.image_cover_url||ne.url,tags:ne.tags||[],pinterestUrl:ne.pinterestUrl,isBoard:!1,type:"pinterest_pin",space_id:ne.space_id||it}:ne,it=t.space_id||t.id;b.useEffect(()=>{(async ue=>{if(l==="Vendors"){if(!ue){console.error(" BLOCKED: spaceId is invalid"),p([]),v(me=>({...me,vendors:!1}));return}v(me=>({...me,vendors:!0}));try{const me=`${pe}/vendors/vendors/space/${ue}`,ge=await Qe(me);if(ge&&ge.ok){const Ae=await ge.json();let ve=[];Array.isArray(Ae)?ve=Ae:Ae&&Array.isArray(Ae.data)?ve=Ae.data:Ae&&Array.isArray(Ae.vendors)?ve=Ae.vendors:Ae&&typeof Ae=="object"?ve=Object.values(Ae):ve=[];const Ot=ve.map(tn=>({id:tn.vendor_id||tn.id,vendor_id:tn.vendor_id||tn.id,name:tn.company_name||"Unnamed Vendor",contact:tn.vendor_email||"No contact",phone:tn.contact_number||"No phone",space_id:tn.space_id,tags:tn.tags||[]}));p(Ot)}else console.error(" Vendors API failed with status:",ge.status),p([])}catch(me){console.error(" Error fetching vendors:",me),p([])}finally{v(me=>({...me,vendors:!1}))}}})(it)},[l,it]),b.useEffect(()=>{l==="Drawings"&&(async()=>{if(l==="Drawings"){v(ue=>({...ue,drawings:!0}));try{const ue=await Qe(`${pe}/drawings/get/space/${it}`);if(ue.ok){const me=await ue.json();let ge=[];Array.isArray(me)?ge=me:me&&Array.isArray(me.data)?ge=me.data:me&&Array.isArray(me.drawings)?ge=me.drawings:ge=[];const Ae=ge.filter(ve=>ve.space_id===it);d(Ae)}else d([])}catch(ue){console.error("Error fetching drawings:",ue),d([])}finally{v(ue=>({...ue,drawings:!1}))}}})()},[l,it,L]),b.useEffect(()=>{l==="Inspiration"&&(async()=>{if(l==="Inspiration"&&it){v(ue=>({...ue,inspiration:!0}));try{const ue=await Qe(`${pe}/inspiration/get/space/${it}`);if(ue.ok){const me=await ue.json();let ge=[];Array.isArray(me)?ge=me:me&&Array.isArray(me.data)?ge=me.data:me&&Array.isArray(me.inspiration)?ge=me.inspiration:ge=[];const Ae=ge.filter(ve=>ve.space_id===it).map(sa);q(Ae)}else q([])}catch(ue){console.error("Error fetching inspiration:",ue),q([])}finally{v(ue=>({...ue,inspiration:!1}))}}})()},[l,it,te]);const aa=ne=>{ne.isOptimistic?d(ue=>[ne,...ue]):ne.status==="success"?d(ue=>ue.map(me=>me.isOptimistic&&me.id===ne.tempId?{...ne,status:void 0,isOptimistic:void 0}:me)):ne.status==="error"?(d(ue=>ue.map(me=>me.isOptimistic&&me.id===ne.id?{...me,status:"error"}:me)),setTimeout(()=>{d(ue=>ue.filter(me=>me.id!==ne.id))},3e3)):d(ue=>[ne,...ue])},As=async(ne,ue=!1)=>{if(!ne)return;ut(!0),rt("");const me=ko(ne.pinterestUrl);try{const Ae=await Qe(`${pe}/pinterest/boards/${me}/posts?page=${ue?1:wt}`);if(!Ae.ok)throw new Error(`Failed to fetch board posts: ${Ae.status}`);const ve=await Ae.json();ue?(he(ve),en(2)):(he(Ot=>[...Ot,...ve]),en(Ot=>Ot+1)),ir(ve.length>0)}catch(ge){console.error("Error fetching board posts:",ge),rt(ge.message||"Failed to fetch board posts")}finally{ut(!1)}},ko=ne=>{if(!ne)return null;const ue=ne.match(/boards\/(\d+)/);if(ue)return ue[1];const me=ne.match(/pinterest\.com\/([^/]+\/[^/]+)/);return me?me[1]:null};b.useEffect(()=>{l==="Tasks"&&(async()=>{if(l==="Tasks"&&it){v(ue=>({...ue,tasks:!0}));try{const ue=await Qe(`${pe}/tasks/tasks/space/${it}`);if(ue.ok){const me=await ue.json();let ge=[];Array.isArray(me)?ge=me:me&&Array.isArray(me.data)?ge=me.data:me&&Array.isArray(me.tasks)?ge=me.tasks:ge=[];const Ae=ge.map(ve=>({id:ve.id||ve.task_id,task_id:ve.task_id||ve.id,title:ve.title||ve.task_name||"Untitled Task",task_name:ve.task_name||ve.title||"Untitled Task",description:ve.description||"",status:ve.status||"pending",due_date:ve.due_date||ve.dueDate,assigned_to:ve.assigned_to||ve.assigned_team||ve.assigned_vendor||"Unassigned",location:ve.location||"",task_type:ve.task_type||"General"}));g(Ae)}else g([])}catch(ue){console.error("Error fetching tasks:",ue),g([])}finally{v(ue=>({...ue,tasks:!1}))}}})()},[l,it]);const Di=async ne=>{try{const ue=x.find(ve=>ve.id===ne);if(!ue){console.error("Task not found:",ne);return}const me=ue.status==="completed"?"pending":"completed";g(ve=>ve.map(Ot=>Ot.id===ne?{...Ot,status:me}:Ot));const ge=new FormData;ge.append("status",me);const Ae=await Qe(`${pe}/tasks/tasks/${ne}`,{method:"PUT",body:ge});Ae.ok||console.error("API update failed with status:",Ae.status)}catch(ue){console.error("Error updating task:",ue)}},Mi=[...x].sort((ne,ue)=>ne.status==="completed"&&ue.status!=="completed"?1:ne.status!=="completed"&&ue.status==="completed"?-1:0);return a.jsxs("div",{className:"theme-bg-secondary text-sm md:text-l rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center pb-4 border-b",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-md md:text-2xl font-bold theme-text-primary",children:t.space_name||t.name||t.title||"Untitled Site Map"}),a.jsx("p",{className:"theme-text-secondary mt-1",children:t.category||"Uncategorized"})]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors duration-200 p-2",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"border-b",children:a.jsx("div",{className:"flex space-x-8 overflow-x-auto whitespace-nowrap scrollbar-hidden",children:i.map(ne=>a.jsx("button",{onClick:()=>c(ne),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${l===ne?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:ne},ne))})}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsxs("button",{onClick:()=>{l==="Drawings"&&w(!0),l==="Vendors"&&C(!0),l==="Inspiration"&&A(!0),l==="Tasks"&&V(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add ",l==="Tasks"?"Task":l.slice()]})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("div",{className:`overflow-y-auto max-h-[calc(100vh-200px)] scrollbar-hidden ${l==="Drawings"?"block":"hidden"}`,children:y.drawings&&f.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading drawings..."})]}):f.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:f.map(ne=>a.jsx(Y3,{drawings:f,file:ne,onEdit:Rt,onDelete:Nn,onClick:Ie,isOptimistic:ne.isOptimistic,status:ne.status},ne.drawing_id||ne.id))}):a.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx("div",{className:"text-gray-400 mb-3",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),a.jsx("h3",{className:"text-lg font-medium theme-text-secondary mb-2",children:"No drawings yet"}),a.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-700 text-sm mb-4",children:"+ Add your first Drawing to get started"})]})}),Q&&a.jsx(q3,{drawing:Q,onClose:ze}),l==="Vendors"&&a.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)] scrollbar-hidden",children:y.vendors?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading vendors..."})]}):h.length>0?a.jsx("div",{className:"space-y-4",children:h.map(ne=>a.jsx(Q3,{vendor:ne,onEdit:Lt,onDelete:Co},ne.id))}):a.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx("div",{className:"text-gray-400 mb-3",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),a.jsx("h3",{className:"text-lg font-medium theme-text-secondary mb-2",children:"No vendors yet"}),a.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-md",onClick:C,children:"+ Add your first vendor to get started"})]})}),l==="Inspiration"&&a.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)] scrollbar-hidden",children:y.inspiration?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((ne,ue)=>a.jsx("div",{className:"rounded-lg overflow-hidden bg-gray-200 animate-pulse aspect-video"},ue))}):z.length>0?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(ne=>a.jsx(Z3,{item:ne,onEdit:To,onDelete:na,onClick:Ce},ne.inspiration_id||ne.id))}):a.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx("div",{className:"text-gray-400 mb-3",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("h3",{className:"text-lg font-medium theme-text-secondary mb-2",children:"No inspiration yet"}),a.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-md",onClick:A,children:"+ Add your first inspiration image to get started"})]})}),M&&a.jsx(Wg,{inspiration:M,onClose:Be}),ie&&a.jsx(s5,{board:ie,posts:Le,loading:Re,onClose:()=>fe(null),onImageClick:ne=>{const ue={...ne,title:ne.description||"Pinterest Pin",pinterest_url:ne.pinUrl||ne.url};O(ue),fe(null)}}),l==="Tasks"&&a.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)] scrollbar-hidden",children:y.tasks?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading tasks..."})]}):a.jsxs("div",{className:"space-y-3",children:[D&&a.jsx(n5,{isOpen:D,spaceId:t.id||t.space_id,projectId:t.project_id,isInline:!0,onClose:()=>V(!1),onCancel:()=>V(!1),onCreate:ne=>{g(ue=>[...ue,ne]),V(!1)}}),x.length>0?Mi.map(ne=>a.jsx("div",{children:B&&B.id===ne.id?a.jsx(J3,{task:B,spaceId:t?.space_id||t?.id,projectId:t?.project_id,isInline:!0,onClose:()=>F(null),onUpdate:ue=>{g(me=>me.map(ge=>ge.id===ue.id||ge.task_id===ue.task_id?ue:ge)),F(null)}}):a.jsx(I3,{task:ne,onToggle:()=>Di(ne.id),onEdit:pn,onDelete:_t})},ne.id)):D?null:a.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx("div",{className:"text-gray-400 mb-3",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No tasks yet"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Add your first task to get started"})]})]})}),M&&a.jsx(Wg,{inspiration:M,onClose:Be})]}),N&&a.jsx(F3,{spaceId:t.id||t.space_id,projectId:t.project_id,onClose:()=>w(!1),onAdd:aa}),E&&a.jsx(z3,{spaceId:t.id||t.space_id,projectId:t.project_id,onClose:()=>C(!1),onAdd:ne=>{p(ue=>[...ue,ne]),C(!1)}}),k&&a.jsx(V3,{spaceId:t.id||t.space_id,projectId:t.project_id,onClose:()=>A(!1),onAdd:ne=>{q(ue=>[...ue,ne]),ce(ue=>ue+1),A(!1)}}),$&&a.jsx(a.Fragment,{children:a.jsx(G3,{drawing:$,spaceId:$?.space_id,projectId:t?.project_id,onClose:()=>G(null),onUpdate:ne=>{console.log(" Parent: Received updated drawing:",ne),console.log(" Parent: Current drawings before update:",f),d(ue=>{const me=ue.map(ge=>ge.drawing_id===ne.drawing_id?ne:ge);return console.log(" Parent: Drawings after update:",me),me}),G(null)}})}),ae&&a.jsx(K3,{vendor:ae,spaceId:t?.space_id||t?.id,projectId:t?.project_id,onClose:()=>ee(null),onUpdate:So}),de&&a.jsx(X3,{inspiration:de,spaceId:t?.space_id||space.id,projectId:t?.project_id,onClose:()=>R(null),onUpdate:ne=>{q(ue=>ue.map(me=>me.inspiration_id===ne.inspiration_id?ne:me)),R(null)}})]})},i5=({task:t,spaceId:s,projectId:i,onClose:l,onUpdate:c,isInline:f=!1})=>{const{showMessage:d,showFailed:h}=ct(),[p,x]=b.useState(0),[g,y]=b.useState({title:"",description:"",task_type:"Simple Task",assigned_to:"Unassigned",files:[],date:"",location:"",status:"pending"}),[v,N]=b.useState(!1),[w,E]=b.useState(!1),[C,k]=b.useState(!1),{authFetch:A}=Ye(),D=b.useRef(null),V=b.useRef(null);b.useEffect(()=>{t&&y(R=>({...R,title:t.title||t.task_name||"",description:t.description||"",task_type:t.task_type||R.task_type,assigned_to:t.assignee||t.assigned_team||t.assigned_vendor||"Unassigned",files:t.files||[],date:t.date||t.due_date||"",location:t.location||"",status:t.status||"pending"}))},[t]),b.useEffect(()=>{const R=B=>{D.current&&!D.current.contains(B.target)&&N(!1),V.current&&!V.current.contains(B.target)&&E(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const L=["Simple Task","Site Visits","Meeting","Design Review","Client Meeting","Documentation"],U=["Sarah Johnson","The Martinez Family","TechCorp Inc.","John Doe","Jane Smith","Mike Wilson","Coci"],z=R=>{const B=Array.from(R.target.files);if(g.files.length+B.length>5){d("Maximum 5 files allowed","error");return}if(B.filter(Q=>Q.size>25*1024*1024).length>0){d("Some files exceed 25MB limit. Please select smaller files.","error");return}y({...g,files:[...g.files,...B]})},q=R=>{const B=g.files.filter((F,Q)=>Q!==R);y({...g,files:B})},te=({files:R,onFileChange:B,onRemoveFile:F,isInline:Q})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:"Add Files (Max 5 files, 25MB each)"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center relative",children:[a.jsx("input",{type:"file",multiple:!0,onChange:B,id:"file-upload",accept:"*/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.jsxs("div",{className:"pointer-events-none",children:[a.jsx("p",{className:"text-blue-600 font-medium text-sm",children:"Click to upload files"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max 5 files, 25MB each"})]}),R.length>0&&a.jsx("div",{className:"mt-3 space-y-2",children:R.map((S,M)=>a.jsxs("div",{className:"flex items-center justify-between text-xs theme-bg-primary p-2 rounded-xl",children:[a.jsx("span",{className:"truncate flex-1 theme-text-secondary",children:S.name}),a.jsxs("span",{className:"text-gray-500 ml-2",children:["(",(S.size/(1024*1024)).toFixed(2)," MB)"]}),a.jsx("button",{type:"button",onClick:()=>F(M),className:"text-red-500 hover:text-red-700 ml-2",children:""})]},M))})]})]}),ce=async R=>{R.preventDefault(),k(!0);try{const B=t.id||t.task_id;if(!g.title.trim()){d("Task title is required","error"),k(!1);return}const F=new FormData;F.append("task_name",g.title.trim()),F.append("description",g.description||""),F.append("task_type",g.task_type),g.date&&F.append("date",g.date),g.location&&g.location.trim()&&F.append("location",g.location.trim());const Q=[],S=[];g.files.forEach(O=>{O instanceof File?(Q.push(O),F.append("uploads",O)):S.push(O)});for(let[O,se]of F.entries())se instanceof File?console.log(`${O}:`,se.name,`(File: ${se.size} bytes)`):console.log(`${O}:`,se);const M=await A(`${pe}/tasks/tasks/${B}`,{method:"PUT",body:F});if(M.ok){const O=await M.json();c(O),d("Task updated successfully!","success"),l()}else{const O=await M.text();throw console.error("DEBUG - Edit error response:",O),new Error(`Failed to update task: ${M.status}`)}}catch(B){console.error("Error updating task:",B),h("Failed to update task: "+B.message)}finally{k(!1)}},$=R=>{y({...g,[R.target.name]:R.target.value})},G=R=>{y({...g,task_type:R,date:R==="Site Visits"||R==="Meeting"?g.date:"",location:R==="Meeting"?g.location:""}),N(!1)},ae=R=>{y({...g,assigned_to:R}),E(!1)},ee=()=>{N(!v),E(!1)},de=()=>{E(!w),N(!1)};return t?f?a.jsxs("div",{className:"mb-6 theme-bg-card rounded-lg border border-gray-200 p-4 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold theme-text-primary mb-4",children:"Edit Task"}),a.jsxs("form",{onSubmit:ce,children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-start",children:[a.jsx("div",{className:"md:col-span-2",children:a.jsx(l5,{name:"title",value:g.title,onChange:$,required:!0,placeholder:"Enter task title",isInline:!0,autoFocus:!0})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(ix,{value:g.task_type,options:L,isOpen:v,dropdownRef:D,onToggle:ee,onSelect:G,isInline:!0})}),a.jsx("div",{className:"md:col-span-1",children:a.jsx(ix,{required:!0,value:g.assigned_to,options:U,isOpen:w,dropdownRef:V,onToggle:de,onSelect:ae,isInline:!0})})]}),a.jsx(u5,{task_type:g.task_type,formData:g,handleChange:$,isInline:!0}),a.jsx("div",{children:a.jsx(o5,{name:"description",value:g.description,onChange:$,placeholder:"Enter task description",isInline:!0})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2  gap-3 items-start",children:[a.jsx(te,{files:g.files,onFileChange:z,onRemoveFile:q,isInline:!0}),a.jsx("div",{className:"mt-9",children:a.jsx(c5,{isLoading:C,onCancel:l,taskTitle:g.title,isInline:!0,isEdit:!0})})]})]})]}):a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center p-4 z-50 backdrop-blur-[1px]",children:a.jsxs("div",{className:"theme-bg-secondary rounded-lg max-w-md w-full p-6",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Task"}),a.jsx("form",{onSubmit:ce})]})}):null},l5=({label:t,name:s,value:i,onChange:l,required:c,placeholder:f,isInline:d,autoFocus:h})=>a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:[t," ",c&&a.jsx("span",{className:"text-red-500"})]}),a.jsx("input",{type:"text",name:s,value:i,onChange:l,required:c,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm",placeholder:f,autoFocus:h})]}),ix=({label:t,value:s,options:i,isOpen:l,dropdownRef:c,onToggle:f,onSelect:d,isInline:h})=>a.jsxs("div",{className:"relative",ref:c,children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:t}),a.jsxs("button",{type:"button",onClick:f,className:"w-full flex items-center justify-between p-2 border border-gray-300 rounded-lg theme-bg-card hover:bg-gray-50 transition-colors duration-200 text-sm",children:[a.jsx("span",{className:"text-gray-500 truncate",children:s}),a.jsx("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&a.jsx("div",{className:"absolute z-20 w-full mt-1 theme-bg-card border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto scrollbar-hidden",children:i.map(p=>a.jsx("button",{type:"button",onClick:()=>d(p),className:`w-full text-left px-3 py-2 hover:bg-gray-500 transition-colors duration-200 text-sm ${s===p?"bg-blue-50 text-blue-600":"theme-text-primary"}`,children:p},p))})]}),o5=({label:t,name:s,value:i,onChange:l,placeholder:c,isInline:f})=>a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-1",children:t}),a.jsx("textarea",{name:s,value:i,onChange:l,rows:3,className:"w-full h-9 mt-2 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm",placeholder:c})]}),c5=({isLoading:t,onCancel:s,taskTitle:i,isInline:l,isEdit:c})=>a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("button",{type:"button",onClick:s,disabled:t,className:"px-3 py-2 text-gray-600 hover:text-gray-800 font-medium border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200 disabled:opacity-50 flex-1",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:t||!i.trim(),className:"px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex-1",children:t?"Updating...":"Update Task"})]}),u5=({task_type:t,formData:s,handleChange:i,isInline:l})=>{const c=b.useRef(null),f=()=>{c.current&&typeof c.current.showPicker=="function"&&c.current.showPicker()},d=h=>{if(!h)return"";if(h.includes("T"))return h;const p=new Date(h);return isNaN(p.getTime())?"":p.toISOString().slice(0,16)};return t==="Site Visits"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 mt-3 gap-3",children:[a.jsx("div",{children:a.jsx("input",{type:"datetime-local",name:"date",value:d(s.date),onChange:i,ref:c,onFocus:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm"})}),a.jsx("div",{})]}):t==="Meeting"?a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[a.jsx("div",{children:a.jsx("input",{type:"datetime-local",name:"date",value:d(s.date),onChange:i,ref:c,onFocus:f,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm"})}),a.jsx("div",{children:a.jsx("input",{type:"text",name:"location",value:s.location||"",onChange:i,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-sm",placeholder:"Enter meeting location"})})]}):null},d5=({isOpen:t,onClose:s,files:i=[],taskTitle:l=""})=>{if(!t)return null;const[c,f]=$d.useState(null),d=v=>{if(v.file_path&&v.filename){const N=h(v.file_path);window.open(N,"_blank");return}if(typeof v=="string"){window.open(v,"_blank");return}if(v instanceof File){const N=URL.createObjectURL(v),w=document.createElement("a");w.href=N,w.download=v.name,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(N)}},h=v=>v?(v.replace(/\\/g,"/"),`${pe}/${v.replace(/\\/g,"/")}`):"",p=v=>{if(v.file_path&&v.filename){const N=h(v.file_path);f({url:N,name:v.filename});return}if(v instanceof File){const N=URL.createObjectURL(v);f({url:N,name:v.name})}},x=v=>{let N="";switch(v.filename?N=v.filename:typeof v=="string"?N=v:v instanceof File&&(N=v.name),N.split(".").pop()?.toLowerCase()){case"pdf":return"";case"doc":case"docx":return"";case"xls":case"xlsx":return"";case"jpg":case"jpeg":case"png":case"gif":return"";case"zip":case"rar":return"";default:return""}},g=v=>v.filename?v.filename:typeof v=="string"?v.split("/").pop()||"File":v instanceof File?v.name:"Unknown File",y=v=>{if(v.file_size){const N=parseFloat(v.file_size);return N<1?`${(N*1024).toFixed(2)} KB`:`${N.toFixed(2)} MB`}if(v instanceof File){const N=v.size/1048576;return N<1?`${(v.size/1024).toFixed(2)} KB`:`${N.toFixed(2)} MB`}return"Unknown size"};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0  bg-opacity-80 backdrop-blur-[1px]",onClick:s}),a.jsxs("div",{className:"animate-fadeInUp relative theme-bg-card rounded-lg shadow-xl w-full max-w-2xl mx-4 border border-gray-200 flex flex-col max-h-[80vh]",children:[a.jsxs("div",{className:"flex justify-between items-center px-3 py-2 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl px-1 font-semibold theme-text-primary",children:"Files"}),l&&a.jsxs("p",{className:"text-sm px-1 theme-text-secondary",children:["For task : ",l]})]}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none",children:""})]}),a.jsx("div",{className:"p-3 overflow-y-auto flex-1",children:c?a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx("button",{onClick:()=>f(null),className:"px-3 py-1 text-sm theme-text-secondary flex absolute left-3",children:" Back"}),a.jsx("h3",{className:"text-lg font-semibold theme-text-primary text-center",children:c.name}),c.url.match(/\.(jpg|jpeg|png|gif)$/i)&&a.jsx("img",{src:c.url,alt:c.name,className:"max-h-[65vh] rounded-lg shadow-md object-contain"}),c.url.match(/\.pdf$/i)&&a.jsx("iframe",{src:c.url,className:"w-full h-[70vh] rounded-lg border",title:"PDF Viewer"}),!c.url.match(/\.(jpg|jpeg|png|gif|pdf)$/i)&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-500 mb-3",children:"Preview not available for this file type."}),a.jsx("button",{onClick:()=>window.open(c.url,"_blank"),className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Download File"})]})]}):a.jsx(a.Fragment,{children:i.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-gray-400 mb-3",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),a.jsx("h3",{className:"text-lg font-medium theme-text-primary mb-2",children:"No files"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"This task has no attached files."})]}):a.jsx("div",{className:"space-y-3",children:i.map((v,N)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-md hover:shadow-lg transition-colors duration-200",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("span",{className:"text-xl",children:x(v)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium theme-text-primary text-sm truncate",children:g(v)}),a.jsx("p",{className:"text-gray-500 text-xs",children:y(v)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>p(v),className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors duration-200",children:"View"}),a.jsx("button",{onClick:()=>d(v),className:"px-3 py-1 text-xs bg-gray-600 text-white rounded hover:bg-gray-700 transition-colors duration-200",children:"Download"})]})]},N))})})})]})]})},f5=({projects:t=[]})=>{const{id:s,projectId:i,spaceId:l}=$1(),[c,f]=b.useState(null),[d,h]=b.useState(!0),[p,x]=b.useState([]),[g,y]=b.useState(!0),[v,N]=b.useState(!1),[w,E]=b.useState(()=>localStorage.getItem(`project-${s}-activeTab`)||"tasks"),[C,k]=b.useState([]),[A,D]=b.useState(!1),[V,L]=b.useState(""),[U,z]=b.useState(0),[q,te]=b.useState({}),[ce,$]=b.useState({title:"",description:"",task_type:"Task",assignee:"Unassigned",location:"",date:"",files:[]}),{authFetch:G}=Ye(),[ae,ee]=b.useState(null),[de,R]=b.useState(!1),{showMessage:B,showConfirmation:F}=ct(),[Q,S]=b.useState(0),M=W=>{te(be=>({...be,[W]:!be[W]}))};b.useEffect(()=>{localStorage.setItem(`project-${s}-activeTab`,w)},[w,s]),b.useEffect(()=>{s&&(async()=>{try{if(h(!0),Array.isArray(t)&&t.length>0){const Be=t.find(Ie=>Ie.id&&Ie.id.toString()===s||Ie.project_id&&Ie.project_id.toString()===s);if(Be){f(Be),h(!1);return}}const be=J(s);if(be){f(be),h(!1);return}let Ce=await G(`${pe}/projects/projects/${s}`);if(Ce.ok){const Be=await Ce.json(),Ie=fe(Be);f(Ie)}else{const Be=await G(`${pe}/projects/projects`);if(Be.ok){const Ie=await Be.json(),pn=ie(Ie).find(_t=>_t.id&&_t.id.toString()===s||_t.project_id&&_t.project_id.toString()===s);if(pn){const _t=fe(pn);console.log("Found project in projects list:",_t),f(_t)}else throw new Error("Project not found in API")}else throw new Error("API not available")}}catch(be){console.error("Error loading project:",be);const Ce=Le(s);f(Ce)}finally{h(!1)}})()},[s,t]),b.useEffect(()=>{c&&Array.isArray(c.siteMaps)?z(c.siteMaps.length):z(0)},[c]),b.useEffect(()=>{(async()=>{if(s)try{y(!0);const be=await G(`${pe}/tasks/tasks/project/${s}`);if(!be.ok){console.log(`No tasks found for project ${s}`),x([]);return}const Ce=await be.json(),Ie=(Array.isArray(Ce?.data)?Ce.data:Array.isArray(Ce?.tasks)?Ce.tasks:Array.isArray(Ce)?Ce:[]).map(ze=>{let pn="";if(ze.date)try{pn=new Date(ze.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{pn=ze.date}return{id:ze.id||ze.task_id,title:ze.task_name||ze.title,description:ze.description,location:ze.location,visit_date:pn,Date:pn,task_type:ze.task_type||"Simple Task",assignee:ze.assigned_to||ze.assigned_team||ze.assigned_vendor||"Unassigned",assigned_to:ze.assigned_to||ze.assigned_team||ze.assigned_vendor||"Unassigned",status:ze.status||"pending",completed:ze.status==="completed",files:ze.files||[]}});x(Ie)}catch(be){console.error("Error fetching tasks:",be),x([])}finally{y(!1)}})()},[s,Q]);const O=W=>{const be=p.find(Ce=>Ce.id===W);be&&ee(be)},se=()=>{S(W=>W+1)},J=W=>{try{return JSON.parse(localStorage.getItem("projects")||"[]").find(Be=>Be.id&&Be.id.toString()===W)||null}catch(be){return console.error("Error reading from localStorage:",be),null}},ie=W=>Array.isArray(W)?W:W&&Array.isArray(W.data)?W.data:W&&Array.isArray(W.projects)?W.projects:[],fe=W=>({id:W.id||W.project_id,title:W.project_name||W.title||"Project",assignee:W.client_name||W.assignee||"Unassigned",status:W.status||"open",dueDate:W.end_date?new Date(W.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):W.due_date?new Date(W.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No date",location:W.location||"No location",description:W.project_description||W.description||"No description available",board:"Site Map",siteMaps:W.site_maps||W.siteMaps||W.sitemaps||W.site_map||W.siteMap||W.maps||W.files||[]}),Le=W=>({id:W,title:"Project",assignee:"Unassigned",status:"open",dueDate:"No date",location:"No location",description:"Project details",board:"Site Map",siteMaps:[]}),he=(W,be,Ce)=>{x(Be=>!W&&Ce?Be.filter(ze=>ze.id!==Ce):Ce?(console.log(" Replacing temp task with backend data:",{tempId:Ce,backendData:W}),Be.map(ze=>ze.id===Ce?{id:W.task_id,title:W.task_name,task_name:W.task_name,description:W.description||"",task_type:W.task_type,date:W.date,assigned_to:W.assigned_to||"Unassigned",status:W.status||"pending",location:W.location||"",files:[],isTemp:!1,project_id:W.project_id,space_id:W.space_id}:ze)):[{id:W.task_id,title:W.task_name,task_name:W.task_name,description:W.description||"",task_type:W.task_type,assigned_to:W.assigned_to||"Unassigned",status:W.status||"pending",location:W.location||"",files:[],isTemp:!1,project_id:W.project_id,space_id:W.space_id},...Be]),W&&!Ce&&B("Task created successfully!","success")},Re=async W=>{x(be=>be.map(Ce=>Ce.id===W?{...Ce,status:Ce.status==="pending"?"completed":"pending",completed:Ce.status==="pending"}:Ce));try{await ut(W,p.find(be=>be.id===W)?.status==="pending"?"completed":"pending")}catch(be){console.error("Failed to update task status:",be),x(Ce=>Ce.map(Be=>Be.id===W?{...Be,status:Be.status==="completed"?"pending":"completed",completed:Be.status!=="completed"}:Be))}},ut=async(W,be)=>{try{const Ce=new FormData;Ce.append("status",be);const Be=await G(`${pe}/tasks/tasks/${W}`,{method:"PUT",body:Ce});if(!Be.ok){const Ie=await Be.text();throw new Error(Ie)}}catch(Ce){console.error("API Error:",Ce),x(Be=>Be.map(Ie=>Ie.id===W?{...Ie,status:Ie.status==="pending"?"completed":"pending"}:Ie)),B("Failed to update task status","error")}},xt=async W=>{F("Delete Task","Are ypu sure ypu want to delete this task? This action cannot be undone",async()=>{try{if((await G(`${pe}/tasks/tasks/${W}`,{method:"DELETE"})).ok)x(p.filter(Ce=>Ce.id!==W)),B("Task deleted Successfully","success");else throw new Error("Failed to delete task")}catch(be){console.error("Error deleting task:",be),B("Failed to delete task","error")}})},rt=(W,be="")=>{k(W||[]),L(be),D(!0)},wt=()=>{D(!1),k([]),L("")},en=[...p].sort((W,be)=>W.completed&&!be.completed?1:!W.completed&&be.completed?-1:0),Ai=p.filter(W=>!W.completed).length,ir=p.length,Qe=()=>a.jsx("div",{className:"min-h-screen theme-bg-primary theme-text-primary",children:a.jsxs("div",{className:"mx-auto px-6 py-8",children:[a.jsx("div",{className:"w-24 h-4 theme-bg-primary rounded mb-6 animate-pulse"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("div",{className:"w-3/4 h-8 theme-bg-secondary rounded mb-4 animate-pulse"}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[a.jsx("div",{className:"w-20 h-6 theme-bg-secondary rounded animate-pulse"}),a.jsx("div",{className:"w-16 h-6 theme-bg-secondary rounded animate-pulse"}),a.jsx("div",{className:"w-24 h-6 theme-bg-secondary rounded animate-pulse"})]}),a.jsx("div",{className:"w-theme-bg-primary rounded animate-pulse"})]}),a.jsx("div",{className:"border-b theme-bg-primary mb-6",children:a.jsxs("div",{className:"flex space-x-8",children:[a.jsx("div",{className:"w-16 h-8 theme-bg-primary rounded animate-pulse"}),a.jsx("div",{className:"w-20 h-8 theme-bg-primary rounded animate-pulse"})]})}),a.jsxs("div",{className:"theme-bg-secondary rounded-lg p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"w-32 h-6 theme-bg-primary rounded mb-2 animate-pulse"}),a.jsx("div",{className:"w-24 h-4 theme-bg-primary rounded animate-pulse"})]}),a.jsx("div",{className:"w-28 h-10 theme-bg-primary rounded animate-pulse"})]}),a.jsx("div",{className:"space-y-3",children:[1,2,3].map(W=>a.jsxs("div",{className:"theme-bg-primary rounded-lg border border-gray-200 p-4 flex items-center gap-3 animate-pulse",children:[a.jsx("div",{className:"w-5 h-5 theme-bg-card rounded"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"w-3/4 h-4 theme-bg-card rounded mb-2"}),a.jsx("div",{className:"w-1/2 h-3 theme-bg-card rounded"})]}),a.jsx("div",{className:"w-16 h-4 theme-bg-card rounded"})]},W))})]})]})});if(d||g)return a.jsx(Qe,{});const Gt=c;return a.jsx("div",{className:"min-h-screen bg-cover bg-center theme-bg-primary theme-text-primary text-size",children:a.jsxs("div",{className:"mx-auto px-2 py-2 md:px-6 md:py-8 ",children:[a.jsxs(ks,{to:"/",className:"inline-flex items-center text-gray-500 hover:text-gray-400 mb-6",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"md:text-3xl text-2xl font-bold theme-text-primary mb-4",children:Gt.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{children:[" ",Gt.assignee]}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:Gt.status}),a.jsxs("span",{children:[" Due: ",Gt.docDate]}),a.jsxs("span",{children:[" ",Gt.location]})]}),a.jsx("div",{className:"border-t border-b border-gray-200 py-4 my-6",children:a.jsx("p",{className:"theme-text-secondary",children:Gt.description})})]}),a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsx("button",{onClick:()=>E("tasks"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${w==="tasks"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Tasks"}),a.jsx("button",{onClick:()=>E("sitemaps"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${w==="sitemaps"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Site Maps"})]})}),w==="tasks"&&a.jsxs("div",{className:"theme-bg-secondary rounded-lg md:p-6 p-2 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"md:text-2xl text-xl font-bold theme-text-primary",children:"Tasks"}),a.jsxs("p",{className:"theme-text-secondary mt-1",children:[Ai," of ",ir," remaining"]})]}),!v&&a.jsxs("button",{onClick:()=>N(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"New Task"]})]}),v&&a.jsx(B3,{isInline:!0,projectId:s,onCreate:he,onTaskCreated:se,onCancel:()=>N(!1)}),a.jsx("div",{className:`space-y-3 ${en.length>3?"h-screen overflow-y-auto scrollbar-hidden":""}`,children:en.length>0?en.map(W=>ae?.id===W.id?a.jsx(i5,{task:ae,projectId:s,isInline:!0,onClose:()=>ee(null),onUpdate:()=>S(be=>be+1)},W.id):a.jsxs("div",{className:`theme-bg-primary overflow-x-auto scrollbar-hidden whitespace-nowrap rounded-lg border border-gray-500 p-4 flex items-center justify-between group hover:shadow-xl transition-all duration-200 ${W.completed?"opacity-60 scale-[0.98]":""}`,children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[a.jsx("button",{onClick:()=>Re(W.id),className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-200 ${W.completed?"bg-green-500 border-green-500 text-white shadow-sm":"border-gray-300 hover:border-green-500 hover:bg-green-50"}`,children:W.completed&&a.jsx("svg",{className:"w-3 h-3 transition-all duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),a.jsxs("div",{className:"flex-1 min-w-0 cursor-pointer",onClick:()=>M(W.id),children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`block font-medium theme-text-secondary transition-all duration-200 ${W.completed?"text-gray-400 line-through":"theme-text-primary"}`,children:W.title}),a.jsx("div",{className:"flex items-center gap-2 ml-4",children:a.jsx("span",{className:"theme-bg-secondary px-2 py-1 rounded text-xs",children:W.task_type})})]}),(W.assigned_to||W.location||W.Date||W.files)&&a.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[W.assigned_to&&W.assigned_to!=="Unassigned"&&a.jsxs("span",{className:`text-xs flex items-center gap-1 ${W.completed?"text-gray-400":"theme-text-secondary"} `,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),W.assigned_to]}),W.location&&a.jsxs("span",{className:`text-xs flex items-center gap-1 ${W.completed?"text-gray-400":"theme-text-secondary"}`,children:[a.jsxs("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),W.location]}),W.visit_date&&a.jsxs("span",{className:`text-xs flex items-center gap-1 ${W.completed?"text-gray-400":"theme-text-secondary"}`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),W.visit_date]}),W.files&&W.files.length>0&&a.jsxs("button",{onClick:be=>{be.preventDefault(),be.stopPropagation(),rt(W.files,W.title)},className:`text-xs flex items-center gap-1 ${W.completed?"text-gray-400":"text-gray-500"} hover:text-blue-500 transition-colors duration-200`,children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),W.files.length]})]}),W.description&&q[W.id]&&a.jsx("p",{className:`text-sm theme-bg-secondary theme-text-secondary mt-2 transition-all duration-200 ${W.completed?"text-gray-400":""}`,children:W.description})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx("span",{className:`text-xs whitespace-nowrap transition-all duration-200 ${W.completed?"text-gray-400":"text-gray-500"}`,children:W.createdAt}),a.jsx("button",{onClick:be=>{be.preventDefault(),be.stopPropagation(),O(W.id)},className:"text-gray-400 hover:text-blue-500 md:opacity-0 md:group-hover:opacity-100 opacity-100 transition-all duration-200",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),a.jsx("button",{onClick:be=>{be.preventDefault(),be.stopPropagation(),xt(W.id)},className:"text-gray-400 hover:text-red-500 md:opacity-0 md:group-hover:opacity-100 opacitty-100 transition-all duration-200",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},W.id)):v?null:a.jsxs("div",{className:"text-center py-12 theme-bg-primary rounded-lg border-2 border-dashed border-gray-300",children:[a.jsx("div",{className:"text-gray-400 mb-3",children:a.jsx("svg",{className:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsx("h3",{className:"text-lg font-medium theme-text-primary mb-2",children:"No tasks yet"}),a.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Create your first task to get started"}),a.jsx("button",{onClick:()=>N(!0),className:"text-blue-600 hover:text-blue-700 font-medium text-sm",children:"+ Create your first task"})]})})]}),w==="sitemaps"&&a.jsx(a5,{projectId:s,siteMaps:Gt.siteMaps||[]}),a.jsx(d5,{isOpen:A,onClose:wt,files:C,taskTitle:V})]})})},m5=({isOpen:t,onClose:s,onSave:i})=>{const[l,c]=b.useState({title:"",assignee:"",location:"",description:"",status:"open",dueDate:""}),[f,d]=b.useState(!1),[h,p]=b.useState(""),[x,g]=b.useState(""),[y,v]=b.useState(!1),{authFetch:N}=Ye(),w=b.useRef(null),E=`${pe}/projects/projects`,C=()=>{w.current&&typeof w.current.showPicker=="function"&&w.current.showPicker()},k=U=>{U.preventDefault()},A=async U=>{if(U.preventDefault(),p(""),g(""),!l.title.trim()||!l.assignee.trim()||!l.dueDate){p("Project Title, Client Name, and Due Date are required");return}d(!0);try{const z={project_name:l.title.trim(),client_name:l.assignee.trim(),location:l.location.trim(),project_description:l.description.trim(),due_date:l.dueDate,status:l.status},q=await N(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(!q.ok){const $=await q.text();throw new Error($||`Server error: ${q.status}`)}const te=await q.json();Object.keys(te).forEach($=>{console.log(`  ${$}:`,te[$])});const ce={id:te.id||te.project_id,title:te.project_name||te.name||te.title||l.title,assignee:te.client_name||te.client||te.assignee||te.assigned_to||l.assignee,status:te.status||l.status,start_date:te.start_date?typeof te.start_date=="string"&&te.start_date.includes("-")?te.start_date:new Date(te.start_date).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],docDate:te.due_date?new Date(te.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):te.end_date?new Date(te.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric"}):l.dueDate?new Date(l.dueDate+"T00:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"}):"No date",isOverdue:te.is_overdue||te.overdue||!1,cardsCount:te.cards_count||te.cardsCount||0,location:te.location||l.location,description:te.project_description||te.description||l.description};g("Project created successfully!"),setTimeout(()=>{i(ce),V(),s()},1e3)}catch(z){console.error("Error creating project:",z);let q=z.message;z.message.includes("Failed to fetch")?q="Cannot connect to server.":z.message.includes("NetworkError")&&(q="Network error. Please check your internet connection."),p(q)}finally{d(!1)}},D=U=>{const{name:z,value:q}=U.target;c(te=>({...te,[z]:q})),(h||x)&&(p(""),g(""))},V=()=>{c({title:"",assignee:"",location:"",description:"",status:"open",dueDate:""}),p(""),g("")},L=U=>{if(f){U.preventDefault();return}V(),s()};return t?a.jsxs("div",{className:"fixed inset-0 z-50 theme-black flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-opacity-80 backdrop-blur-[1px]",onClick:L}),a.jsxs("div",{className:"relative animate-fadeInUp theme-bg-secondary rounded-lg shadow-xl w-full max-w-md mx-4 border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold theme-text-primary",children:f?"Creating Project...":"Create New Project"}),a.jsx("button",{onClick:()=>{V(),s()},disabled:f,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",children:""})]}),x&&a.jsx("div",{className:"mx-6 mt-4 p-3 rounded-lg bg-green-50 border border-green-200 text-green-700 text-sm",children:x}),h&&a.jsx("div",{className:"mx-6 mt-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:h}),a.jsxs("form",{onSubmit:A,className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Project Title *"}),a.jsx("input",{type:"text",name:"title",value:l.title,onChange:D,required:!0,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter project title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Client Name *"}),a.jsx("input",{type:"text",name:"assignee",value:l.assignee,onChange:D,required:!0,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter client name"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:l.location,onChange:D,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter location"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Status *"}),a.jsxs("select",{name:"status",value:l.status,onChange:D,disabled:f,className:"w-full px-3 py-2 theme-bg-secondary border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",children:[a.jsx("option",{value:"open",children:"Planning"}),a.jsx("option",{value:"in-progress",children:"In Progress"}),a.jsx("option",{value:"review",children:"Review"}),a.jsx("option",{value:"completed",children:"Completed"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Due Date *"}),a.jsx("input",{type:"date",name:"dueDate",value:l.dueDate,onChange:D,required:!0,disabled:f,ref:w,onMouseDown:k,onClick:C,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:l.description,onChange:D,rows:3,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter project description"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-100",children:[a.jsx("button",{type:"button",onClick:()=>{V(),s()},disabled:f,className:"px-4 py-2 text-gray-600 hover:text-gray-700 font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center min-w-24",children:f?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):"Create Project"})]})]})]})]}):null},Bd=({isOpen:t,onClose:s,initialEmail:i=""})=>{const[l,c]=b.useState("email"),[f,d]=b.useState(i),[h,p]=b.useState(""),[x,g]=b.useState(""),[y,v]=b.useState(!1),[N,w]=b.useState(""),[E,C]=b.useState(""),[k,A]=b.useState(""),D=`${pe}/user/forgot-password`,V=`${pe}/user/reset-password`;b.useEffect(()=>{if(t){const $=new URLSearchParams(window.location.search).get("token");$?(A($),c("reset"),window.history.replaceState({},document.title,window.location.pathname)):(c("email"),d(i)),p(""),g(""),w(""),C("")}},[t,i]);const L=ce=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ce),U=ce=>ce.length>=6,z=async ce=>{if(ce.preventDefault(),!f){w("Please enter your email address");return}if(!L(f)){w("Please enter a valid email address");return}v(!0),w(""),C("");try{const $=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:f})});if(!$.ok){const ae=await $.json();throw new Error(ae.message||"Failed to send reset email")}const G=await $.json();C("Password reset instructions have been sent to your email!"),setTimeout(()=>{s()},3e3)}catch($){console.error("Forgot password error:",$),$.message.includes("Failed to fetch")?w("Cannot connect to server. Please try again later."):w($.message||"Failed to send reset email. Please try again.")}finally{v(!1)}},q=async ce=>{if(ce.preventDefault(),!h||!x){w("Please fill in all fields");return}if(!U(h)){w("Password must be at least 6 characters long");return}if(h!==x){w("Passwords don't match!");return}if(!k){w("Invalid reset link. Please request a new reset link.");return}v(!0),w(""),C("");try{const $=await fetch(V,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:k,new_password:h})});if(!$.ok){const ae=await $.json();throw new Error(ae.error||"Failed to reset password")}const G=await $.json();C("Password reset successfully! You can now login with your new password."),setTimeout(()=>{s()},5e3)}catch($){console.error("Reset password error:",$),$.message.includes("Failed to fetch")?w("Cannot connect to server. Please try again later."):w($.message||"Failed to reset password. Please try again.")}finally{v(!1)}},te=()=>{c("email"),w(""),C("")};return t?a.jsxs("div",{className:"fixed inset-0 z-50 theme-black flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-[1px]",onClick:s}),a.jsxs("div",{className:"relative theme-bg-secondary rounded-lg w-full max-w-md mx-4 border border-gray-200 shadow-2xl",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold theme-text-primary",children:l==="email"?"Reset Your Password":"Create New Password"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none",disabled:y,children:""})]}),E&&a.jsx("div",{className:"mx-4 mt-4 p-3 rounded-lg mb-6 shadow-lg bg-green-50 border border-green-200 text-green-700 text-sm",children:a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("p",{children:E}),a.jsx("div",{className:"flex space-x-2"}),a.jsx("p",{className:"text-xs text-green-600",children:"Auto-closing in 5 seconds..."})]})}),N&&a.jsx("div",{className:"mx-6 mt-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:N}),l==="email"&&!E&&a.jsxs("form",{onSubmit:z,className:"p-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Email Address *"}),a.jsx("input",{type:"email",value:f,onChange:ce=>d(ce.target.value),required:!0,disabled:y,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your email address"})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"We'll send a reset link to your email address."})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full mt-6 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{type:"button",onClick:s,disabled:y,className:"text-blue-600 hover:text-blue-800 font-medium text-sm focus:outline-none disabled:opacity-50",children:" Back to login"})})]}),l==="reset"&&!E&&a.jsxs("form",{onSubmit:q,className:"p-6",children:[a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Please enter your new password below."})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"New Password *"}),a.jsx("input",{type:"password",value:h,onChange:ce=>p(ce.target.value),required:!0,disabled:y,minLength:6,className:"w-full px-3 py-2 theme-text-secondary border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter new password (min. 6 characters)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Confirm Password *"}),a.jsx("input",{type:"password",value:x,onChange:ce=>g(ce.target.value),required:!0,disabled:y,className:"w-full px-3 py-2 theme-text-secondary border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Confirm your new password"})]})]}),a.jsx("button",{type:"submit",disabled:y,className:"w-full mt-6 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:y?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Resetting..."]}):"Reset Password"}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{type:"button",onClick:te,disabled:y,className:"text-blue-600 hover:text-blue-800 font-medium text-sm focus:outline-none disabled:opacity-50",children:" Request new reset link"})})]})]})]}):null},h5=()=>{const{showAuthModal:t,closeAuthModal:s,login:i}=Ye(),[l,c]=b.useState("login"),[f,d]=b.useState("credentials"),[h,p]=b.useState(null),[x,g]=b.useState(""),[y,v]=b.useState(!1),[N,w]=b.useState(!1),[E,C]=b.useState(!1),[k,A]=b.useState(),[D,V]=b.useState("personal"),{authFetch:L}=Ye(),[U,z]=b.useState({fullName:"",email:"",password:"",confirmPassword:""}),[q,te]=b.useState({company_name:"",company_address:"",company_email:"",company_phone:""}),ce=`${pe}/auth`,$=`${ce}/login`,G=`${ce}/register`,ae=`${ce}/verify_login_otp`,[ee,de]=b.useState(!1),[R,B]=b.useState(""),[F,Q]=b.useState(""),S=he=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(he);b.useEffect(()=>{t||(c("login"),d("credentials"),V("personal"),z({fullName:"",email:"",password:"",confirmPassword:""}),te({company_name:"",company_address:"",company_email:"",company_phone:""}),p(null),g(""),B(""),Q(""),de(!1))},[t]),b.useEffect(()=>{(!t||l!=="login")&&(d("credentials"),p(null),g(""))},[t,l]);const M=he=>he.length>=6,O=()=>{const he=document.querySelector('input[name="email"]'),Re=he?he.value.trim():"";A(Re),C(!0)},se=()=>{C(!1)},J=async he=>{he.preventDefault();const Re=he.target,ut=Re.email.value.trim(),xt=Re.password.value.trim();if(!ut||!xt){B("Please fill in all fields");return}if(!S(ut)){B("Please enter a valid email address");return}de(!0),B(""),Q("");try{const rt=await fetch($,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:ut,user_password:xt})});if(!rt.ok){const en=await rt.json();throw new Error(en.message||"Login failed")}const wt=await rt.json();p({name:wt.user_name||"user",email:ut,company_id:wt.company_id,user_id:wt.user_id,tokens:{accessToken:wt.access_token,refreshToken:wt.refresh_token}}),d("otp"),Q("OTP has been sent to your email. Please enter it below.")}catch(rt){console.error("Login error:",rt),rt.message.includes("Failed to fetch")?B("Cannot connect to server."):B(rt.message||"Login failed. Please try again.")}finally{de(!1)}},ie=async he=>{if(he.preventDefault(),!x||x.length<4){B("Please enter a valid OTP");return}if(!h){B("Session expired. Please try logging in again."),d("credentials");return}de(!0),B("");try{const Re=await fetch(ae,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_email:h.email,otp_code:x})});if(!Re.ok){const xt=await Re.json();throw new Error(xt.message||"OTP verification failed")}const ut=await Re.json();i({pendingLoginData:h,company_id:h.company_id,user_id:h.user_id},{accessToken:ut.access_token,refreshToken:ut.refresh_token}),Q("Login successful!"),setTimeout(()=>{s()},1500)}catch(Re){console.error("OTP verification error:",Re),B(Re.message||"Invalid OTP. Please try again.")}finally{de(!1)}},fe=()=>{d("credentials"),p(null),g(""),B(""),Q("")},Le=async he=>{he.preventDefault(),de(!0),B("");try{const Re=await fetch(G,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:U.fullName,user_email:U.email,user_password:U.password,company_name:q.company_name,company_address:q.company_address,company_email:q.company_email,company_phone:q.company_phone})});if(!Re.ok){const xt=await Re.json();throw new Error(xt.message||"Registration failed")}const ut=await Re.json();Q("Registration successful! Please check your email for OTP."),setTimeout(()=>s(),2e3)}catch(Re){B(Re.message||"Registration failed. Please try again.")}finally{de(!1)}};return b.useEffect(()=>{t||(c("login"),d("credentials"),V("personal"),z({fullName:"",email:"",password:"",confirmPassword:""}),p(null),g(""),B(""),Q(""),de(!1))},[t]),t?a.jsxs("div",{className:"fixed inset-0 z-50 theme-black flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-[1px]",onClick:s}),a.jsxs("div",{className:"relative theme-bg-secondary rounded-lg shadow-xl w-full max-w-md mx-4 border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100",children:[a.jsx("h2",{className:"text-xl font-semibold theme-text-primary",children:f==="credentials"?"Login to Your Account":"Verify OTP"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none",disabled:ee,children:""})]}),F&&a.jsx("div",{className:"mx-6 mt-4 p-3 rounded-lg bg-green-50 border border-green-200 text-green-700 text-sm",children:F}),R&&a.jsx("div",{className:"mx-6 mt-4 p-3 rounded-lg bg-red-50 border border-red-200 text-red-700 text-sm",children:R}),f==="credentials"&&a.jsxs("div",{className:"flex border-b border-gray-100",children:[a.jsx("button",{onClick:()=>c("login"),disabled:ee,className:`flex-1 py-3 text-sm font-medium transition-colors duration-200 ${l==="login"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"} ${ee?"opacity-50 cursor-not-allowed":""}`,children:"Login"}),a.jsx("button",{onClick:()=>c("register"),disabled:ee,className:`flex-1 py-3 text-sm font-medium transition-colors duration-200 ${l==="register"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"} ${ee?"opacity-50 cursor-not-allowed":""}`,children:"Register"})]}),l==="login"&&f==="credentials"&&a.jsxs("form",{onSubmit:J,className:"p-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Email Address *"}),a.jsx("input",{type:"email",name:"email",required:!0,disabled:ee,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your email"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Password *"}),a.jsx("input",{type:y?"text":"password",name:"password",required:!0,disabled:ee,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",placeholder:"Enter your password"}),a.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700 focus:outline-none",children:y?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M3.98 8.223A10.477 10.477 0 001.5 12c2.25 4.5 6.75 7.5 10.5 7.5 \r
                           1.76 0 3.42-.45 4.86-1.24M21 21l-4.24-4.24m0 0A10.477 10.477 0 0022.5 \r
                           12c-2.25-4.5-6.75-7.5-10.5-7.5-1.76 0-3.42.45-4.86 1.24m0 0L3 3`})}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M2.25 12C3.75 7.5 8.25 4.5 12 4.5s8.25 3 9.75 7.5c-1.5 \r
                 4.5-6 7.5-9.75 7.5s-8.25-3-9.75-7.5z`}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 100-6 3 3 0 000 6z"})]})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:ee}),a.jsx("span",{className:"ml-2 theme-text-primary",children:"Remember me"})]}),a.jsx("button",{type:"button",className:"text-blue-600 hover:text-blue-800 disabled:opacity-50",disabled:ee,onClick:O,children:"Forgot password?"})]})]}),a.jsx("button",{type:"submit",disabled:ee,className:"w-full mt-6 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:ee?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Generate OTP"}),a.jsx("div",{className:" pt-4 border-t border-gray-100 text-center",children:a.jsxs("p",{className:"theme-text-primary text-sm",children:["Don't have an account?"," ",a.jsx("button",{type:"button",onClick:()=>c("register"),disabled:ee,className:"text-blue-600 hover:text-blue-800 font-medium focus:outline-none disabled:opacity-50",children:"Create one now"})]})})]}),l==="login"&&f==="otp"&&a.jsxs("form",{onSubmit:ie,className:"p-4",children:[a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Enter OTP *"}),a.jsx("input",{type:"text",value:x,onChange:he=>g(he.target.value.replace(/\D/g,"")),required:!0,disabled:ee,maxLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-center text-lg font-mono",placeholder:"Enter 6-digit OTP"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 text-center",children:"Please check your email for the OTP"})]})}),a.jsx("button",{type:"submit",disabled:ee||x.length<4,className:"w-full mt-6 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:ee?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying OTP..."]}):"Verify OTP & Login"}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx("button",{type:"button",onClick:fe,disabled:ee,className:"text-blue-600 hover:text-blue-800 font-medium text-sm focus:outline-none disabled:opacity-50",children:" Back to login"})})]}),a.jsx(Bd,{isOpen:E,onClose:se,initialEmail:k}),l==="register"&&D==="personal"&&a.jsxs("form",{onSubmit:he=>{he.preventDefault();const Re=he.target,ut=Re.fullName.value.trim(),xt=Re.email.value.trim(),rt=Re.password.value.trim(),wt=Re.confirmPassword.value.trim();if(!ut||!xt||!rt||!wt){B("Please fill in all fields");return}if(!S(xt)){B("Please enter a valid email address");return}if(rt!==wt){B("Passwords don't match!");return}if(!M(rt)){B("Password must be at least 6 characters long");return}z({fullName:ut,email:xt,password:rt,confirmPassword:wt}),V("company"),B("")},className:"p-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Full Name *"}),a.jsx("input",{type:"text",name:"fullName",defaultValue:U.fullName,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Enter your full name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Email Address *"}),a.jsx("input",{type:"email",name:"email",defaultValue:U.email,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Enter your email"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Password *"}),a.jsx("input",{type:y?"text":"password",name:"password",defaultValue:U.password,required:!0,minLength:6,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Create a password (min. 6 characters)"}),a.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700 focus:outline-none",children:y?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M3.98 8.223A10.477 10.477 0 001.5 12c2.25 4.5 6.75 7.5 10.5 7.5 \r
                           1.76 0 3.42-.45 4.86-1.24M21 21l-4.24-4.24m0 0A10.477 10.477 0 0022.5 \r
                           12c-2.25-4.5-6.75-7.5-10.5-7.5-1.76 0-3.42.45-4.86 1.24m0 0L3 3`})}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M2.25 12C3.75 7.5 8.25 4.5 12 4.5s8.25 3 9.75 7.5c-1.5 \r
                           4.5-6 7.5-9.75 7.5s-8.25-3-9.75-7.5z`}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 100-6 3 3 0 000 6z"})]})})]}),a.jsxs("div",{className:"relative",children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Confirm Password *"}),a.jsx("input",{type:N?"text":"password",name:"confirmPassword",defaultValue:U.confirmPassword,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Confirm your password"}),a.jsx("button",{type:"button",onClick:()=>w(!N),className:"absolute right-3 top-9 text-gray-500 hover:text-gray-700 focus:outline-none",children:N?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M3.98 8.223A10.477 10.477 0 001.5 12c2.25 4.5 6.75 7.5 10.5 7.5 \r
                           1.76 0 3.42-.45 4.86-1.24M21 21l-4.24-4.24m0 0A10.477 10.477 0 0022.5 \r
                           12c-2.25-4.5-6.75-7.5-10.5-7.5-1.76 0-3.42.45-4.86 1.24m0 0L3 3`})}):a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:`M2.25 12C3.75 7.5 8.25 4.5 12 4.5s8.25 3 9.75 7.5c-1.5 \r
                           4.5-6 7.5-9.75 7.5s-8.25-3-9.75-7.5z`}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15a3 3 0 100-6 3 3 0 000 6z"})]})})]})]}),a.jsx("button",{type:"submit",className:"w-full mt-6 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200",children:"Next  Company Details"})]}),l==="register"&&D==="company"&&a.jsxs("form",{onSubmit:Le,className:"p-4",children:[a.jsx("h3",{className:"text-lg font-semibold theme-text-primary mb-4",children:"Company Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx("input",{type:"text",value:q.company_name,onChange:he=>te({...q,company_name:he.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Company Name *"})}),a.jsx("div",{children:a.jsx("input",{type:"text",value:q.company_address,onChange:he=>te({...q,company_address:he.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Company Address *"})}),a.jsx("div",{children:a.jsx("input",{type:"email",value:q.company_email,onChange:he=>te({...q,company_email:he.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Company Email *"})}),a.jsx("div",{children:a.jsx("input",{type:"tel",value:q.company_phone,onChange:he=>te({...q,company_phone:he.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200",placeholder:"Company Phone *"})})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx("button",{type:"button",onClick:()=>V("personal"),className:"flex-1 px-4 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-medium transition-colors duration-200",children:" Back"}),a.jsx("button",{type:"submit",disabled:ee,className:"flex-1 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50",children:ee?"Registering...":"Complete Registration"})]})]})]})]}):null},p5=({template:t,onClose:s,onSave:i})=>{const{showConfirmation:l,showMessage:c}=ct(),[f,d]=b.useState({project_name:`${t.title} Project`,description:t.description,location:"",client_name:"",start_date:"",end_date:""}),[h,p]=b.useState(!1),x=y=>{const{name:v,value:N}=y.target;d(w=>({...w,[v]:N}))},g=async y=>{y.preventDefault(),p(!0);try{const v={...f,template_id:t.template_id||t.id,template_data:{includedCards:t.includedCards,files:t.files||[]}};await i(v)}catch(v){console.error("Error creating project from template:",v),c("Failed to create project from template")}finally{p(!1)}};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:s}),a.jsxs("div",{className:"relative theme-bg-primary rounded-lg shadow-xl w-full max-w-2xl mx-4 border theme-border max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b theme-border",children:[a.jsx("h2",{className:"text-xl font-semibold theme-text-primary",children:"Create Project from Template"}),a.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 text-2xl transition-colors duration-200 focus:outline-none",children:""})]}),a.jsxs("form",{onSubmit:g,className:"p-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"theme-bg-secondary rounded-lg p-4 theme-border",children:[a.jsxs("h3",{className:"font-semibold theme-text-primary mb-2",children:["Template: ",t.title]}),a.jsx("p",{className:"theme-text-secondary text-sm",children:t.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium theme-text-primary mb-2",children:["Project Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"project_name",value:f.project_name,onChange:x,required:!0,className:"w-full px-3 py-2 theme-border rounded-lg theme-bg-card theme-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter project name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-2",children:"Client Name"}),a.jsx("input",{type:"text",name:"client_name",value:f.client_name,onChange:x,className:"w-full px-3 py-2 theme-border rounded-lg theme-bg-card theme-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter client name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-2",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:f.location,onChange:x,className:"w-full px-3 py-2 theme-border rounded-lg theme-bg-card theme-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter project location"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-2",children:"Due Date"}),a.jsx("input",{type:"date",name:"end_date",value:f.end_date,onChange:x,className:"w-full px-3 py-2 theme-border rounded-lg theme-bg-card theme-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-2",children:"Project Description"}),a.jsx("textarea",{name:"description",value:f.description,onChange:x,rows:3,className:"w-full px-3 py-2 theme-border rounded-lg theme-bg-card theme-text-primary focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter project description"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-3",children:"Included Cards (will be created automatically)"}),a.jsx("div",{className:"theme-bg-secondary rounded-lg p-4 theme-border",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.includedCards.map((y,v)=>a.jsx("div",{className:"theme-bg-primary rounded p-3 theme-border",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("span",{className:"text-sm theme-text-secondary bg-blue-100 px-2 py-1 rounded capitalize",children:y.type}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium theme-text-primary text-sm",children:y.title}),a.jsx("p",{className:"theme-text-secondary text-xs mt-1",children:y.description})]})]})},v))})})]}),t.files&&t.files.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-3",children:"Template Files (will be included)"}),a.jsx("div",{className:"theme-bg-secondary rounded-lg p-4 theme-border",children:a.jsx("div",{className:"space-y-2",children:t.files.map((y,v)=>a.jsxs("div",{className:"flex items-center justify-between theme-bg-primary rounded p-2 theme-border",children:[a.jsx("span",{className:"theme-text-primary text-sm truncate",children:typeof y=="string"?y:y.name}),a.jsx("span",{className:"theme-text-secondary text-xs",children:typeof y!="string"&&y.size?`(${(y.size/1024/1024).toFixed(2)} MB)`:""})]},v))})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t theme-border",children:[a.jsx("button",{type:"button",onClick:s,disabled:h,className:"px-4 py-2 theme-text-secondary hover:theme-text-primary font-medium transition-colors duration-200 disabled:opacity-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Creating Project...":"Create Project"})]})]})]})]})},lx=[{id:1,title:"Kitchen Renovation",description:"Complete kitchen remodel with modern appliances and finishes",type:"renovation",cards:15,duration:"8-12 weeks",tags:["kitchen","renovation","appliances","cabinets"],includedCards:[{type:"site",title:"Demolition Phase",description:"Remove existing cabinets, countertops, and appliances"},{type:"vendor",title:"Cabinet Supplier",description:"Local cabinet maker for custom kitchen units"},{type:"inspiration",title:"Modern Kitchen Design",description:"Clean lines with quartz countertops and subway tile"},{type:"note",title:"Client Preferences",description:"Prefers white/light colors, needs extra storage"}]},{id:2,title:"Bathroom Remodel",description:"Full bathroom renovation with luxury finishes",type:"renovation",cards:12,duration:"6-8 weeks",tags:["bathroom","renovation","tiles","fixtures"],includedCards:[{type:"site",title:"Plumbing Updates",description:"Install new plumbing for updated layout"},{type:"vendor",title:"Tile Supplier",description:"Premium tile showroom for natural stone"},{type:"inspiration",title:"Spa-like Bathroom",description:"Natural stone with rainfall shower"},{type:"note",title:"Accessibility Notes",description:"Consider grab bars and non-slip surfaces"}]}],g5=()=>{const[t,s]=b.useState("All Templates"),[i,l]=b.useState(""),[c,f]=b.useState([]),[d,h]=b.useState(!0),[p,x]=b.useState(null),[g,y]=b.useState(null),[v,N]=b.useState(!1);b.useEffect(()=>{(async()=>{h(!0),x(null);try{console.log("Fetching templates from API...");const A=await fetch(`${pe}/templates/templates`);if(!A.ok)throw new Error(`HTTP error! status: ${A.status}`);const D=await A.json();console.log("Raw API response:",D);let V=[];D&&typeof D=="object"&&D.template_id?(console.log("Single template object detected"),V=[{template_id:D.template_id,title:D.template_name,description:D.description,type:"assessment",cards:D.files?D.files.length:0,duration:"Not specified",tags:["site-assessment","initial-visit","protocol"],includedCards:[{type:"site",title:"Site Assessment",description:"Document environmental factors and access issues"},{type:"note",title:"Municipal Permits",description:"Check required permits before project initiation"}]}]):Array.isArray(D)?V=D.map(L=>({template_id:L.template_id||L.id,title:L.template_name||L.title,description:L.description,type:L.type||"Residential",cards:L.files?L.files.length:0,duration:L.duration||"Not specified",tags:L.tags||[],includedCards:L.includedCards||[{type:L.type||"site",title:L.template_name||"Site Assessment",description:"Initial site evaluation"},{type:"note",title:"Project Notes",description:"Important project considerations"}]})):D&&Array.isArray(D.templates)?V=D.templates:(console.warn("No valid template data found in API response, using default templates"),V=lx),console.log("Final templates:",V),f(V)}catch(A){console.error("Error fetching templates:",A),x(`Failed to load templates: ${A.message}`),console.log("Falling back to default templates"),f(lx)}finally{h(!1)}})()},[]);const w=["All Templates","Residential","Commercial","Renovation","New Construction"],E=c.filter(k=>{const A=i.toLowerCase(),D=k.title?.toLowerCase().includes(A)||k.description?.toLowerCase().includes(A)||k.tags?.some(L=>L.toLowerCase().includes(A)),V=t==="All Templates"||k.type?.toLowerCase()===t.toLowerCase()||k.tags?.includes(t.toLowerCase());return D&&V}),C=k=>{switch(k){case"site":return"";case"vendor":return"";case"inspiration":return"";case"note":return"";default:return""}};return a.jsx("div",{className:"min-h-screen theme-bg-primary py-6 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs(ks,{to:"/",className:"inline-flex items-center theme-text-secondary hover:theme-text-primary mb-6",children:[a.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Projects"]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl theme-text-primary font-bold",children:"Project Templates"}),a.jsx("p",{className:"text-sm mt-1",children:"Start your project with pre-built card templates"})]})}),a.jsx("div",{className:"mb-4",children:a.jsx("input",{type:"text",placeholder:"Search templates...",value:i,onChange:k=>l(k.target.value),className:"w-full px-3 py-2 theme-border rounded-sm theme-bg-card theme-text-primary focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})}),a.jsx("div",{className:"border-b theme-border mb-6",children:a.jsx("nav",{className:" overflow-x-auto whitespace-nowrap scrollbar-hidden",children:w.map(k=>a.jsx("button",{onClick:()=>s(k),className:`whitespace-nowrap py-2 px-3 border-b-2 font-medium text-xs ${t===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:k},k))})})]}),a.jsxs("div",{className:"space-y-6",children:[d&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading templates..."})]}),p&&a.jsxs("div",{className:"text-center py-4 rounded-lg ",children:[a.jsx("p",{className:" font-medium",children:p}),a.jsx("p",{className:"text-sm  mt-1",children:"Showing default templates instead"})]}),!d&&E.length>0&&a.jsx("div",{className:"space-y-6 theme-bg-secondary rounded-lg",children:E.map(k=>a.jsx("div",{className:"theme-bg-card rounded-lg shadow-sm theme-border hover:shadow-md transition-shadow duration-150 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold theme-text-primary mb-2",children:k.title}),a.jsx("p",{className:"theme-text-secondary text-lg mb-4",children:k.description})]})}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800 capitalize",children:k.type}),a.jsx("span",{className:"text-gray-500 text-sm",children:""}),a.jsxs("span",{className:"text-gray-500 font-medium",children:[k.cards," cards"]}),a.jsx("span",{className:"text-gray-500 text-sm",children:""}),a.jsx("span",{className:"text-gray-500 font-medium",children:k.duration})]}),k.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:k.tags.map(A=>a.jsxs("span",{className:"inline-block theme-bg-primary theme-text-primary text-sm px-3 py-1.5 rounded-lg",children:["#",A]},A))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-lg font-semibold theme-text-primary mb-4",children:"Included Cards:"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:k.includedCards.map((A,D)=>a.jsx("div",{className:"theme-bg-primary rounded-lg p-4 theme-border hover:bg-gray-100 transition-colors duration-150",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"text-lg shrink-0 mt-0.5",children:C(A.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-semibold theme-text-primary text-base mb-1",children:A.title}),a.jsx("p",{className:"theme-text-primary text-sm leading-relaxed",children:A.description})]})]})},D))})]}),a.jsx("div",{className:"border-t border-gray-200 pt-6",children:a.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg transition-colors duration-150 flex items-center justify-center space-x-2 text-base",children:[a.jsx("span",{className:"text-lg",children:"+"}),a.jsx("span",{children:"Use Template"})]})})]})},k.id))}),v&&selectedTemplate&&a.jsx(p5,{template:selectedTemplate,onClose:()=>{N(!1),setSelectedTemplate(null)},onSave:k=>{console.log("Creating project from template:",k),N(!1),setSelectedTemplate(null)}}),!d&&!p&&E.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No templates found"}),a.jsx("p",{className:"text-gray-600",children:i?"Try adjusting your search terms":"No templates available"})]})]})]})})},x5=({isOpen:t,onClose:s,project:i,onSave:l})=>{const[c,f]=b.useState({title:"",assignee:"",location:"",description:"",dueDate:"",status:""}),[d,h]=b.useState(!1),[p,x]=b.useState(""),{authFetch:g}=Ye();b.useEffect(()=>{i&&(f({title:i.title||"",assignee:i.assignee||"",location:i.location||"",description:i.description||"",dueDate:i.docDate&&i.docDate!=="No date"?(()=>{const v=new Date(i.docDate);return v.setDate(v.getDate()+1),v.toISOString().split("T")[0]})():"",status:i.status||""}),x(""))},[i,t]);const y=async v=>{v.preventDefault(),h(!0),x("");try{if(!c.title.trim()||!c.assignee.trim())throw new Error("Project title and client name are required");const N={project_name:c.title,client_name:c.assignee,location:c.location,project_description:c.description,due_date:c.dueDate,status:c.status},w=await g(`${pe}/projects/projects/${i.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!w.ok){const C=await w.json().catch(()=>null);throw new Error(C?.message||`Failed to update project: ${w.status}`)}const E=await w.json();l(E),s()}catch(N){x(N.message)}finally{h(!1)}};return!t||!i?null:a.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 p-4 backdrop-blur-[1px]",onClick:s,children:a.jsxs("div",{className:"theme-bg-card rounded-lg max-w-md w-full p-6 animate-fadeInUp shadow-2xl",onClick:v=>v.stopPropagation(),children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"Edit Project"}),a.jsxs("form",{onSubmit:y,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Project Title *"}),a.jsx("input",{type:"text",name:"title",value:c.title,onChange:v=>f(N=>({...N,title:v.target.value})),required:!0,disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter project title"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Client Name *"}),a.jsx("input",{type:"text",name:"assignee",value:c.assignee,onChange:v=>f(N=>({...N,assignee:v.target.value})),required:!0,disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter client name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Location"}),a.jsx("input",{type:"text",name:"location",value:c.location,onChange:v=>f(N=>({...N,location:v.target.value})),disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter location"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Status *"}),a.jsxs("select",{name:"status",value:c.status,onChange:v=>f(N=>({...N,status:v.target.value})),disabled:d,className:"w-full px-3 py-2 theme-bg-secondary border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",children:[a.jsx("option",{value:"Planning",children:"Planning"}),a.jsx("option",{value:"progress",children:"In Progress"}),a.jsx("option",{value:"review",children:"Review"}),a.jsx("option",{value:"completed",children:"Completed"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Due Date *"}),a.jsx("input",{type:"date",name:"dueDate",value:c.dueDate,onChange:v=>f(N=>({...N,dueDate:v.target.value})),required:!0,disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium theme-text-primary mb-1",children:"Description"}),a.jsx("textarea",{name:"description",value:c.description,onChange:v=>f(N=>({...N,description:v.target.value})),rows:3,disabled:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 disabled:opacity-50",placeholder:"Enter project description"})]})]}),p&&a.jsx("div",{className:"text-red-600 text-sm mt-2",children:p}),a.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[a.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-400 hover:text-gray-600",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:d?"Updating...":"Update Project"})]})]})]})})};function y5(){const[t,s]=b.useState(""),i=y=>s(v=>v+y+`
`),l=()=>({access:localStorage.getItem("accessToken"),refresh:localStorage.getItem("refreshToken")}),c=y=>{try{if(!y)return" No token";const v=y.split(".");return v.length!==3?" Not a JWT":JSON.stringify(JSON.parse(atob(v[1])),null,2)}catch(v){return" Decode failed: "+v.message}},f=async()=>{const{access:y}=l();i(" Testing access token");try{const v=await fetch(`${pe}/auth/user/protected`,{headers:{Authorization:"Bearer "+y}});i("Status: "+v.status),i(await v.text())}catch(v){i(" Error: "+v.message)}},d=async()=>{const{refresh:y}=l();i(" Testing refresh token");try{const v=await fetch(`${pe}/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:y})});i("Status: "+v.status),i(await v.text())}catch(v){i(" Error: "+v.message)}},h=()=>{localStorage.setItem("accessToken","broken.token.here"),i(" Access token corrupted")},p=()=>{localStorage.removeItem("accessToken"),i(" Access token removed (refresh should kick in)")},x=()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),i(" Cleared all tokens")},g=()=>{const{access:y,refresh:v}=l();i(` Access Token:
`+y),i(` Refresh Token:
`+v),i(`
 Decoded Access:
`+c(y)),i(`
 Decoded Refresh:
`+c(v))};return a.jsxs("div",{style:{padding:"20px",fontFamily:"monospace"},children:[a.jsx("h2",{className:"bg-violet-100 rounded-2xl flex justify-center mb-4 text-2xl",children:" Auth Debug Panel"}),a.jsx("button",{className:"bg-blue-300 rounded-2xl p-1",onClick:g,children:"Show Tokens"}),a.jsx("button",{className:"bg-green-300 rounded-2xl p-1",onClick:f,style:{marginLeft:10},children:"Test Access"}),a.jsx("button",{className:"bg-red-300 rounded-2xl p-1",onClick:d,style:{marginLeft:10},children:"Test Refresh"}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("button",{className:"bg-yellow-300 rounded-2xl p-1",onClick:h,children:"Corrupt Access Token"}),a.jsx("button",{className:"bg-purple-300 rounded-2xl p-1",onClick:p,style:{marginLeft:10},children:"Remove Access Token"}),a.jsx("br",{}),a.jsx("br",{}),a.jsx("button",{onClick:x,style:{background:"red",color:"white"},children:"Clear All Tokens"}),a.jsx("pre",{className:"scrollbar-hidden",style:{marginTop:"20px",padding:"10px",background:"#111",color:"#0f0",height:"70vh",overflow:"auto",whiteSpace:"pre-wrap"},children:t})]})}function Nb(t,s){return function(){return t.apply(s,arguments)}}const{toString:b5}=Object.prototype,{getPrototypeOf:Af}=Object,{iterator:bo,toStringTag:Sb}=Symbol,vo=(t=>s=>{const i=b5.call(s);return t[i]||(t[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),wn=t=>(t=t.toLowerCase(),s=>vo(s)===t),jo=t=>s=>typeof s===t,{isArray:ar}=Array,Wa=jo("undefined");function Ci(t){return t!==null&&!Wa(t)&&t.constructor!==null&&!Wa(t.constructor)&&qt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Cb=wn("ArrayBuffer");function v5(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Cb(t.buffer),s}const j5=jo("string"),qt=jo("function"),Tb=jo("number"),Ti=t=>t!==null&&typeof t=="object",w5=t=>t===!0||t===!1,to=t=>{if(vo(t)!=="object")return!1;const s=Af(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Sb in t)&&!(bo in t)},N5=t=>{if(!Ti(t)||Ci(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},S5=wn("Date"),C5=wn("File"),T5=wn("Blob"),k5=wn("FileList"),E5=t=>Ti(t)&&qt(t.pipe),A5=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||qt(t.append)&&((s=vo(t))==="formdata"||s==="object"&&qt(t.toString)&&t.toString()==="[object FormData]"))},D5=wn("URLSearchParams"),[M5,_5,R5,L5]=["ReadableStream","Request","Response","Headers"].map(wn),O5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ki(t,s,{allOwnKeys:i=!1}={}){if(t===null||typeof t>"u")return;let l,c;if(typeof t!="object"&&(t=[t]),ar(t))for(l=0,c=t.length;l<c;l++)s.call(null,t[l],l,t);else{if(Ci(t))return;const f=i?Object.getOwnPropertyNames(t):Object.keys(t),d=f.length;let h;for(l=0;l<d;l++)h=f[l],s.call(null,t[h],h,t)}}function kb(t,s){if(Ci(t))return null;s=s.toLowerCase();const i=Object.keys(t);let l=i.length,c;for(;l-- >0;)if(c=i[l],s===c.toLowerCase())return c;return null}const Is=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Eb=t=>!Wa(t)&&t!==Is;function Pd(){const{caseless:t,skipUndefined:s}=Eb(this)&&this||{},i={},l=(c,f)=>{const d=t&&kb(i,f)||f;to(i[d])&&to(c)?i[d]=Pd(i[d],c):to(c)?i[d]=Pd({},c):ar(c)?i[d]=c.slice():(!s||!Wa(c))&&(i[d]=c)};for(let c=0,f=arguments.length;c<f;c++)arguments[c]&&ki(arguments[c],l);return i}const U5=(t,s,i,{allOwnKeys:l}={})=>(ki(s,(c,f)=>{i&&qt(c)?t[f]=Nb(c,i):t[f]=c},{allOwnKeys:l}),t),B5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),P5=(t,s,i,l)=>{t.prototype=Object.create(s.prototype,l),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),i&&Object.assign(t.prototype,i)},z5=(t,s,i,l)=>{let c,f,d;const h={};if(s=s||{},t==null)return s;do{for(c=Object.getOwnPropertyNames(t),f=c.length;f-- >0;)d=c[f],(!l||l(d,t,s))&&!h[d]&&(s[d]=t[d],h[d]=!0);t=i!==!1&&Af(t)}while(t&&(!i||i(t,s))&&t!==Object.prototype);return s},V5=(t,s,i)=>{t=String(t),(i===void 0||i>t.length)&&(i=t.length),i-=s.length;const l=t.indexOf(s,i);return l!==-1&&l===i},F5=t=>{if(!t)return null;if(ar(t))return t;let s=t.length;if(!Tb(s))return null;const i=new Array(s);for(;s-- >0;)i[s]=t[s];return i},H5=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Af(Uint8Array)),$5=(t,s)=>{const l=(t&&t[bo]).call(t);let c;for(;(c=l.next())&&!c.done;){const f=c.value;s.call(t,f[0],f[1])}},q5=(t,s)=>{let i;const l=[];for(;(i=t.exec(s))!==null;)l.push(i);return l},Y5=wn("HTMLFormElement"),G5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,l,c){return l.toUpperCase()+c}),ox=(({hasOwnProperty:t})=>(s,i)=>t.call(s,i))(Object.prototype),X5=wn("RegExp"),Ab=(t,s)=>{const i=Object.getOwnPropertyDescriptors(t),l={};ki(i,(c,f)=>{let d;(d=s(c,f,t))!==!1&&(l[f]=d||c)}),Object.defineProperties(t,l)},K5=t=>{Ab(t,(s,i)=>{if(qt(t)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const l=t[i];if(qt(l)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Z5=(t,s)=>{const i={},l=c=>{c.forEach(f=>{i[f]=!0})};return ar(t)?l(t):l(String(t).split(s)),i},Q5=()=>{},I5=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function W5(t){return!!(t&&qt(t.append)&&t[Sb]==="FormData"&&t[bo])}const J5=t=>{const s=new Array(10),i=(l,c)=>{if(Ti(l)){if(s.indexOf(l)>=0)return;if(Ci(l))return l;if(!("toJSON"in l)){s[c]=l;const f=ar(l)?[]:{};return ki(l,(d,h)=>{const p=i(d,c+1);!Wa(p)&&(f[h]=p)}),s[c]=void 0,f}}return l};return i(t,0)},eC=wn("AsyncFunction"),tC=t=>t&&(Ti(t)||qt(t))&&qt(t.then)&&qt(t.catch),Db=((t,s)=>t?setImmediate:s?((i,l)=>(Is.addEventListener("message",({source:c,data:f})=>{c===Is&&f===i&&l.length&&l.shift()()},!1),c=>{l.push(c),Is.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",qt(Is.postMessage)),nC=typeof queueMicrotask<"u"?queueMicrotask.bind(Is):typeof process<"u"&&process.nextTick||Db,sC=t=>t!=null&&qt(t[bo]),I={isArray:ar,isArrayBuffer:Cb,isBuffer:Ci,isFormData:A5,isArrayBufferView:v5,isString:j5,isNumber:Tb,isBoolean:w5,isObject:Ti,isPlainObject:to,isEmptyObject:N5,isReadableStream:M5,isRequest:_5,isResponse:R5,isHeaders:L5,isUndefined:Wa,isDate:S5,isFile:C5,isBlob:T5,isRegExp:X5,isFunction:qt,isStream:E5,isURLSearchParams:D5,isTypedArray:H5,isFileList:k5,forEach:ki,merge:Pd,extend:U5,trim:O5,stripBOM:B5,inherits:P5,toFlatObject:z5,kindOf:vo,kindOfTest:wn,endsWith:V5,toArray:F5,forEachEntry:$5,matchAll:q5,isHTMLForm:Y5,hasOwnProperty:ox,hasOwnProp:ox,reduceDescriptors:Ab,freezeMethods:K5,toObjectSet:Z5,toCamelCase:G5,noop:Q5,toFiniteNumber:I5,findKey:kb,global:Is,isContextDefined:Eb,isSpecCompliantForm:W5,toJSONObject:J5,isAsyncFn:eC,isThenable:tC,setImmediate:Db,asap:nC,isIterable:sC};function Te(t,s,i,l,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),i&&(this.config=i),l&&(this.request=l),c&&(this.response=c,this.status=c.status?c.status:null)}I.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const Mb=Te.prototype,_b={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_b[t]={value:t}});Object.defineProperties(Te,_b);Object.defineProperty(Mb,"isAxiosError",{value:!0});Te.from=(t,s,i,l,c,f)=>{const d=Object.create(Mb);I.toFlatObject(t,d,function(g){return g!==Error.prototype},x=>x!=="isAxiosError");const h=t&&t.message?t.message:"Error",p=s==null&&t?t.code:s;return Te.call(d,h,p,i,l,c),t&&d.cause==null&&Object.defineProperty(d,"cause",{value:t,configurable:!0}),d.name=t&&t.name||"Error",f&&Object.assign(d,f),d};const aC=null;function zd(t){return I.isPlainObject(t)||I.isArray(t)}function Rb(t){return I.endsWith(t,"[]")?t.slice(0,-2):t}function cx(t,s,i){return t?t.concat(s).map(function(c,f){return c=Rb(c),!i&&f?"["+c+"]":c}).join(i?".":""):s}function rC(t){return I.isArray(t)&&!t.some(zd)}const iC=I.toFlatObject(I,{},null,function(s){return/^is[A-Z]/.test(s)});function wo(t,s,i){if(!I.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,i=I.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,C){return!I.isUndefined(C[E])});const l=i.metaTokens,c=i.visitor||g,f=i.dots,d=i.indexes,p=(i.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(s);if(!I.isFunction(c))throw new TypeError("visitor must be a function");function x(w){if(w===null)return"";if(I.isDate(w))return w.toISOString();if(I.isBoolean(w))return w.toString();if(!p&&I.isBlob(w))throw new Te("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(w)||I.isTypedArray(w)?p&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,E,C){let k=w;if(w&&!C&&typeof w=="object"){if(I.endsWith(E,"{}"))E=l?E:E.slice(0,-2),w=JSON.stringify(w);else if(I.isArray(w)&&rC(w)||(I.isFileList(w)||I.endsWith(E,"[]"))&&(k=I.toArray(w)))return E=Rb(E),k.forEach(function(D,V){!(I.isUndefined(D)||D===null)&&s.append(d===!0?cx([E],V,f):d===null?E:E+"[]",x(D))}),!1}return zd(w)?!0:(s.append(cx(C,E,f),x(w)),!1)}const y=[],v=Object.assign(iC,{defaultVisitor:g,convertValue:x,isVisitable:zd});function N(w,E){if(!I.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));y.push(w),I.forEach(w,function(k,A){(!(I.isUndefined(k)||k===null)&&c.call(s,k,I.isString(A)?A.trim():A,E,v))===!0&&N(k,E?E.concat(A):[A])}),y.pop()}}if(!I.isObject(t))throw new TypeError("data must be an object");return N(t),s}function ux(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(l){return s[l]})}function Df(t,s){this._pairs=[],t&&wo(t,this,s)}const Lb=Df.prototype;Lb.append=function(s,i){this._pairs.push([s,i])};Lb.toString=function(s){const i=s?function(l){return s.call(this,l,ux)}:ux;return this._pairs.map(function(c){return i(c[0])+"="+i(c[1])},"").join("&")};function lC(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ob(t,s,i){if(!s)return t;const l=i&&i.encode||lC;I.isFunction(i)&&(i={serialize:i});const c=i&&i.serialize;let f;if(c?f=c(s,i):f=I.isURLSearchParams(s)?s.toString():new Df(s,i).toString(l),f){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+f}return t}class dx{constructor(){this.handlers=[]}use(s,i,l){return this.handlers.push({fulfilled:s,rejected:i,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){I.forEach(this.handlers,function(l){l!==null&&s(l)})}}const Ub={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oC=typeof URLSearchParams<"u"?URLSearchParams:Df,cC=typeof FormData<"u"?FormData:null,uC=typeof Blob<"u"?Blob:null,dC={isBrowser:!0,classes:{URLSearchParams:oC,FormData:cC,Blob:uC},protocols:["http","https","file","blob","url","data"]},Mf=typeof window<"u"&&typeof document<"u",Vd=typeof navigator=="object"&&navigator||void 0,fC=Mf&&(!Vd||["ReactNative","NativeScript","NS"].indexOf(Vd.product)<0),mC=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hC=Mf&&window.location.href||"http://localhost",pC=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mf,hasStandardBrowserEnv:fC,hasStandardBrowserWebWorkerEnv:mC,navigator:Vd,origin:hC},Symbol.toStringTag,{value:"Module"})),Dt={...pC,...dC};function gC(t,s){return wo(t,new Dt.classes.URLSearchParams,{visitor:function(i,l,c,f){return Dt.isNode&&I.isBuffer(i)?(this.append(l,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...s})}function xC(t){return I.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function yC(t){const s={},i=Object.keys(t);let l;const c=i.length;let f;for(l=0;l<c;l++)f=i[l],s[f]=t[f];return s}function Bb(t){function s(i,l,c,f){let d=i[f++];if(d==="__proto__")return!0;const h=Number.isFinite(+d),p=f>=i.length;return d=!d&&I.isArray(c)?c.length:d,p?(I.hasOwnProp(c,d)?c[d]=[c[d],l]:c[d]=l,!h):((!c[d]||!I.isObject(c[d]))&&(c[d]=[]),s(i,l,c[d],f)&&I.isArray(c[d])&&(c[d]=yC(c[d])),!h)}if(I.isFormData(t)&&I.isFunction(t.entries)){const i={};return I.forEachEntry(t,(l,c)=>{s(xC(l),c,i,0)}),i}return null}function bC(t,s,i){if(I.isString(t))try{return(s||JSON.parse)(t),I.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(i||JSON.stringify)(t)}const Ei={transitional:Ub,adapter:["xhr","http","fetch"],transformRequest:[function(s,i){const l=i.getContentType()||"",c=l.indexOf("application/json")>-1,f=I.isObject(s);if(f&&I.isHTMLForm(s)&&(s=new FormData(s)),I.isFormData(s))return c?JSON.stringify(Bb(s)):s;if(I.isArrayBuffer(s)||I.isBuffer(s)||I.isStream(s)||I.isFile(s)||I.isBlob(s)||I.isReadableStream(s))return s;if(I.isArrayBufferView(s))return s.buffer;if(I.isURLSearchParams(s))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let h;if(f){if(l.indexOf("application/x-www-form-urlencoded")>-1)return gC(s,this.formSerializer).toString();if((h=I.isFileList(s))||l.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return wo(h?{"files[]":s}:s,p&&new p,this.formSerializer)}}return f||c?(i.setContentType("application/json",!1),bC(s)):s}],transformResponse:[function(s){const i=this.transitional||Ei.transitional,l=i&&i.forcedJSONParsing,c=this.responseType==="json";if(I.isResponse(s)||I.isReadableStream(s))return s;if(s&&I.isString(s)&&(l&&!this.responseType||c)){const d=!(i&&i.silentJSONParsing)&&c;try{return JSON.parse(s,this.parseReviver)}catch(h){if(d)throw h.name==="SyntaxError"?Te.from(h,Te.ERR_BAD_RESPONSE,this,null,this.response):h}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Dt.classes.FormData,Blob:Dt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],t=>{Ei.headers[t]={}});const vC=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),jC=t=>{const s={};let i,l,c;return t&&t.split(`
`).forEach(function(d){c=d.indexOf(":"),i=d.substring(0,c).trim().toLowerCase(),l=d.substring(c+1).trim(),!(!i||s[i]&&vC[i])&&(i==="set-cookie"?s[i]?s[i].push(l):s[i]=[l]:s[i]=s[i]?s[i]+", "+l:l)}),s},fx=Symbol("internals");function ri(t){return t&&String(t).trim().toLowerCase()}function no(t){return t===!1||t==null?t:I.isArray(t)?t.map(no):String(t)}function wC(t){const s=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=i.exec(t);)s[l[1]]=l[2];return s}const NC=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ud(t,s,i,l,c){if(I.isFunction(l))return l.call(this,s,i);if(c&&(s=i),!!I.isString(s)){if(I.isString(l))return s.indexOf(l)!==-1;if(I.isRegExp(l))return l.test(s)}}function SC(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,i,l)=>i.toUpperCase()+l)}function CC(t,s){const i=I.toCamelCase(" "+s);["get","set","has"].forEach(l=>{Object.defineProperty(t,l+i,{value:function(c,f,d){return this[l].call(this,s,c,f,d)},configurable:!0})})}let Yt=class{constructor(s){s&&this.set(s)}set(s,i,l){const c=this;function f(h,p,x){const g=ri(p);if(!g)throw new Error("header name must be a non-empty string");const y=I.findKey(c,g);(!y||c[y]===void 0||x===!0||x===void 0&&c[y]!==!1)&&(c[y||p]=no(h))}const d=(h,p)=>I.forEach(h,(x,g)=>f(x,g,p));if(I.isPlainObject(s)||s instanceof this.constructor)d(s,i);else if(I.isString(s)&&(s=s.trim())&&!NC(s))d(jC(s),i);else if(I.isObject(s)&&I.isIterable(s)){let h={},p,x;for(const g of s){if(!I.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[x=g[0]]=(p=h[x])?I.isArray(p)?[...p,g[1]]:[p,g[1]]:g[1]}d(h,i)}else s!=null&&f(i,s,l);return this}get(s,i){if(s=ri(s),s){const l=I.findKey(this,s);if(l){const c=this[l];if(!i)return c;if(i===!0)return wC(c);if(I.isFunction(i))return i.call(this,c,l);if(I.isRegExp(i))return i.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,i){if(s=ri(s),s){const l=I.findKey(this,s);return!!(l&&this[l]!==void 0&&(!i||ud(this,this[l],l,i)))}return!1}delete(s,i){const l=this;let c=!1;function f(d){if(d=ri(d),d){const h=I.findKey(l,d);h&&(!i||ud(l,l[h],h,i))&&(delete l[h],c=!0)}}return I.isArray(s)?s.forEach(f):f(s),c}clear(s){const i=Object.keys(this);let l=i.length,c=!1;for(;l--;){const f=i[l];(!s||ud(this,this[f],f,s,!0))&&(delete this[f],c=!0)}return c}normalize(s){const i=this,l={};return I.forEach(this,(c,f)=>{const d=I.findKey(l,f);if(d){i[d]=no(c),delete i[f];return}const h=s?SC(f):String(f).trim();h!==f&&delete i[f],i[h]=no(c),l[h]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const i=Object.create(null);return I.forEach(this,(l,c)=>{l!=null&&l!==!1&&(i[c]=s&&I.isArray(l)?l.join(", "):l)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,i])=>s+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...i){const l=new this(s);return i.forEach(c=>l.set(c)),l}static accessor(s){const l=(this[fx]=this[fx]={accessors:{}}).accessors,c=this.prototype;function f(d){const h=ri(d);l[h]||(CC(c,d),l[h]=!0)}return I.isArray(s)?s.forEach(f):f(s),this}};Yt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Yt.prototype,({value:t},s)=>{let i=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(l){this[i]=l}}});I.freezeMethods(Yt);function dd(t,s){const i=this||Ei,l=s||i,c=Yt.from(l.headers);let f=l.data;return I.forEach(t,function(h){f=h.call(i,f,c.normalize(),s?s.status:void 0)}),c.normalize(),f}function Pb(t){return!!(t&&t.__CANCEL__)}function rr(t,s,i){Te.call(this,t??"canceled",Te.ERR_CANCELED,s,i),this.name="CanceledError"}I.inherits(rr,Te,{__CANCEL__:!0});function zb(t,s,i){const l=i.config.validateStatus;!i.status||!l||l(i.status)?t(i):s(new Te("Request failed with status code "+i.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function TC(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function kC(t,s){t=t||10;const i=new Array(t),l=new Array(t);let c=0,f=0,d;return s=s!==void 0?s:1e3,function(p){const x=Date.now(),g=l[f];d||(d=x),i[c]=p,l[c]=x;let y=f,v=0;for(;y!==c;)v+=i[y++],y=y%t;if(c=(c+1)%t,c===f&&(f=(f+1)%t),x-d<s)return;const N=g&&x-g;return N?Math.round(v*1e3/N):void 0}}function EC(t,s){let i=0,l=1e3/s,c,f;const d=(x,g=Date.now())=>{i=g,c=null,f&&(clearTimeout(f),f=null),t(...x)};return[(...x)=>{const g=Date.now(),y=g-i;y>=l?d(x,g):(c=x,f||(f=setTimeout(()=>{f=null,d(c)},l-y)))},()=>c&&d(c)]}const fo=(t,s,i=3)=>{let l=0;const c=kC(50,250);return EC(f=>{const d=f.loaded,h=f.lengthComputable?f.total:void 0,p=d-l,x=c(p),g=d<=h;l=d;const y={loaded:d,total:h,progress:h?d/h:void 0,bytes:p,rate:x||void 0,estimated:x&&h&&g?(h-d)/x:void 0,event:f,lengthComputable:h!=null,[s?"download":"upload"]:!0};t(y)},i)},mx=(t,s)=>{const i=t!=null;return[l=>s[0]({lengthComputable:i,total:t,loaded:l}),s[1]]},hx=t=>(...s)=>I.asap(()=>t(...s)),AC=Dt.hasStandardBrowserEnv?((t,s)=>i=>(i=new URL(i,Dt.origin),t.protocol===i.protocol&&t.host===i.host&&(s||t.port===i.port)))(new URL(Dt.origin),Dt.navigator&&/(msie|trident)/i.test(Dt.navigator.userAgent)):()=>!0,DC=Dt.hasStandardBrowserEnv?{write(t,s,i,l,c,f,d){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(s)}`];I.isNumber(i)&&h.push(`expires=${new Date(i).toUTCString()}`),I.isString(l)&&h.push(`path=${l}`),I.isString(c)&&h.push(`domain=${c}`),f===!0&&h.push("secure"),I.isString(d)&&h.push(`SameSite=${d}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function MC(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _C(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Vb(t,s,i){let l=!MC(s);return t&&(l||i==!1)?_C(t,s):s}const px=t=>t instanceof Yt?{...t}:t;function ta(t,s){s=s||{};const i={};function l(x,g,y,v){return I.isPlainObject(x)&&I.isPlainObject(g)?I.merge.call({caseless:v},x,g):I.isPlainObject(g)?I.merge({},g):I.isArray(g)?g.slice():g}function c(x,g,y,v){if(I.isUndefined(g)){if(!I.isUndefined(x))return l(void 0,x,y,v)}else return l(x,g,y,v)}function f(x,g){if(!I.isUndefined(g))return l(void 0,g)}function d(x,g){if(I.isUndefined(g)){if(!I.isUndefined(x))return l(void 0,x)}else return l(void 0,g)}function h(x,g,y){if(y in s)return l(x,g);if(y in t)return l(void 0,x)}const p={url:f,method:f,data:f,baseURL:d,transformRequest:d,transformResponse:d,paramsSerializer:d,timeout:d,timeoutMessage:d,withCredentials:d,withXSRFToken:d,adapter:d,responseType:d,xsrfCookieName:d,xsrfHeaderName:d,onUploadProgress:d,onDownloadProgress:d,decompress:d,maxContentLength:d,maxBodyLength:d,beforeRedirect:d,transport:d,httpAgent:d,httpsAgent:d,cancelToken:d,socketPath:d,responseEncoding:d,validateStatus:h,headers:(x,g,y)=>c(px(x),px(g),y,!0)};return I.forEach(Object.keys({...t,...s}),function(g){const y=p[g]||c,v=y(t[g],s[g],g);I.isUndefined(v)&&y!==h||(i[g]=v)}),i}const Fb=t=>{const s=ta({},t);let{data:i,withXSRFToken:l,xsrfHeaderName:c,xsrfCookieName:f,headers:d,auth:h}=s;if(s.headers=d=Yt.from(d),s.url=Ob(Vb(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&d.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),I.isFormData(i)){if(Dt.hasStandardBrowserEnv||Dt.hasStandardBrowserWebWorkerEnv)d.setContentType(void 0);else if(I.isFunction(i.getHeaders)){const p=i.getHeaders(),x=["content-type","content-length"];Object.entries(p).forEach(([g,y])=>{x.includes(g.toLowerCase())&&d.set(g,y)})}}if(Dt.hasStandardBrowserEnv&&(l&&I.isFunction(l)&&(l=l(s)),l||l!==!1&&AC(s.url))){const p=c&&f&&DC.read(f);p&&d.set(c,p)}return s},RC=typeof XMLHttpRequest<"u",LC=RC&&function(t){return new Promise(function(i,l){const c=Fb(t);let f=c.data;const d=Yt.from(c.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:x}=c,g,y,v,N,w;function E(){N&&N(),w&&w(),c.cancelToken&&c.cancelToken.unsubscribe(g),c.signal&&c.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(c.method.toUpperCase(),c.url,!0),C.timeout=c.timeout;function k(){if(!C)return;const D=Yt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),L={data:!h||h==="text"||h==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:D,config:t,request:C};zb(function(z){i(z),E()},function(z){l(z),E()},L),C=null}"onloadend"in C?C.onloadend=k:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(k)},C.onabort=function(){C&&(l(new Te("Request aborted",Te.ECONNABORTED,t,C)),C=null)},C.onerror=function(V){const L=V&&V.message?V.message:"Network Error",U=new Te(L,Te.ERR_NETWORK,t,C);U.event=V||null,l(U),C=null},C.ontimeout=function(){let V=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const L=c.transitional||Ub;c.timeoutErrorMessage&&(V=c.timeoutErrorMessage),l(new Te(V,L.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,C)),C=null},f===void 0&&d.setContentType(null),"setRequestHeader"in C&&I.forEach(d.toJSON(),function(V,L){C.setRequestHeader(L,V)}),I.isUndefined(c.withCredentials)||(C.withCredentials=!!c.withCredentials),h&&h!=="json"&&(C.responseType=c.responseType),x&&([v,w]=fo(x,!0),C.addEventListener("progress",v)),p&&C.upload&&([y,N]=fo(p),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",N)),(c.cancelToken||c.signal)&&(g=D=>{C&&(l(!D||D.type?new rr(null,t,C):D),C.abort(),C=null)},c.cancelToken&&c.cancelToken.subscribe(g),c.signal&&(c.signal.aborted?g():c.signal.addEventListener("abort",g)));const A=TC(c.url);if(A&&Dt.protocols.indexOf(A)===-1){l(new Te("Unsupported protocol "+A+":",Te.ERR_BAD_REQUEST,t));return}C.send(f||null)})},OC=(t,s)=>{const{length:i}=t=t?t.filter(Boolean):[];if(s||i){let l=new AbortController,c;const f=function(x){if(!c){c=!0,h();const g=x instanceof Error?x:this.reason;l.abort(g instanceof Te?g:new rr(g instanceof Error?g.message:g))}};let d=s&&setTimeout(()=>{d=null,f(new Te(`timeout ${s} of ms exceeded`,Te.ETIMEDOUT))},s);const h=()=>{t&&(d&&clearTimeout(d),d=null,t.forEach(x=>{x.unsubscribe?x.unsubscribe(f):x.removeEventListener("abort",f)}),t=null)};t.forEach(x=>x.addEventListener("abort",f));const{signal:p}=l;return p.unsubscribe=()=>I.asap(h),p}},UC=function*(t,s){let i=t.byteLength;if(i<s){yield t;return}let l=0,c;for(;l<i;)c=l+s,yield t.slice(l,c),l=c},BC=async function*(t,s){for await(const i of PC(t))yield*UC(i,s)},PC=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:i,value:l}=await s.read();if(i)break;yield l}}finally{await s.cancel()}},gx=(t,s,i,l)=>{const c=BC(t,s);let f=0,d,h=p=>{d||(d=!0,l&&l(p))};return new ReadableStream({async pull(p){try{const{done:x,value:g}=await c.next();if(x){h(),p.close();return}let y=g.byteLength;if(i){let v=f+=y;i(v)}p.enqueue(new Uint8Array(g))}catch(x){throw h(x),x}},cancel(p){return h(p),c.return()}},{highWaterMark:2})},xx=64*1024,{isFunction:Kl}=I,zC=(({Request:t,Response:s})=>({Request:t,Response:s}))(I.global),{ReadableStream:yx,TextEncoder:bx}=I.global,vx=(t,...s)=>{try{return!!t(...s)}catch{return!1}},VC=t=>{t=I.merge.call({skipUndefined:!0},zC,t);const{fetch:s,Request:i,Response:l}=t,c=s?Kl(s):typeof fetch=="function",f=Kl(i),d=Kl(l);if(!c)return!1;const h=c&&Kl(yx),p=c&&(typeof bx=="function"?(w=>E=>w.encode(E))(new bx):async w=>new Uint8Array(await new i(w).arrayBuffer())),x=f&&h&&vx(()=>{let w=!1;const E=new i(Dt.origin,{body:new yx,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!E}),g=d&&h&&vx(()=>I.isReadableStream(new l("").body)),y={stream:g&&(w=>w.body)};c&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!y[w]&&(y[w]=(E,C)=>{let k=E&&E[w];if(k)return k.call(E);throw new Te(`Response type '${w}' is not supported`,Te.ERR_NOT_SUPPORT,C)})});const v=async w=>{if(w==null)return 0;if(I.isBlob(w))return w.size;if(I.isSpecCompliantForm(w))return(await new i(Dt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(I.isArrayBufferView(w)||I.isArrayBuffer(w))return w.byteLength;if(I.isURLSearchParams(w)&&(w=w+""),I.isString(w))return(await p(w)).byteLength},N=async(w,E)=>{const C=I.toFiniteNumber(w.getContentLength());return C??v(E)};return async w=>{let{url:E,method:C,data:k,signal:A,cancelToken:D,timeout:V,onDownloadProgress:L,onUploadProgress:U,responseType:z,headers:q,withCredentials:te="same-origin",fetchOptions:ce}=Fb(w),$=s||fetch;z=z?(z+"").toLowerCase():"text";let G=OC([A,D&&D.toAbortSignal()],V),ae=null;const ee=G&&G.unsubscribe&&(()=>{G.unsubscribe()});let de;try{if(U&&x&&C!=="get"&&C!=="head"&&(de=await N(q,k))!==0){let M=new i(E,{method:"POST",body:k,duplex:"half"}),O;if(I.isFormData(k)&&(O=M.headers.get("content-type"))&&q.setContentType(O),M.body){const[se,J]=mx(de,fo(hx(U)));k=gx(M.body,xx,se,J)}}I.isString(te)||(te=te?"include":"omit");const R=f&&"credentials"in i.prototype,B={...ce,signal:G,method:C.toUpperCase(),headers:q.normalize().toJSON(),body:k,duplex:"half",credentials:R?te:void 0};ae=f&&new i(E,B);let F=await(f?$(ae,ce):$(E,B));const Q=g&&(z==="stream"||z==="response");if(g&&(L||Q&&ee)){const M={};["status","statusText","headers"].forEach(ie=>{M[ie]=F[ie]});const O=I.toFiniteNumber(F.headers.get("content-length")),[se,J]=L&&mx(O,fo(hx(L),!0))||[];F=new l(gx(F.body,xx,se,()=>{J&&J(),ee&&ee()}),M)}z=z||"text";let S=await y[I.findKey(y,z)||"text"](F,w);return!Q&&ee&&ee(),await new Promise((M,O)=>{zb(M,O,{data:S,headers:Yt.from(F.headers),status:F.status,statusText:F.statusText,config:w,request:ae})})}catch(R){throw ee&&ee(),R&&R.name==="TypeError"&&/Load failed|fetch/i.test(R.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,w,ae),{cause:R.cause||R}):Te.from(R,R&&R.code,w,ae)}}},FC=new Map,Hb=t=>{let s=t&&t.env||{};const{fetch:i,Request:l,Response:c}=s,f=[l,c,i];let d=f.length,h=d,p,x,g=FC;for(;h--;)p=f[h],x=g.get(p),x===void 0&&g.set(p,x=h?new Map:VC(s)),g=x;return x};Hb();const _f={http:aC,xhr:LC,fetch:{get:Hb}};I.forEach(_f,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const jx=t=>`- ${t}`,HC=t=>I.isFunction(t)||t===null||t===!1;function $C(t,s){t=I.isArray(t)?t:[t];const{length:i}=t;let l,c;const f={};for(let d=0;d<i;d++){l=t[d];let h;if(c=l,!HC(l)&&(c=_f[(h=String(l)).toLowerCase()],c===void 0))throw new Te(`Unknown adapter '${h}'`);if(c&&(I.isFunction(c)||(c=c.get(s))))break;f[h||"#"+d]=c}if(!c){const d=Object.entries(f).map(([p,x])=>`adapter ${p} `+(x===!1?"is not supported by the environment":"is not available in the build"));let h=i?d.length>1?`since :
`+d.map(jx).join(`
`):" "+jx(d[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return c}const $b={getAdapter:$C,adapters:_f};function fd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new rr(null,t)}function wx(t){return fd(t),t.headers=Yt.from(t.headers),t.data=dd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),$b.getAdapter(t.adapter||Ei.adapter,t)(t).then(function(l){return fd(t),l.data=dd.call(t,t.transformResponse,l),l.headers=Yt.from(l.headers),l},function(l){return Pb(l)||(fd(t),l&&l.response&&(l.response.data=dd.call(t,t.transformResponse,l.response),l.response.headers=Yt.from(l.response.headers))),Promise.reject(l)})}const qb="1.13.2",No={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{No[t]=function(l){return typeof l===t||"a"+(s<1?"n ":" ")+t}});const Nx={};No.transitional=function(s,i,l){function c(f,d){return"[Axios v"+qb+"] Transitional option '"+f+"'"+d+(l?". "+l:"")}return(f,d,h)=>{if(s===!1)throw new Te(c(d," has been removed"+(i?" in "+i:"")),Te.ERR_DEPRECATED);return i&&!Nx[d]&&(Nx[d]=!0,console.warn(c(d," has been deprecated since v"+i+" and will be removed in the near future"))),s?s(f,d,h):!0}};No.spelling=function(s){return(i,l)=>(console.warn(`${l} is likely a misspelling of ${s}`),!0)};function qC(t,s,i){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const l=Object.keys(t);let c=l.length;for(;c-- >0;){const f=l[c],d=s[f];if(d){const h=t[f],p=h===void 0||d(h,f,t);if(p!==!0)throw new Te("option "+f+" must be "+p,Te.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Te("Unknown option "+f,Te.ERR_BAD_OPTION)}}const so={assertOptions:qC,validators:No},An=so.validators;let ea=class{constructor(s){this.defaults=s||{},this.interceptors={request:new dx,response:new dx}}async request(s,i){try{return await this._request(s,i)}catch(l){if(l instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const f=c.stack?c.stack.replace(/^.+\n/,""):"";try{l.stack?f&&!String(l.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+f):l.stack=f}catch{}}throw l}}_request(s,i){typeof s=="string"?(i=i||{},i.url=s):i=s||{},i=ta(this.defaults,i);const{transitional:l,paramsSerializer:c,headers:f}=i;l!==void 0&&so.assertOptions(l,{silentJSONParsing:An.transitional(An.boolean),forcedJSONParsing:An.transitional(An.boolean),clarifyTimeoutError:An.transitional(An.boolean)},!1),c!=null&&(I.isFunction(c)?i.paramsSerializer={serialize:c}:so.assertOptions(c,{encode:An.function,serialize:An.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),so.assertOptions(i,{baseUrl:An.spelling("baseURL"),withXsrfToken:An.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let d=f&&I.merge(f.common,f[i.method]);f&&I.forEach(["delete","get","head","post","put","patch","common"],w=>{delete f[w]}),i.headers=Yt.concat(d,f);const h=[];let p=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(i)===!1||(p=p&&E.synchronous,h.unshift(E.fulfilled,E.rejected))});const x=[];this.interceptors.response.forEach(function(E){x.push(E.fulfilled,E.rejected)});let g,y=0,v;if(!p){const w=[wx.bind(this),void 0];for(w.unshift(...h),w.push(...x),v=w.length,g=Promise.resolve(i);y<v;)g=g.then(w[y++],w[y++]);return g}v=h.length;let N=i;for(;y<v;){const w=h[y++],E=h[y++];try{N=w(N)}catch(C){E.call(this,C);break}}try{g=wx.call(this,N)}catch(w){return Promise.reject(w)}for(y=0,v=x.length;y<v;)g=g.then(x[y++],x[y++]);return g}getUri(s){s=ta(this.defaults,s);const i=Vb(s.baseURL,s.url,s.allowAbsoluteUrls);return Ob(i,s.params,s.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(s){ea.prototype[s]=function(i,l){return this.request(ta(l||{},{method:s,url:i,data:(l||{}).data}))}});I.forEach(["post","put","patch"],function(s){function i(l){return function(f,d,h){return this.request(ta(h||{},{method:s,headers:l?{"Content-Type":"multipart/form-data"}:{},url:f,data:d}))}}ea.prototype[s]=i(),ea.prototype[s+"Form"]=i(!0)});let YC=class Yb{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const l=this;this.promise.then(c=>{if(!l._listeners)return;let f=l._listeners.length;for(;f-- >0;)l._listeners[f](c);l._listeners=null}),this.promise.then=c=>{let f;const d=new Promise(h=>{l.subscribe(h),f=h}).then(c);return d.cancel=function(){l.unsubscribe(f)},d},s(function(f,d,h){l.reason||(l.reason=new rr(f,d,h),i(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const i=this._listeners.indexOf(s);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const s=new AbortController,i=l=>{s.abort(l)};return this.subscribe(i),s.signal.unsubscribe=()=>this.unsubscribe(i),s.signal}static source(){let s;return{token:new Yb(function(c){s=c}),cancel:s}}};function GC(t){return function(i){return t.apply(null,i)}}function XC(t){return I.isObject(t)&&t.isAxiosError===!0}const Fd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Fd).forEach(([t,s])=>{Fd[s]=t});function Gb(t){const s=new ea(t),i=Nb(ea.prototype.request,s);return I.extend(i,ea.prototype,s,{allOwnKeys:!0}),I.extend(i,s,null,{allOwnKeys:!0}),i.create=function(c){return Gb(ta(t,c))},i}const at=Gb(Ei);at.Axios=ea;at.CanceledError=rr;at.CancelToken=YC;at.isCancel=Pb;at.VERSION=qb;at.toFormData=wo;at.AxiosError=Te;at.Cancel=at.CanceledError;at.all=function(s){return Promise.all(s)};at.spread=GC;at.isAxiosError=XC;at.mergeConfig=ta;at.AxiosHeaders=Yt;at.formToJSON=t=>Bb(I.isHTMLForm(t)?new FormData(t):t);at.getAdapter=$b.getAdapter;at.HttpStatusCode=Fd;at.default=at;const{Axios:sT,AxiosError:aT,CanceledError:rT,isCancel:iT,CancelToken:lT,VERSION:oT,all:cT,Cancel:uT,isAxiosError:dT,spread:fT,toFormData:mT,AxiosHeaders:hT,HttpStatusCode:pT,formToJSON:gT,getAdapter:xT,mergeConfig:yT}=at,KC=()=>{const[t]=Rj(),s=t.get("token"),[i,l]=b.useState(!1),[c,f]=b.useState(!0),[d,h]=b.useState(!1),[p,x]=b.useState({email:"",password:""}),[g,y]=b.useState(""),[v,N]=b.useState(""),[w,E]=b.useState(!1),{authFetch:C}=Ye();b.useEffect(()=>{if(!s){N("Missing invite token."),f(!1);return}(async()=>{try{const D=localStorage.getItem("accessToken"),V=await at.post(`${pe}/invite/invite/validate`,{token:s},{headers:{Authorization:`Bearer ${D}`}});x(L=>({...L,email:V.data.email})),h(!0)}catch(D){N(D.response?.data?.error||"Failed to validate invite link.")}f(!1)})()},[s]);const k=async A=>{if(A.preventDefault(),N(""),p.password!==g){N("Passwords do not match.");return}l(!0);try{await at.post(`${pe}/invite/invite/register`,{token:s,name:p.name,password:p.password}),E(!0)}catch(D){N(D.response?.data?.error||"Failed to complete registration.")}l(!1)};return c?a.jsx("p",{children:"Validating invite link"}):v?a.jsx("p",{className:"text-red-500",children:v}):d?w?a.jsx("p",{className:"text-green-500",children:"Invite accepted! You can now login."}):a.jsx("div",{className:"min-h-screen flex items-center justify-center theme-bg-primary p-4",children:a.jsxs("form",{onSubmit:k,className:"theme-bg-card shadow-xl rounded-lg p-6 w-full max-w-md space-y-4",children:[a.jsx("h2",{className:"text-xl font-semibold theme-text-primary",children:"Accept Invite"}),a.jsxs("div",{children:[a.jsx("label",{className:"theme-text-secondary block mb-1 text-sm font-medium",children:"Name"}),a.jsx("input",{type:"text",value:p.name,onChange:A=>x({...p,name:A.target.value}),required:!0,className:"w-full border border-gray-500 hover:border-blue-600 rounded-lg px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-sm font-medium theme-text-secondary",children:"Password"}),a.jsx("input",{type:"password",value:p.password,onChange:A=>x({...p,password:A.target.value}),required:!0,className:"w-full border border-gray-500 rounded-lg px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-1 text-sm font-medium theme-text-secondary",children:"Confirm Password"}),a.jsx("input",{type:"password",value:g,onChange:A=>y(A.target.value),required:!0,className:"w-full border border-gray-500 rounded-lg px-3 py-2"})]}),a.jsx("button",{type:"submit",disabled:i,className:`w-full py-2 rounded-lg text-white ${i?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:i?"Submitting...":"Submit"})]})}):a.jsx("p",{children:"Invalid invite link."})};function ZC(){const t=ho();return b.useEffect(()=>{const s=new URL(window.location.href),i=s.searchParams.get("code"),l=s.searchParams.get("state");console.log("Received code:",i),console.log("Received state:",l),!(!i||!l)&&fetch(`${pe}/callback?code=`+i+"&state="+l,{method:"GET",credentials:"include"}).then(()=>{t("/pinterest/success")}).catch(c=>console.error("Callback error:",c))},[]),a.jsx("div",{children:"Processing Pinterest login"})}const QC=()=>{const{authFetch:t}=Ye(),[s,i]=b.useState("974396138068771971"),[l,c]=b.useState([]),[f,d]=b.useState(!1),[h,p]=b.useState(null),[x,g]=b.useState(!1),y=async()=>{d(!0),p(null);try{const w=await(await t(`${pe}/pinterest/boards/${s}/pins`)).json();c(w.items||[])}catch(N){p(N.message),console.error("Error loading pins:",N)}finally{d(!1)}},v=async()=>{g(!0);try{console.log("Importing pins:",l),alert(`Would import ${l.length} pins to inspiration section`)}catch(N){console.error("Error importing pins:",N)}finally{g(!1)}};return b.useEffect(()=>{y()},[]),a.jsx("div",{className:"min-h-screen theme-bg-primary theme-text-primary p-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Pinterest Board Imports"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Test page for previewing and importing Pinterest board pins"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center mb-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium mb-1",children:"Board ID"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:s,onChange:N=>i(N.target.value),className:"flex-1 border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 theme-bg-secondary",placeholder:"Enter Pinterest board ID"}),a.jsx("button",{onClick:y,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:f?"Loading...":"Load Pins"})]})]}),a.jsx("button",{onClick:v,disabled:f||l.length===0||x,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 whitespace-nowrap",children:x?"Importing...":`Import All (${l.length})`})]})]}),l.length>0&&a.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-700",children:l.length}),a.jsx("div",{className:"text-sm text-blue-600",children:"Total Pins"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-700",children:l.filter(N=>N.media?.media_type==="image").length}),a.jsx("div",{className:"text-sm text-green-600",children:"Images"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-700",children:new Set(l.map(N=>N.board_id)).size}),a.jsx("div",{className:"text-sm text-purple-600",children:"Unique Boards"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-700",children:l.filter(N=>N.description).length}),a.jsx("div",{className:"text-sm text-orange-600",children:"With Descriptions"})]})]})}),h&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),a.jsxs("span",{children:["Error: ",h]})]})}),f&&a.jsxs("div",{className:"flex justify-center items-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),a.jsx("span",{className:"ml-3",children:"Loading pins from Pinterest..."})]}),!f&&l.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Pins Preview (",l.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:l.map(N=>{const w=N.media?.images?.["400x300"]?.url||N.media?.images?.["150x150"]?.url||N.media?.images?.["600x"]?.url;return a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow theme-bg-secondary",children:[a.jsxs("div",{className:"relative h-48 overflow-hidden bg-gray-100",children:[w?a.jsx("img",{src:w,alt:N.title||"Pinterest pin",className:"w-full h-full object-cover",onError:E=>{E.target.onerror=null,E.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgdmlld0JveD0iMCAwIDQwMCAzMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjQwMCIgaGVpZ2h0PSIzMDAiIGZpbGw9IiNFRUVFRUUiLz48dGV4dCB4PSIyMDAiIHk9IjE1MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSIjOTk5IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2UgTm90IEF2YWlsYWJsZTwvdGV4dD48L3N2Zz4="}}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-red-50 to-red-100",children:a.jsx("svg",{className:"w-12 h-12 text-red-300",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.174-.105-.949-.199-2.403.042-3.441.219-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.402.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.357-.629-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24.009 12.017 24.009c6.624 0 11.99-5.367 11.99-11.988C24.007 5.367 18.641.001 12.017 0z"})})}),a.jsx("div",{className:"absolute top-2 right-2 bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Pin"})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-sm mb-2 line-clamp-2",children:N.title||"Untitled Pin"}),N.description&&a.jsx("p",{className:"text-xs text-gray-600 mb-3 line-clamp-3",children:N.description}),a.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-500",children:[N.created_at&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),new Date(N.created_at).toLocaleDateString()]}),N.board_owner?.username&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),N.board_owner.username]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-xs text-gray-400 truncate",children:["ID: ",N.id]}),a.jsx("a",{href:N.link||`https://pinterest.com/pin/${N.id}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800",children:"Open "})]})})]})]},N.id)})})]}),!f&&l.length===0&&!h&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z",clipRule:"evenodd"})}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"No pins found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Try loading a different board ID"}),a.jsx("div",{className:"flex gap-3 justify-center",children:a.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Reload"})})]}),l.length>0&&a.jsx("div",{className:"mt-8",children:a.jsxs("details",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("summary",{className:"px-4 py-3 bg-gray-50 cursor-pointer font-medium",children:"View API Response (Debug)"}),a.jsxs("div",{className:"p-4 bg-gray-900 text-gray-100 text-sm overflow-auto max-h-64",children:[a.jsx("pre",{children:JSON.stringify(l.slice(0,2),null,2)}),l.length>2&&a.jsxs("div",{className:"mt-2 text-gray-400",children:["... and ",l.length-2," more pins"]})]})]})})]})})},IC=({projects:t,onAddProject:s,onLoginClick:i,onSearch:l,onFilter:c,searchTerm:f,projectsloading:d,error:h,activeProjectsCount:p,onDeleteProject:x,onEditProject:g})=>{const{showMessage:y,showConfirmation:v}=ct(),[N,w]=b.useState("all"),{authFetch:E}=Ye(),C=async A=>{console.log("Project ID received:",A),console.log("Project objects:",t.find(L=>L.id===A));const V=t.find(L=>L.id===A)?.title||"this project";v("Delete Project",`Are you sure you want to delete "${V}"? This action cannot be undone`,async()=>{try{console.log("Deleting project:",A);const L=await E(`${pe}/projects/projects/${A}`,{method:"DELETE"});if(L.ok)x(A),y(`Project "${V}" deleted successfully!`,"success");else{const U=await L.text();throw new Error(`Failed to delete project: ${U}`)}}catch(L){throw console.error("Error deleting project:",L),y(`Failed to delete project "${V}": `+L.message,"error"),L}})},k=A=>{w(A),c(A)};return d?a.jsxs(a.Fragment,{children:[a.jsx(od,{onNewProjectClick:s,onLoginClick:i,activeProjectsCount:p}),a.jsx(cd,{onSearch:l,onFilter:k,currentFilter:N}),a.jsxs("div",{className:"flex justify-center items-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-300"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Loading projects..."})]})]}):h?a.jsxs(a.Fragment,{children:[a.jsx(od,{onNewProjectClick:s,onLoginClick:i,activeProjectsCount:p}),a.jsx(cd,{onSearch:l,onFilter:k,currentFilter:N}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-red-400 text-6xl mb-4"}),a.jsx("h3",{className:"text-lg font-medium theme-text-primary mb-2",children:"Failed to load projects"}),a.jsx("p",{className:"text-gray-500",children:h})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(od,{onNewProjectClick:s,onLoginClick:i,activeProjectsCount:p}),a.jsx(cd,{onSearch:l,onFilter:k,currentFilter:N}),a.jsx("div",{className:"mt-2 h-screen overflow-y-auto whitespace-nowrap scrollbar-hidden",children:a.jsx("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.length===0?a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4"}),a.jsx("h3",{className:"text-lg font-medium theme-text-primary mb-2",children:f?"No projects found":"No projects yet"}),a.jsx("p",{className:"text-gray-500",children:f?"Try adjusting your search terms":"Create your first project to get started"})]}):t.map(A=>a.jsx(U3,{project:A,onDelete:C,onEdit:g},A.id))})})]})},WC=()=>{const{user:t,openAuthModal:s,authFetch:i,loading:l}=Ye(),[c,f]=b.useState([]),[d,h]=b.useState(!1),[p,x]=b.useState(!0),[g,y]=b.useState(""),[v,N]=b.useState(""),[w,E]=b.useState(!1),[C,k]=b.useState(null),[A,D]=b.useState("all"),[V,L]=b.useState(!1),{showMessage:U}=ct(),z=c.filter(Q=>Q.status!=="completed").length;b.useEffect(()=>{const Q=()=>{const M=new URLSearchParams(window.location.search).get("token"),O=window.location.pathname;M&&(O==="/reset-password"?(console.log(" Reset password token found, opening ForgotPasswordModal"),L(!0)):O==="/invite/accept"&&console.log(" Invite token found, redirecting to InviteAccept component"))};return Q(),window.addEventListener("popstate",Q),()=>{window.removeEventListener("popstate",Q)}},[]),b.useEffect(()=>{t&&!l&&(async()=>{try{x(!0),y("");const S=await i(`${pe}/projects/projects`);if(console.log("Response status:",S.status),!S.ok)throw new Error(`Failed to load projects: ${S.status} ${S.statusText}`);const M=await S.json();let O=[];if(Array.isArray(M)?O=M:M&&Array.isArray(M.data)?O=M.data:M&&Array.isArray(M.projects)?O=M.projects:M&&typeof M=="object"&&(console.log("Object keys:",Object.keys(M)),(M.id||M.project_id)&&(O=[M])),!Array.isArray(O))throw new Error("Invalid response format: projects data is not an array");const se=O.map(J=>({id:J.id||J.project_id,title:J.project_name||J.title,assignee:J.client_name||J.assignee||"",status:J.status||"open",docDate:J.end_date?new Date(J.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):J.due_date?new Date(J.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No date",isOverdue:J.is_overdue||!1,cardsCount:J.cards_count||0,location:J.location||"No location",updated:J.updated_at?new Date(J.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Recently",description:J.project_description||J.description}));f(se)}catch(S){console.error("Error fetching projects:",S),y(S.message),f([])}finally{x(!1)}})()},[t,l]);const q=async Q=>{f(S=>S.filter(M=>M.id!==Q))},te=()=>h(!0),ce=()=>h(!1),$=async Q=>{try{console.log("Raw backend response received:",Q);const S=await i(`${pe}/projects/projects`);if(!S.ok)throw new Error(`Failed to load projects: ${S.status}`);const M=await S.json();console.log("Refreshed projects from API:",M);let O=[];Array.isArray(M)?O=M:M&&Array.isArray(M.data)?O=M.data:M&&Array.isArray(M.projects)?O=M.projects:M&&typeof M=="object"&&(M.id||M.project_id)&&(O=[M]);const se=O.map(J=>({id:J.id||J.project_id,title:J.project_name||J.title,assignee:J.client_name||J.assignee,status:J.status||"open",docDate:J.end_date?new Date(J.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):J.due_date?new Date(J.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No date",isOverdue:J.is_overdue||!1,cardsCount:J.cards_count||0,location:J.location||"No location",updated:J.updated_at?new Date(J.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Recently",description:J.project_description||J.description}));f(se),U("Project created successfully!","success")}catch(S){console.error("Error processing saved project:",S),U(`Failed to add project to list: ${S.message}`,"error")}},G=async Q=>{try{const S=await i(`${pe}/projects/projects`);if(!S.ok)throw new Error(`Failed to load projects: ${S.status}`);const M=await S.json();let O=[];Array.isArray(M)?O=M:M&&Array.isArray(M.data)?O=M.data:M&&Array.isArray(M.projects)?O=M.projects:M&&typeof M=="object"&&(M.id||M.project_id)&&(O=[M]);const se=O.map(J=>({id:J.id||J.project_id,title:J.project_name||J.title,assignee:J.client_name||J.assignee||"",status:J.status||"open",docDate:J.end_date?new Date(J.end_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):J.due_date?new Date(J.due_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"No date",isOverdue:J.is_overdue||!1,cardsCount:J.cards_count||0,location:J.location||"No location",updated:J.updated_at?new Date(J.updated_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"Recently",description:J.project_description||J.description}));f(se),U("Project updated successfully!","success")}catch(S){U(`Failed to update project: ${S.message}`,"error")}},ae=Q=>{D(Q)},ee=Q=>{k(Q),console.log(" Project data when editing:",Q),console.log(" Assignee value:",Q.assignee),console.log(" Client name from backend:",Q.client_name),E(!0)},de=()=>{E(!1),k(null)},R=Q=>{N(Q)},F=c.filter(S=>{if(v.trim()){const M=v.toLowerCase().trim();if(!(S.title&&S.title.toLowerCase().includes(M)||S.assignee&&S.assignee.toLowerCase().includes(M)||S.location&&S.location.toLowerCase().includes(M)||S.description&&S.description.toLowerCase().includes(M)))return!1}return A!=="all"?S.status===A:!0}).sort((S,M)=>S.title.localeCompare(M.title));return a.jsx("div",{className:"min-h-screen bg-cover bg-center theme-bg-primary text-size",children:a.jsxs("div",{className:"mx-auto md:px-4 md:py-8 px-2 py-4",children:[l&&a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"theme-text-primary",children:"Checking authentication..."})]})}),!t&&!l&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex md:justify-between justify-center items-center p-6",children:[a.jsx(ks,{to:"/",className:" md:text-2xl text-6xl font-bold theme-text-primary",children:"SiteCards"}),a.jsx("button",{onClick:s,className:"px-4 py-2  theme-border theme-text-primary hidden sm:inline-block theme-bg-secondary border rounded-lg",children:"Login"})]}),a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl font-bold theme-text-primary mb-4",children:"Welcome to SiteCards"}),a.jsx("p",{className:"theme-text-secondary mb-6",children:"Please login or register to access your projects"}),a.jsx("button",{onClick:s,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Get Started"})]})})]}),t&&!l&&a.jsxs(a.Fragment,{children:[a.jsxs(aj,{children:[a.jsx(Dn,{path:"/",element:a.jsx(IC,{projects:F,onAddProject:te,onSearch:R,onFilter:ae,searchTerm:v,projectsloading:p,error:g,activeProjectsCount:z,onDeleteProject:q,onEditProject:ee})}),a.jsx(Dn,{path:"/project/:id",element:a.jsx(f5,{projects:c})}),a.jsx(Dn,{path:"/templates",element:a.jsx(g5,{})}),a.jsx(Dn,{path:"/debug/auth",element:a.jsx(y5,{})}),a.jsx(Dn,{path:"/reset-password",element:a.jsx(Bd,{})}),a.jsx(Dn,{path:"/invite/accept",element:a.jsx(KC,{})}),a.jsx(Dn,{path:"/pinterest/callback",element:a.jsx(ZC,{})}),a.jsx(Dn,{path:"vendors",element:a.jsx(R3,{})}),a.jsx(Dn,{path:"/test-boards",element:a.jsx(QC,{})})]}),a.jsx(m5,{isOpen:d,onClose:ce,onSave:$}),a.jsx(x5,{isOpen:w,onClose:de,project:C,onSave:G})]}),a.jsx(h5,{}),a.jsx(Bd,{isOpen:V,onClose:()=>L(!1),initialEmail:""})]})})};function JC(){return a.jsx(Ej,{children:a.jsx(zj,{children:a.jsx(Hj,{children:a.jsx($j,{children:a.jsx(WC,{})})})})})}m1.createRoot(document.getElementById("root")).render(a.jsx($d.StrictMode,{children:a.jsx(JC,{})}));
